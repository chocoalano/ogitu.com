import{_ as G}from"./FormField-qFQ_28ZO.js";import{_ as Q}from"./ColorModeButton-Bf7Nr8w3.js";import{_ as R}from"./Modal-Bgd8PL5Y.js";import{_ as X}from"./Switch-sBWkdoVy.js";import{_ as Y}from"./Badge-DfumusWV.js";import{_ as Z}from"./DropdownMenu-DxuVXSbh.js";import{_ as ee}from"./Card-BjL1m_sW.js";import{a as te,_ as se}from"./Button-CI_-soaG.js";import{_ as ae}from"./Alert-CrKiQ9oh.js";import{d as ne,h as A,C as N,c as le,a as r,f as l,b as e,u as f,i as oe,j as o,e as C,w as d,l as w,F as _,t as i,r as k,o as n,J as M,k as D,n as ie}from"./app-CyjtdGoI.js";import{A as re}from"./admin-BzR6vrex.js";import"./Label-yeknIWsP.js";import"./useFormControl-D_pV87FU.js";import"./VisuallyHiddenInput-BGOu5NlX.js";import"./Tooltip-BrTR-Vq7.js";const de={class:"space-y-6"},ce={class:"flex items-center justify-between"},me={class:"flex items-center gap-4"},ue={class:"p-3 bg-primary-50 dark:bg-primary-900/20 rounded-lg"},ge={class:"font-medium text-gray-900 dark:text-white"},pe={class:"text-sm text-gray-500 dark:text-gray-400"},fe={key:0,class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},_e={class:"space-y-4"},ye={class:"flex items-start justify-between"},ve={class:"flex items-center gap-3"},xe={class:"w-12 h-12 rounded-lg bg-gray-100 dark:bg-gray-800 p-1 shrink-0 relative"},he=["src","alt"],ke={class:"font-semibold text-gray-900 dark:text-white"},be={class:"text-xs text-gray-500 uppercase"},Ae={class:"flex items-center gap-2"},Ce={class:"space-y-2"},we={class:"flex flex-wrap gap-1"},Ue={key:0,class:"text-xs text-gray-400"},$e={key:2},je={class:"grid gap-4 md:grid-cols-3 lg:grid-cols-4"},Ve={class:"flex flex-col items-center text-center"},Ee={class:"w-16 h-16 rounded-lg bg-gray-100 dark:bg-gray-800 p-2 mb-3 shrink-0 relative"},ze=["src","alt"],Se={class:"font-medium text-gray-900 dark:text-white"},Be={class:"text-xs text-gray-500"},Ne={class:"flex items-center gap-3"},Me={class:"w-10 h-10 rounded bg-gray-100 dark:bg-gray-800 p-1 shrink-0 flex items-center justify-center"},De=["src","alt"],Fe={key:1,class:"text-sm font-bold text-gray-500 dark:text-gray-400"},Le={class:"text-lg font-semibold"},Te={class:"p-4 space-y-4"},Pe={class:"space-y-2"},Ie={class:"space-y-2"},He={class:"font-medium text-gray-900 dark:text-white"},Ke={class:"text-sm text-gray-500"},Je={class:"flex justify-end gap-3"},Oe={class:"text-lg font-semibold"},We={class:"p-4 space-y-4"},qe={class:"space-y-2"},Ge={class:"space-y-2"},Qe={class:"font-medium text-gray-900 dark:text-white"},Re={class:"text-sm text-gray-500"},Xe={class:"flex justify-end gap-3"},gt=ne({layout:re,__name:"index",props:{couriers:{},availableCouriers:{},defaultAddress:{}},setup(F){const m=F,v=A(!1),x=A(!1),h=A(null),y=A(null),p=N({code:"",name:"",logo:"",description:"",services:[]}),u=N({name:"",description:"",services:[],isActive:!0}),V=le(()=>{const a=m.couriers.map(s=>s.code);return m.availableCouriers.filter(s=>!a.includes(s.code))}),L=a=>{y.value=a,p.code=a.code,p.name=a.name,p.logo=a.logo,p.description="",p.services=a.services.map(s=>({code:s.code,name:s.name,enabled:!0})),v.value=!0},T=a=>{h.value=a,u.name=a.name,u.description=a.description||"",u.services=[...a.services],u.isActive=a.isActive,x.value=!0},P=()=>{p.post("/admin/settings/shipping/courier",{onSuccess:()=>{v.value=!1,p.reset(),y.value=null}})},I=()=>{h.value&&u.put(`/admin/settings/shipping/courier/${h.value.id}`,{onSuccess:()=>{x.value=!1,u.reset(),h.value=null}})},H=a=>{w.post(`/admin/settings/shipping/courier/${a.id}/toggle`)},K=a=>{confirm(`Hapus kurir "${a.name}" dari daftar?`)&&w.delete(`/admin/settings/shipping/courier/${a.id}`)},U=a=>{const s=m.availableCouriers.find(c=>c.code===a.code);return a.logo||s?.logo||void 0},$=a=>a.split(" ").map(s=>s[0]).join("").toUpperCase().slice(0,2),j=a=>{const s=a.target;s.style.display="none";const c=s.nextElementSibling;c&&(c.style.display="flex")};return(a,s)=>{const c=te,J=ae,E=se,b=ee,O=Z,z=Y,S=X,B=R,W=Q,q=G;return n(),r(_,null,[l(f(oe),{title:"Pengaturan Pengiriman"}),e("div",de,[o(" Header "),s[15]||(s[15]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Pengaturan Pengiriman"),e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Kelola kurir dan layanan pengiriman yang tersedia ")],-1)),o(" Default Address Warning "),m.defaultAddress?(n(),r(_,{key:1},[o(" Default Address Info "),l(b,null,{default:d(()=>[e("div",ce,[e("div",me,[e("div",ue,[l(E,{name:"i-heroicons-map-pin",class:"w-6 h-6 text-primary-500"})]),e("div",null,[e("h3",ge," Alamat Pengiriman: "+i(m.defaultAddress.name),1),e("p",pe,i(m.defaultAddress.districtName)+", "+i(m.defaultAddress.cityName)+", "+i(m.defaultAddress.provinceName),1)])]),l(c,{size:"sm",color:"neutral",variant:"outline",label:"Ubah",onClick:s[1]||(s[1]=t=>f(w).visit("/admin/settings/address"))})])]),_:1})],2112)):(n(),C(J,{key:0,icon:"i-heroicons-exclamation-triangle",color:"warning",title:"Alamat Belum Diatur",description:"Anda perlu menambahkan alamat gudang/toko terlebih dahulu untuk menghitung ongkos kirim."},{actions:d(()=>[l(c,{size:"sm",color:"warning",variant:"outline",label:"Atur Alamat",onClick:s[0]||(s[0]=t=>f(w).visit("/admin/settings/address"))})]),_:1})),o(" Active Couriers "),e("div",null,[s[10]||(s[10]=e("div",{class:"flex items-center justify-between mb-4"},[e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Kurir Aktif")],-1)),m.couriers.length>0?(n(),r("div",fe,[(n(!0),r(_,null,k(m.couriers,t=>(n(),C(b,{key:t.id,class:ie([t.isActive?"":"opacity-60"])},{default:d(()=>[e("div",_e,[o(" Header "),e("div",ye,[e("div",ve,[e("div",xe,[U(t)?(n(),r("img",{key:0,src:U(t),alt:t.name,class:"w-full h-full object-contain",onError:j},null,40,he)):o("v-if",!0),e("div",{class:"w-full h-full items-center justify-center text-sm font-bold text-gray-500 dark:text-gray-400",style:M({display:U(t)?"none":"flex"})},i($(t.name)),5)]),e("div",null,[e("h3",ke,i(t.name),1),e("p",be,i(t.code),1)])]),l(O,{items:[[{label:"Edit Layanan",icon:"i-heroicons-pencil",click:()=>T(t)},{label:t.isActive?"Nonaktifkan":"Aktifkan",icon:t.isActive?"i-heroicons-eye-slash":"i-heroicons-eye",click:()=>H(t)}],[{label:"Hapus",icon:"i-heroicons-trash",color:"error",click:()=>K(t)}]]},{default:d(()=>[l(c,{icon:"i-heroicons-ellipsis-vertical",color:"neutral",variant:"ghost",size:"sm"})]),_:1},8,["items"])]),o(" Status "),e("div",Ae,[l(z,{color:t.isActive?"success":"neutral",size:"sm"},{default:d(()=>[D(i(t.isActive?"Aktif":"Nonaktif"),1)]),_:2},1032,["color"])]),o(" Services "),e("div",Ce,[s[7]||(s[7]=e("p",{class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Layanan",-1)),e("div",we,[(n(!0),r(_,null,k(t.services,g=>(n(),r(_,{key:g.code},[g.enabled?(n(),C(z,{key:0,color:"primary",variant:"soft",size:"xs"},{default:d(()=>[D(i(g.code),1)]),_:2},1024)):o("v-if",!0)],64))),128)),t.services.filter(g=>g.enabled).length===0?(n(),r("span",Ue," Tidak ada layanan aktif ")):o("v-if",!0)])])])]),_:2},1032,["class"]))),128))])):(n(),r(_,{key:1},[o(" Empty Active Couriers "),l(b,{class:"text-center py-8"},{default:d(()=>[l(E,{name:"i-heroicons-truck",class:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s[8]||(s[8]=e("h3",{class:"font-medium text-gray-900 dark:text-white mb-2"},"Belum ada kurir aktif",-1)),s[9]||(s[9]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Tambahkan kurir dari daftar di bawah ",-1))]),_:1})],2112))]),o(" Available Couriers to Add "),V.value.length>0?(n(),r("div",$e,[s[11]||(s[11]=e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Tambah Kurir",-1)),e("div",je,[(n(!0),r(_,null,k(V.value,t=>(n(),C(b,{key:t.code,class:"cursor-pointer hover:ring-2 hover:ring-primary-500 transition-all",onClick:g=>L(t)},{default:d(()=>[e("div",Ve,[e("div",Ee,[t.logo?(n(),r("img",{key:0,src:t.logo,alt:t.name,class:"w-full h-full object-contain",onError:j},null,40,ze)):o("v-if",!0),e("div",{class:"w-full h-full items-center justify-center text-lg font-bold text-gray-500 dark:text-gray-400",style:M({display:t.logo?"none":"flex"})},i($(t.name)),5)]),e("h3",Se,i(t.name),1),e("p",Be,i(t.services.length)+" layanan",1)])]),_:2},1032,["onClick"]))),128))])])):o("v-if",!0),o(" Add Courier Modal "),l(B,{open:v.value,"onUpdate:open":s[3]||(s[3]=t=>v.value=t),ui:{overlay:"z-[100]",content:"z-[100]"}},{header:d(()=>[e("div",Ne,[e("div",Me,[y.value?.logo?(n(),r("img",{key:0,src:y.value.logo,alt:y.value.name,class:"w-full h-full object-contain",onError:j},null,40,De)):(n(),r("span",Fe,i(y.value?$(y.value.name):""),1))]),e("div",null,[e("h3",Le,"Tambah "+i(y.value?.name),1),s[12]||(s[12]=e("p",{class:"text-sm text-gray-500"},"Pilih layanan yang ingin diaktifkan",-1))])])]),footer:d(()=>[e("div",Je,[l(c,{color:"neutral",variant:"outline",label:"Batal",onClick:s[2]||(s[2]=t=>v.value=!1)}),l(c,{color:"primary",label:"Tambah Kurir",loading:f(p).processing,onClick:P},null,8,["loading"])])]),default:d(()=>[e("div",Te,[o(" Services "),e("div",Pe,[s[13]||(s[13]=e("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Layanan",-1)),e("div",Ie,[(n(!0),r(_,null,k(f(p).services,t=>(n(),r("div",{key:t.code,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},[e("div",null,[e("p",He,i(t.code),1),e("p",Ke,i(t.name),1)]),l(S,{modelValue:t.enabled,"onUpdate:modelValue":g=>t.enabled=g},null,8,["modelValue","onUpdate:modelValue"])]))),128))])])])]),_:1},8,["open"]),o(" Edit Courier Modal "),l(B,{open:x.value,"onUpdate:open":s[6]||(s[6]=t=>x.value=t),ui:{overlay:"z-[100]",content:"z-[100]"}},{header:d(()=>[e("h3",Oe,"Edit "+i(h.value?.name),1)]),footer:d(()=>[e("div",Xe,[l(c,{color:"neutral",variant:"outline",label:"Batal",onClick:s[5]||(s[5]=t=>x.value=!1)}),l(c,{color:"primary",label:"Simpan",loading:f(u).processing,onClick:I},null,8,["loading"])])]),default:d(()=>[e("div",We,[o(" Description "),l(q,{label:"Deskripsi (Opsional)"},{default:d(()=>[l(W,{modelValue:f(u).description,"onUpdate:modelValue":s[4]||(s[4]=t=>f(u).description=t),placeholder:"Catatan untuk kurir ini"},null,8,["modelValue"])]),_:1}),o(" Services "),e("div",qe,[s[14]||(s[14]=e("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Layanan",-1)),e("div",Ge,[(n(!0),r(_,null,k(f(u).services,t=>(n(),r("div",{key:t.code,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},[e("div",null,[e("p",Qe,i(t.code),1),e("p",Re,i(t.name),1)]),l(S,{modelValue:t.enabled,"onUpdate:modelValue":g=>t.enabled=g},null,8,["modelValue","onUpdate:modelValue"])]))),128))])])])]),_:1},8,["open"])])],64)}}});export{gt as default};
