import{_ as D,a as q}from"./Button-CI_-soaG.js";import{d as V,a as i,j as a,b as e,f as r,t as c,n as S,u as y,k as C,m as J,w as R,o as l,F as B,r as E,e as G,h as N,c as O,q as fe,A as ae,y as F,x as ye,aG as he,a1 as ue,J as ke,Q as Z,R as de,D as we,i as _e,l as me}from"./app-CyjtdGoI.js";import{h as ce,_ as ve,g as $e}from"./ColorModeButton-Bf7Nr8w3.js";import{_ as Ce}from"./default.vue_vue_type_script_setup_true_lang-CxtMHnvj.js";import{u as K}from"./use_orders-e9pTVfVF.js";import{_ as se}from"./Modal-Bgd8PL5Y.js";import{_ as Se}from"./Checkbox-9qpvU9Db.js";import{_ as Re}from"./SelectMenu-DKAhKU-v.js";import{_ as Te}from"./Textarea-CZyY9J1c.js";import{u as Be}from"./use_midtrans-DxXkbUBo.js";import"./Badge-DfumusWV.js";import"./DropdownMenu-DxuVXSbh.js";import"./useFormControl-D_pV87FU.js";import"./VisuallyHiddenInput-BGOu5NlX.js";import"./Label-yeknIWsP.js";import"./index-v4g8wp86.js";const ge={pending_payment:{label:"Menunggu Bayar",color:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",icon:"i-heroicons-clock"},paid:{label:"Dibayar",color:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",icon:"i-heroicons-check-circle"},processing:{label:"Diproses",color:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400",icon:"i-heroicons-cog-6-tooth"},shipped:{label:"Dikirim",color:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",icon:"i-heroicons-truck"},delivered:{label:"Selesai",color:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400",icon:"i-heroicons-check-badge"},cancelled:{label:"Dibatalkan",color:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",icon:"i-heroicons-x-circle"}},ne={topup:{label:"Top Up",color:"text-emerald-500",icon:"i-heroicons-arrow-down-circle"},withdrawal:{label:"Penarikan",color:"text-red-500",icon:"i-heroicons-arrow-up-circle"},commission:{label:"Komisi",color:"text-blue-500",icon:"i-heroicons-gift"},payment:{label:"Pembayaran",color:"text-orange-500",icon:"i-heroicons-shopping-cart"},refund:{label:"Refund",color:"text-purple-500",icon:"i-heroicons-arrow-path"},cashback:{label:"Cashback",color:"text-pink-500",icon:"i-heroicons-sparkles"}},pe={pending:{label:"Pending",color:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"},approved:{label:"Disetujui",color:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"},paid:{label:"Dibayar",color:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400"},cancelled:{label:"Dibatalkan",color:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}},be={1:{linear:"from-cyan-400 to-blue-500",bg:"bg-cyan-500/20",text:"text-cyan-400"},2:{linear:"from-purple-400 to-pink-500",bg:"bg-purple-500/20",text:"text-purple-400"},3:{linear:"from-amber-400 to-orange-500",bg:"bg-amber-500/20",text:"text-amber-400"}},le={active:{gradient:"bg-linear-to-br from-emerald-500 to-cyan-500",badge:"bg-emerald-400",text:"text-emerald-400"},inactive:{gradient:"bg-linear-to-br from-gray-500 to-gray-600",badge:"bg-gray-500",text:"text-gray-400"},prospect:{gradient:"bg-linear-to-br from-amber-500 to-orange-500",badge:"bg-amber-400",text:"text-amber-400"}},xe={"vapor-newbie":{icon:"i-lucide-flame",gradient:"from-slate-400 via-slate-500 to-slate-600",bg:"bg-slate-100 dark:bg-slate-800/50",text:"text-slate-700 dark:text-slate-300",border:"border-slate-400"},"vapor-active":{icon:"i-lucide-zap",gradient:"from-blue-400 via-cyan-500 to-teal-500",bg:"bg-cyan-100 dark:bg-cyan-900/30",text:"text-cyan-700 dark:text-cyan-400",border:"border-cyan-500"},"vapor-pro":{icon:"i-lucide-crown",gradient:"from-amber-400 via-orange-500 to-red-500",bg:"bg-orange-100 dark:bg-orange-900/30",text:"text-orange-700 dark:text-orange-400",border:"border-orange-500"},bronze:{icon:"i-lucide-medal",gradient:"from-amber-600 to-orange-700",bg:"bg-amber-100 dark:bg-amber-900/30",text:"text-amber-700 dark:text-amber-400",border:"border-amber-500"},silver:{icon:"i-lucide-award",gradient:"from-gray-400 to-gray-600",bg:"bg-gray-100 dark:bg-gray-700/50",text:"text-gray-700 dark:text-gray-300",border:"border-gray-400"},gold:{icon:"i-lucide-trophy",gradient:"from-yellow-400 to-amber-500",bg:"bg-yellow-100 dark:bg-yellow-900/30",text:"text-yellow-700 dark:text-yellow-400",border:"border-yellow-500"},platinum:{icon:"i-lucide-crown",gradient:"from-cyan-400 to-blue-500",bg:"bg-cyan-100 dark:bg-cyan-900/30",text:"text-cyan-700 dark:text-cyan-400",border:"border-cyan-500"},diamond:{icon:"i-lucide-gem",gradient:"from-violet-500 to-purple-600",bg:"bg-violet-100 dark:bg-violet-900/30",text:"text-violet-700 dark:text-violet-400",border:"border-violet-500"}},ie=s=>ge[s]||ge.pending_payment,W=s=>xe[s]||xe["vapor-newbie"],Ne={class:"relative mb-8 p-6 sm:p-8 bg-white dark:bg-gray-800/80 rounded-3xl border border-gray-200/80 dark:border-gray-700/50 overflow-hidden"},Ie={class:"relative flex flex-col sm:flex-row items-start sm:items-center gap-6"},Ae={class:"relative"},je={class:"w-20 h-20 sm:w-24 sm:h-24 rounded-2xl bg-linear-to-br from-primary-500 to-secondary-600 flex items-center justify-center shadow-xl shadow-primary-500/30"},Me={key:0,class:"text-3xl sm:text-4xl font-bold text-white"},Pe=["src","alt"],Le={key:0,class:"absolute -bottom-1 -right-1 w-7 h-7 bg-emerald-500 rounded-full flex items-center justify-center ring-4 ring-white dark:ring-gray-800"},Ve={class:"flex-1"},Ee={class:"flex flex-wrap items-center gap-3 mb-2"},De={class:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white"},Ue={class:"text-gray-500 dark:text-gray-400 mb-3"},Oe={key:0,class:"hidden sm:inline"},ze={class:"flex flex-wrap items-center gap-3"},Xe={class:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400"},He={class:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400"},Fe=V({__name:"WelcomeHeader",props:{customer:{},stats:{},currentRank:{}},emits:["openRankDialog"],setup(s,{emit:_}){const b=_,{formatPrice:h}=K();return(m,g)=>{const u=D,d=q;return l(),i("div",Ne,[a(" Decorative Background "),g[2]||(g[2]=e("div",{class:"absolute inset-0 bg-linear-to-br from-primary-500/5 via-transparent to-secondary-500/5"},null,-1)),g[3]||(g[3]=e("div",{class:"absolute top-0 right-0 w-64 h-64 bg-primary-500/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"},null,-1)),e("div",Ie,[a(" Avatar "),e("div",Ae,[e("div",je,[s.customer.avatar?(l(),i("img",{key:1,src:s.customer.avatar,alt:s.customer.fullName,class:"w-full h-full object-cover rounded-2xl"},null,8,Pe)):(l(),i("span",Me,c(s.customer.fullName.charAt(0).toUpperCase()),1))]),a(" Verified Badge "),s.customer.isVerified?(l(),i("div",Le,[r(u,{name:"i-heroicons-check",class:"w-4 h-4 text-white"})])):a("v-if",!0)]),a(" Info "),e("div",Ve,[e("div",Ee,[e("h1",De," Selamat Datang, "+c(s.customer.fullName.split(" ")[0])+"! ðŸ‘‹ ",1),a(" Rank Badge "),s.currentRank?(l(),i("button",{key:0,onClick:g[0]||(g[0]=$=>b("openRankDialog")),class:S(["inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold transition-transform hover:scale-105",y(W)(s.currentRank.slug).bg,y(W)(s.currentRank.slug).text])},[r(u,{name:y(W)(s.currentRank.slug).icon,class:"w-4 h-4"},null,8,["name"]),C(" "+c(s.currentRank.name),1)],2)):a("v-if",!0)]),e("p",Ue,[C(c(s.customer.email)+" ",1),s.customer.phone?(l(),i("span",Oe," â€¢ "+c(s.customer.phone),1)):a("v-if",!0)]),e("div",ze,[e("span",Xe,[r(u,{name:"i-heroicons-shopping-bag",class:"w-3.5 h-3.5"}),C(" "+c(s.stats.totalOrders)+" Pesanan ",1)]),e("span",He,[r(u,{name:"i-heroicons-banknotes",class:"w-3.5 h-3.5"}),C(" "+c(y(h)(s.stats.totalSpent))+" Total Belanja ",1)])])]),a(" Edit Profile Button "),r(y(J),{href:"/profile",class:"hidden sm:flex"},{default:R(()=>[r(d,{variant:"outline",color:"primary"},{default:R(()=>[r(u,{name:"i-heroicons-pencil-square",class:"w-4 h-4 mr-2"}),g[1]||(g[1]=C(" Edit Profil ",-1))]),_:1})]),_:1})])])}}}),Ke={class:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-8"},We={class:"flex items-center justify-between mb-3"},Ge={class:"w-12 h-12 rounded-xl bg-linear-to-br from-primary-500/10 to-secondary-500/10 flex items-center justify-center group-hover:from-primary-500/20 group-hover:to-secondary-500/20 transition-all duration-300"},qe={key:0,class:"px-2.5 py-1 rounded-full text-xs font-bold bg-primary-100 text-primary-600 dark:bg-primary-900/30 dark:text-primary-400"},Je={class:"font-semibold text-gray-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors"},Qe=V({__name:"QuickActions",props:{stats:{},cartCount:{},wishlistCount:{},addressCount:{}},setup(s){const _=s,b=[{label:"Pesanan Saya",href:"/orders",icon:"i-heroicons-shopping-bag",count:_.stats.totalOrders},{label:"Keranjang",href:"/cart",icon:"i-heroicons-shopping-cart",count:_.cartCount},{label:"Wishlist",href:"/wishlist",icon:"i-heroicons-heart",count:_.wishlistCount},{label:"Alamat",href:"/addresses",icon:"i-heroicons-map-pin",count:_.addressCount}];return(h,m)=>{const g=D;return l(),i("div",Ke,[(l(),i(B,null,E(b,u=>r(y(J),{key:u.href,href:u.href,class:"group relative p-5 bg-white dark:bg-gray-800/80 rounded-2xl border border-gray-200/80 dark:border-gray-700/50 hover:border-primary-500/50 hover:shadow-xl hover:shadow-primary-500/10 transition-all duration-300"},{default:R(()=>[e("div",We,[e("div",Ge,[r(g,{name:u.icon,class:"w-6 h-6 text-primary-500"},null,8,["name"])]),u.count>0?(l(),i("span",qe,c(u.count),1)):a("v-if",!0)]),e("p",Je,c(u.label),1),r(g,{name:"i-heroicons-arrow-right",class:"absolute bottom-5 right-5 w-5 h-5 text-gray-300 dark:text-gray-600 group-hover:text-primary-500 group-hover:translate-x-1 transition-all duration-300"})]),_:2},1032,["href"])),64))])}}}),Ye={class:"mb-8"},Ze={class:"flex items-center justify-between mb-4"},et={class:"grid grid-cols-2 lg:grid-cols-4 gap-4"},tt={class:"relative"},at={class:"text-2xl font-bold text-gray-900 dark:text-white mb-1"},st={class:"text-sm text-gray-500 dark:text-gray-400"},rt=V({__name:"OrderStatusCards",props:{stats:{}},setup(s){const _=[{key:"pendingPayment",label:"Belum Bayar",icon:"i-heroicons-clock",color:"from-amber-500 to-orange-500",bgColor:"bg-amber-500/10"},{key:"processing",label:"Diproses",icon:"i-heroicons-cog-6-tooth",color:"from-indigo-500 to-purple-500",bgColor:"bg-indigo-500/10"},{key:"shipped",label:"Dikirim",icon:"i-heroicons-truck",color:"from-purple-500 to-pink-500",bgColor:"bg-purple-500/10"},{key:"delivered",label:"Selesai",icon:"i-heroicons-check-badge",color:"from-emerald-500 to-teal-500",bgColor:"bg-emerald-500/10"}];return(b,h)=>{const m=D;return l(),i("div",Ye,[e("div",Ze,[h[1]||(h[1]=e("h2",{class:"text-lg font-bold text-gray-900 dark:text-white"},"Status Pesanan",-1)),r(y(J),{href:"/orders",class:"text-sm text-primary-500 hover:text-primary-600 font-medium flex items-center gap-1"},{default:R(()=>[h[0]||(h[0]=C(" Lihat Semua ",-1)),r(m,{name:"i-heroicons-arrow-right",class:"w-4 h-4"})]),_:1})]),e("div",et,[(l(),i(B,null,E(_,g=>r(y(J),{key:g.key,href:`/orders?status=${g.key==="pendingPayment"?"pending_payment":g.key}`,class:"group relative p-5 bg-white dark:bg-gray-800/80 rounded-2xl border border-gray-200/80 dark:border-gray-700/50 hover:shadow-lg transition-all duration-300 overflow-hidden"},{default:R(()=>[a(" Background Glow "),e("div",{class:S(["absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300",g.bgColor])},null,2),e("div",tt,[e("div",{class:S(["w-10 h-10 rounded-xl bg-linear-to-br flex items-center justify-center mb-3",g.color])},[r(m,{name:g.icon,class:"w-5 h-5 text-white"},null,8,["name"])],2),e("p",at,c(s.stats[g.key]),1),e("p",st,c(g.label),1)])]),_:2},1032,["href"])),64))])])}}}),ot={class:"bg-white dark:bg-gray-800/80 rounded-2xl border border-gray-200/80 dark:border-gray-700/50 overflow-hidden"},nt={class:"px-5 py-4 border-b border-gray-100 dark:border-gray-700/50 flex items-center justify-between"},lt={class:"flex items-center gap-3"},it={class:"w-10 h-10 rounded-xl bg-linear-to-br from-blue-500/10 to-cyan-500/10 flex items-center justify-center"},dt={key:0,class:"divide-y divide-gray-100 dark:divide-gray-700/50"},ct={class:"w-14 h-14 rounded-xl bg-gray-100 dark:bg-gray-700 overflow-hidden shrink-0"},ut=["src","alt"],mt={key:1,class:"w-full h-full flex items-center justify-center"},gt={class:"flex-1 min-w-0"},pt={class:"flex items-center gap-2 mb-1"},bt={class:"font-semibold text-gray-900 dark:text-white text-sm truncate"},xt={class:"text-sm text-gray-500 dark:text-gray-400 truncate"},ft={key:0,class:"text-gray-400"},vt={class:"text-xs text-gray-400 dark:text-gray-500 mt-1"},yt={class:"text-right shrink-0"},ht={class:"font-bold text-gray-900 dark:text-white"},kt={class:"p-8 text-center"},wt={class:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gray-100 dark:bg-gray-700 flex items-center justify-center"},_t=V({__name:"RecentOrders",props:{orders:{}},setup(s){const{formatPrice:_,formatRelativeTime:b}=K();return(h,m)=>{const g=D,u=q;return l(),i("div",ot,[e("div",nt,[e("div",lt,[e("div",it,[r(g,{name:"i-heroicons-clock",class:"w-5 h-5 text-blue-500"})]),m[0]||(m[0]=e("h2",{class:"font-semibold text-gray-900 dark:text-white"},"Pesanan Terbaru",-1))]),r(y(J),{href:"/orders"},{default:R(()=>[r(u,{variant:"ghost",color:"primary",size:"sm"},{default:R(()=>[...m[1]||(m[1]=[C(" Lihat Semua ",-1)])]),_:1})]),_:1})]),s.orders.length>0?(l(),i("div",dt,[(l(!0),i(B,null,E(s.orders,d=>(l(),G(y(J),{key:d.id,href:`/orders/${d.id}`,class:"flex items-center gap-4 p-4 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors group"},{default:R(()=>[a(" Product Image "),e("div",ct,[d.firstItem?.image?(l(),i("img",{key:0,src:d.firstItem.image,alt:d.firstItem.name,class:"w-full h-full object-cover"},null,8,ut)):(l(),i("div",mt,[r(g,{name:"i-heroicons-photo",class:"w-6 h-6 text-gray-400"})]))]),a(" Order Info "),e("div",gt,[e("div",pt,[e("span",bt,c(d.orderNumber),1),e("span",{class:S(["inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium",y(ie)(d.status).color])},[r(g,{name:y(ie)(d.status).icon,class:"w-3 h-3"},null,8,["name"]),C(" "+c(y(ie)(d.status).label),1)],2)]),e("p",xt,[C(c(d.firstItem?.name||"Produk")+" ",1),d.itemCount>1?(l(),i("span",ft," +"+c(d.itemCount-1)+" lainnya",1)):a("v-if",!0)]),e("p",vt,c(y(b)(d.createdAt)),1)]),a(" Price "),e("div",yt,[e("p",ht,c(y(_)(d.total)),1),r(g,{name:"i-heroicons-chevron-right",class:"w-5 h-5 text-gray-300 dark:text-gray-600 group-hover:text-primary-500 transition-colors mt-1"})])]),_:2},1032,["href"]))),128))])):(l(),i(B,{key:1},[a(" Empty State "),e("div",kt,[e("div",wt,[r(g,{name:"i-heroicons-shopping-bag",class:"w-8 h-8 text-gray-400"})]),m[3]||(m[3]=e("h3",{class:"font-semibold text-gray-900 dark:text-white mb-2"},"Belum Ada Pesanan",-1)),m[4]||(m[4]=e("p",{class:"text-gray-500 dark:text-gray-400 text-sm mb-4"}," Mulai belanja dan temukan produk vape favoritmu! ",-1)),r(y(J),{href:"/collections"},{default:R(()=>[r(u,{color:"primary"},{default:R(()=>[r(g,{name:"i-heroicons-shopping-cart",class:"w-4 h-4 mr-2"}),m[2]||(m[2]=C(" Mulai Belanja ",-1))]),_:1})]),_:1})])],2112))])}}}),$t={class:"bg-white dark:bg-gray-800/80 rounded-2xl border border-gray-200/80 dark:border-gray-700/50 overflow-hidden"},Ct={class:"p-5 bg-linear-to-br from-emerald-500 to-teal-600 text-white"},St={class:"flex items-center justify-between mb-4"},Rt={class:"flex items-center gap-3"},Tt={class:"w-10 h-10 rounded-xl bg-white/20 flex items-center justify-center"},Bt={class:"text-3xl font-bold"},Nt={key:0,class:"mt-3 pt-3 border-t border-white/20"},It={class:"flex items-center justify-between text-sm"},At={class:"font-medium"},jt={class:"p-4"},Mt={key:0,class:"space-y-3"},Pt={class:"flex-1 min-w-0"},Lt={class:"text-sm font-medium text-gray-900 dark:text-white truncate"},Vt={class:"text-xs text-gray-400"},Et={key:1,class:"text-center py-4"},Dt=V({__name:"WalletCard",props:{wallet:{},transactions:{}},emits:["openTopup"],setup(s,{emit:_}){const b=_,{formatPrice:h,formatRelativeTime:m}=K();return(g,u)=>{const d=D,$=q;return l(),i("div",$t,[a(" Header with Balance "),e("div",Ct,[e("div",St,[e("div",Rt,[e("div",Tt,[r(d,{name:"i-heroicons-wallet",class:"w-5 h-5"})]),u[1]||(u[1]=e("span",{class:"font-semibold"},"E-Wallet",-1))]),r($,{size:"sm",color:"white",variant:"solid",onClick:u[0]||(u[0]=n=>b("openTopup"))},{default:R(()=>[r(d,{name:"i-heroicons-plus",class:"w-4 h-4 mr-1"}),u[2]||(u[2]=C(" Top Up ",-1))]),_:1})]),e("div",null,[u[3]||(u[3]=e("p",{class:"text-white/70 text-sm mb-1"},"Saldo Tersedia",-1)),e("p",Bt,c(y(h)(s.wallet.balance)),1)]),s.wallet.pendingBalance>0?(l(),i("div",Nt,[e("div",It,[u[4]||(u[4]=e("span",{class:"text-white/70"},"Saldo Pending",-1)),e("span",At,c(y(h)(s.wallet.pendingBalance)),1)])])):a("v-if",!0)]),a(" Recent Transactions "),e("div",jt,[u[6]||(u[6]=e("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white mb-3"},"Transaksi Terakhir",-1)),s.transactions.length>0?(l(),i("div",Mt,[(l(!0),i(B,null,E(s.transactions,n=>(l(),i("div",{key:n.id,class:"flex items-center gap-3"},[e("div",{class:S(["w-8 h-8 rounded-lg flex items-center justify-center",y(ne)[n.type]?.color||"text-gray-500","bg-gray-100 dark:bg-gray-700"])},[r(d,{name:y(ne)[n.type]?.icon||"i-heroicons-banknotes",class:"w-4 h-4"},null,8,["name"])],2),e("div",Pt,[e("p",Lt,c(n.description||y(ne)[n.type]?.label||"Transaksi"),1),e("p",Vt,c(y(m)(n.createdAt)),1)]),e("p",{class:S(["text-sm font-semibold",n.type==="withdrawal"||n.type==="payment"?"text-red-500":"text-emerald-500"])},c(n.type==="withdrawal"||n.type==="payment"?"-":"+")+c(y(h)(n.amount)),3)]))),128))])):(l(),i("div",Et,[...u[5]||(u[5]=[e("p",{class:"text-sm text-gray-400"},"Belum ada transaksi",-1)])]))])])}}}),Ut={class:"p-5 pb-4"},Ot={class:"flex items-center justify-between mb-4"},zt={class:"flex items-center gap-2"},Xt={class:"text-sm font-black text-white flex items-center gap-2"},Ht={class:"grid grid-cols-3 gap-2 mb-4"},Ft={class:"p-2 bg-gray-800/60 border border-gray-700/50 rounded-xl text-center"},Kt={class:"text-lg font-black text-white"},Wt={class:"p-2 bg-gray-800/60 border border-gray-700/50 rounded-xl text-center"},Gt={class:"text-lg font-black text-cyan-400"},qt={class:"p-2 bg-gray-800/60 border border-gray-700/50 rounded-xl text-center"},Jt={class:"text-sm font-black text-emerald-400"},Qt={class:"flex items-center gap-2 p-2 bg-linear-to-r from-violet-500/10 to-purple-500/10 border border-violet-500/20 rounded-xl"},Yt={class:"flex-1"},Zt={class:"font-mono font-black text-violet-400 tracking-widest"},ea={key:0,class:"text-[10px] text-emerald-400 text-center mt-1"},ta=V({__name:"MLMHeader",props:{affiliate:{}},emits:["copied"],setup(s,{emit:_}){const b=s,h=_,{formatPrice:m}=K(),g=N(!1),u=O(()=>`https://ogitu.com/r/${b.affiliate.referralCode}`),d=O(()=>b.affiliate.totalEarnings+b.affiliate.pendingEarnings),$=async()=>{try{await navigator.clipboard.writeText(u.value),g.value=!0,h("copied"),setTimeout(()=>g.value=!1,2e3)}catch(n){console.error("Failed to copy:",n)}};return(n,t)=>{const o=D;return l(),i("div",Ut,[a(" Header Title "),e("div",Ot,[e("div",zt,[t[1]||(t[1]=e("div",{class:"h-px w-6 bg-linear-to-r from-transparent to-violet-500"},null,-1)),e("h2",Xt,[r(o,{name:"i-lucide-network",class:"w-4 h-4 text-violet-400"}),t[0]||(t[0]=e("span",{class:"bg-linear-to-r from-violet-400 via-purple-400 to-pink-400 text-transparent bg-clip-text"}," AFFILIATE CENTER ",-1))])]),t[2]||(t[2]=e("div",{class:"flex items-center gap-1 px-2 py-1 bg-emerald-500/20 border border-emerald-500/30 rounded-full"},[e("div",{class:"w-1.5 h-1.5 bg-emerald-400 rounded-full animate-pulse"}),e("span",{class:"text-[10px] font-bold text-emerald-400"},"ACTIVE")],-1))]),a(" Quick Stats Bar "),e("div",Ht,[e("div",Ft,[e("p",Kt,c(s.affiliate.totalReferrals),1),t[3]||(t[3]=e("p",{class:"text-[9px] text-gray-500 uppercase tracking-wider"},"Mitra",-1))]),e("div",Wt,[e("p",Gt,c(s.affiliate.commissionRate)+"%",1),t[4]||(t[4]=e("p",{class:"text-[9px] text-gray-500 uppercase tracking-wider"},"Komisi",-1))]),e("div",qt,[e("p",Jt,c(y(m)(d.value)),1),t[5]||(t[5]=e("p",{class:"text-[9px] text-gray-500 uppercase tracking-wider"},"Earnings",-1))])]),a(" Referral Code "),e("div",Qt,[e("div",Yt,[t[6]||(t[6]=e("p",{class:"text-[9px] text-gray-500 uppercase tracking-wider mb-0.5"},"Your Referral Code",-1)),e("p",Zt,c(s.affiliate.referralCode),1)]),e("button",{onClick:$,class:"p-2 bg-violet-500/20 hover:bg-violet-500/30 border border-violet-500/30 rounded-lg transition-colors"},[r(o,{name:g.value?"i-lucide-check":"i-lucide-copy",class:"w-4 h-4 text-violet-400"},null,8,["name"])])]),g.value?(l(),i("p",ea," âœ“ Link copied! ")):a("v-if",!0)])}}}),aa={class:"px-3"},sa={class:"flex items-center bg-gray-800/60 border border-gray-700/50 rounded-xl p-1"},ra=["onClick"],oa=V({__name:"MLMTabNavigation",props:{tabs:{},activeTab:{}},emits:["update:activeTab"],setup(s,{emit:_}){const b=_,h=m=>{b("update:activeTab",m)};return(m,g)=>{const u=D;return l(),i("div",aa,[e("div",sa,[(l(!0),i(B,null,E(s.tabs,d=>(l(),i("button",{key:d.id,onClick:$=>h(d.id),class:S(["flex-1 flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg text-xs font-bold transition-all duration-300",s.activeTab===d.id?"bg-linear-to-r from-violet-500 to-purple-500 text-white shadow-lg shadow-violet-500/30":"text-gray-400 hover:text-white hover:bg-gray-700/50"])},[r(u,{name:d.icon,class:"w-3.5 h-3.5"},null,8,["name"]),e("span",null,c(d.label),1),d.count!==null&&d.count>0?(l(),i("span",{key:0,class:S(["px-1.5 py-0.5 rounded-full text-[9px]",s.activeTab===d.id?"bg-white/20":"bg-gray-700"])},c(d.count),3)):a("v-if",!0)],10,ra))),128))])])}}}),na={class:"space-y-3"},la={class:"flex items-center gap-1 p-1 bg-gray-800/40 border border-gray-700/30 rounded-xl"},ia=["onClick"],da={key:0,class:"space-y-2"},ca={class:"relative"},ua=["src"],ma={class:"flex-1 min-w-0"},ga={class:"text-sm font-bold text-white truncate"},pa={class:"flex items-center gap-2 text-[10px] text-gray-500"},ba={class:"flex items-center gap-1"},xa={class:"text-right"},fa={class:"py-8 text-center"},va={class:"text-sm text-gray-500 mb-1"},ya={class:"text-xs text-gray-600"},ha=V({__name:"MLMMitraTab",props:{referrals:{}},emits:["viewAll"],setup(s,{emit:_}){const b=s,h=_,{formatPrice:m,formatRelativeTime:g}=K(),u=N("active"),d=[{id:"active",label:"Aktif",icon:"i-lucide-user-check"},{id:"inactive",label:"Pasif",icon:"i-lucide-user-x"},{id:"prospect",label:"Prospek",icon:"i-lucide-user-plus"}],$=O(()=>b.referrals.filter(k=>k.status===u.value)),n=O(()=>({active:b.referrals.filter(k=>k.status==="active").length,inactive:b.referrals.filter(k=>k.status==="inactive").length,prospect:b.referrals.filter(k=>k.status==="prospect").length})),t=(k,I)=>I?{active:"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",inactive:"bg-gray-500/20 text-gray-400 border border-gray-500/30",prospect:"bg-amber-500/20 text-amber-400 border border-amber-500/30"}[k]:"text-gray-500 hover:text-gray-300",o=(k,I)=>I?{active:"bg-emerald-500/30",inactive:"bg-gray-500/30",prospect:"bg-amber-500/30"}[k]:"bg-gray-700",f=O(()=>({active:{title:"Belum ada member aktif",subtitle:"Ajak teman untuk bergabung!"},inactive:{title:"Tidak ada member pasif",subtitle:"Semua member sedang aktif!"},prospect:{title:"Belum ada prospek",subtitle:"Bagikan link referral anda!"}})[u.value]);return(k,I)=>{const T=D;return l(),i("div",na,[a(" Sub-Tab Navigation "),e("div",la,[(l(),i(B,null,E(d,w=>e("button",{key:w.id,onClick:U=>u.value=w.id,class:S(["flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded-lg text-[10px] font-bold transition-all duration-200",t(w.id,u.value===w.id)])},[r(T,{name:w.icon,class:"w-3 h-3"},null,8,["name"]),e("span",null,c(w.label),1),n.value[w.id]>0?(l(),i("span",{key:0,class:S(["px-1 py-0.5 rounded text-[8px] ml-0.5",o(w.id,u.value===w.id)])},c(n.value[w.id]),3)):a("v-if",!0)],10,ia)),64))]),a(" Member List "),$.value.length>0?(l(),i("div",da,[(l(!0),i(B,null,E($.value.slice(0,5),w=>(l(),i("div",{key:w.id,class:"flex items-center gap-3 p-3 bg-gray-800/40 border border-gray-700/30 rounded-xl hover:bg-gray-800/60 transition-colors group"},[a(" Avatar "),e("div",ca,[e("div",{class:S(["w-10 h-10 rounded-xl flex items-center justify-center",y(le)[w.status].gradient])},[w.customerAvatar?(l(),i("img",{key:1,src:w.customerAvatar,class:"w-full h-full rounded-xl object-cover"},null,8,ua)):(l(),G(T,{key:0,name:"i-lucide-user",class:"w-5 h-5 text-white"}))],2),e("div",{class:S(["absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-gray-800",y(le)[w.status].badge])},null,2)]),a(" Info "),e("div",ma,[e("p",ga,c(w.customerName),1),e("div",pa,[e("span",ba,[r(T,{name:"i-lucide-shopping-bag",class:"w-3 h-3"}),C(" "+c(w.totalOrders)+" orders ",1)]),I[1]||(I[1]=e("span",null,"â€¢",-1)),e("span",null,c(y(g)(w.registeredAt)),1)])]),a(" Stats "),e("div",xa,[e("p",{class:S(["text-xs font-bold",y(le)[w.status].text])},c(y(m)(w.totalSpent)),3),I[2]||(I[2]=e("p",{class:"text-[9px] text-gray-500"},"spent",-1))])]))),128))])):(l(),i(B,{key:1},[a(" Empty State "),e("div",fa,[e("div",{class:S(["w-16 h-16 mx-auto mb-3 rounded-2xl border flex items-center justify-center",u.value==="active"?"bg-emerald-500/10 border-emerald-500/20":u.value==="inactive"?"bg-gray-500/10 border-gray-500/20":"bg-amber-500/10 border-amber-500/20"])},[r(T,{name:u.value==="active"?"i-lucide-user-check":u.value==="inactive"?"i-lucide-user-x":"i-lucide-user-plus",class:S(["w-8 h-8",u.value==="active"?"text-emerald-500/50":u.value==="inactive"?"text-gray-500/50":"text-amber-500/50"])},null,8,["name","class"])],2),e("p",va,c(f.value.title),1),e("p",ya,c(f.value.subtitle),1)])],2112)),a(" View All Link "),$.value.length>5?(l(),i("button",{key:2,onClick:I[0]||(I[0]=w=>h("viewAll",u.value)),class:"w-full py-2 text-xs text-violet-400 hover:text-violet-300 transition-colors"}," Lihat semua "+c($.value.length)+" member â†’ ",1)):a("v-if",!0)])}}});let Y=null;function ka(s,_,b){const h=N(null),m=N(!1),g=async()=>(Y||(Y=await he(()=>import("./go-D5_WD3AE.js"),[])),Y),u=async()=>{if(!s.value){console.warn("Network diagram: Container ref is null");return}if(typeof globalThis.window>"u"){console.warn("Network diagram: Not in browser environment");return}const t=await g(),o=s.value.getBoundingClientRect();if(o.width===0||o.height===0){console.warn("Network diagram: Container has no dimensions",o);return}h.value&&(h.value.div=null,h.value=null);const f=t.GraphObject.make,k=new t.Diagram(s.value,{"undoManager.isEnabled":!1,"animationManager.isEnabled":!0,"animationManager.duration":600,layout:new t.TreeLayout({angle:90,layerSpacing:40,nodeSpacing:30,arrangement:t.TreeArrangement.Horizontal}),isReadOnly:!0,allowSelect:!1,allowMove:!1,allowCopy:!1,allowDelete:!1,allowHorizontalScroll:!1,allowVerticalScroll:!1,allowZoom:!1,hasHorizontalScrollbar:!1,hasVerticalScrollbar:!1,contentAlignment:t.Spot.Center,padding:10,"toolManager.mouseWheelBehavior":t.WheelMode.None});k.div.style.backgroundColor="transparent";const I=f(t.Node,"Vertical",{locationSpot:t.Spot.Center},f(t.Panel,"Auto",f(t.Shape,"RoundedRectangle",{fill:new t.Brush("Linear",{0:"rgba(139, 92, 246, 0.4)",1:"rgba(168, 85, 247, 0.4)"}),stroke:null,width:66,height:66,parameter1:14}),f(t.Panel,"Auto",f(t.Shape,"RoundedRectangle",{fill:new t.Brush("Linear",{0:"rgb(139, 92, 246)",.5:"rgb(147, 51, 234)",1:"rgb(168, 85, 247)"}),stroke:"rgba(255, 255, 255, 0.2)",strokeWidth:2,width:52,height:52,parameter1:12,shadowVisible:!0}),f(t.TextBlock,"ðŸ‘‘",{font:"22px sans-serif",stroke:"white",margin:8}))),f(t.TextBlock,{margin:new t.Margin(8,0,2,0),font:"bold 11px Inter, system-ui, sans-serif",stroke:"white"},new t.Binding("text","text")),f(t.TextBlock,"Network Leader",{font:"9px Inter, system-ui, sans-serif",stroke:"rgb(107, 114, 128)"})),T=f(t.Node,"Vertical",{locationSpot:t.Spot.Center},f(t.Panel,"Auto",f(t.Shape,"RoundedRectangle",{width:40,height:40,parameter1:10,strokeWidth:0,shadowVisible:!0},new t.Binding("fill","",P=>new t.Brush("Linear",{0:P.gradientStart,1:P.gradientEnd}))),f(t.TextBlock,{font:"bold 12px Inter, system-ui, sans-serif",stroke:"white",margin:6},new t.Binding("text","text"))),f(t.TextBlock,{margin:new t.Margin(5,0,1,0),font:"9px Inter, system-ui, sans-serif",stroke:"rgb(156, 163, 175)"},new t.Binding("text","level",P=>`Level ${P}`)),f(t.TextBlock,{font:"bold 13px Inter, system-ui, sans-serif"},new t.Binding("text","count",P=>P?.toString()||"0"),new t.Binding("stroke","color"))),w=f(t.Node,"Vertical",{locationSpot:t.Spot.Center},f(t.Panel,"Auto",f(t.Shape,"RoundedRectangle",{width:36,height:36,parameter1:8,strokeWidth:1,shadowVisible:!0},new t.Binding("fill","",P=>new t.Brush("Linear",{0:P.gradientStart,1:P.gradientEnd})),new t.Binding("stroke","status",P=>P==="active"?"rgb(52, 211, 153)":"rgb(107, 114, 128)")),f(t.TextBlock,{font:"bold 14px Inter, system-ui, sans-serif",stroke:"white",margin:4},new t.Binding("text","text"))),f(t.TextBlock,{margin:new t.Margin(4,0,0,0),font:"8px Inter, system-ui, sans-serif",stroke:"rgb(156, 163, 175)",maxSize:new t.Size(60,Number.NaN),wrap:t.Wrap.None,overflow:t.TextOverflow.Ellipsis},new t.Binding("text","customerName"))),U=new t.Map;U.add("root",I),U.add("level",T),U.add("member",w),k.nodeTemplateMap=U,k.linkTemplate=f(t.Link,{routing:t.Routing.Orthogonal,corner:8,curve:t.Curve.JumpOver},f(t.Shape,{strokeWidth:2,stroke:new t.Brush("Linear",{0:"rgb(139, 92, 246)",1:"rgba(139, 92, 246, 0.3)"})})),h.value=k,d(),await ae(),m.value=!0},d=()=>{if(!h.value||!Y)return;const t=Y,o=_.value,f=b?.value;let k,I;f&&f.nodes&&f.nodes.length>0?(console.log("[NetworkDiagram] Using tree data from database:",f.nodes.length,"nodes"),console.log("[NetworkDiagram] Nodes:",JSON.stringify(f.nodes,null,2)),console.log("[NetworkDiagram] Links:",JSON.stringify(f.links,null,2)),k=f.nodes.map(T=>{let w="member";return T.isRoot&&(w="root"),{...T,category:w,text:T.text||(T.customerName?T.customerName.charAt(0).toUpperCase():"U")}}),I=f.links||[]):(console.log("[NetworkDiagram] Using fallback summary view"),k=[{key:"root",text:"YOU",level:0,isRoot:!0,category:"root",color:"rgb(139, 92, 246)",gradientStart:"rgb(139, 92, 246)",gradientEnd:"rgb(168, 85, 247)"},{key:"level1",text:"L1",level:1,count:o.level1Count,category:"level",color:"rgb(34, 211, 238)",gradientStart:"rgb(34, 211, 238)",gradientEnd:"rgb(59, 130, 246)"},{key:"level2",text:"L2",level:2,count:o.level2Count,category:"level",color:"rgb(192, 132, 252)",gradientStart:"rgb(192, 132, 252)",gradientEnd:"rgb(236, 72, 153)"},{key:"level3",text:"L3",level:3,count:o.level3Count,category:"level",color:"rgb(251, 191, 36)",gradientStart:"rgb(251, 191, 36)",gradientEnd:"rgb(249, 115, 22)"}],I=[{from:"root",to:"level1"},{from:"root",to:"level2"},{from:"root",to:"level3"}]),h.value.model=new t.GraphLinksModel(k,I),h.value.layoutDiagram(!0)},$=async()=>{d()};return fe(()=>{ae(()=>{setTimeout(()=>{u()},200)})}),F(s,t=>{t&&!h.value&&ae(()=>{setTimeout(()=>{u()},100)})},{immediate:!0}),ye(()=>{h.value&&(h.value.div=null,h.value=null)}),F(_,()=>$(),{deep:!0}),b&&F(b,()=>$(),{deep:!0}),{diagram:h,isInitialized:m,updateDiagram:$,initDiagram:async()=>{s.value&&(h.value&&(h.value.div=null,h.value=null,m.value=!1),await u())}}}const wa={class:"space-y-4"},_a={class:"relative"},$a={key:0,class:"absolute inset-0 flex items-center justify-center bg-gray-900/80 rounded-2xl z-10"},Ca={class:"text-center"},Sa={class:"w-10 h-10 mx-auto mb-2 rounded-xl bg-violet-500/20 flex items-center justify-center animate-pulse"},Ra={class:"grid grid-cols-2 gap-2"},Ta={class:"p-3 bg-emerald-500/10 border border-emerald-500/20 rounded-xl"},Ba={class:"text-xl font-black text-emerald-400"},Na={class:"p-3 bg-gray-500/10 border border-gray-500/20 rounded-xl"},Ia={class:"text-xl font-black text-gray-400"},Aa={class:"grid grid-cols-3 gap-2"},ja={class:"text-[10px] font-black text-white"},Ma={class:"text-[9px] text-gray-500"},Pa={class:"p-3 bg-linear-to-r from-violet-500/10 to-purple-500/10 border border-violet-500/20 rounded-xl"},La={class:"flex items-center justify-between"},Va={class:"text-lg font-black bg-linear-to-r from-violet-400 to-purple-400 text-transparent bg-clip-text"},Ea={class:"w-12 h-12 rounded-xl bg-violet-500/20 flex items-center justify-center"},Da=V({__name:"MLMNetworkTab",props:{networkStats:{},networkTree:{},isActive:{type:Boolean}},setup(s){const _=s,{formatPrice:b}=K(),h=N(null),m=ue(_,"networkStats"),g=ue(_,"networkTree"),{initDiagram:u,updateDiagram:d,isInitialized:$}=ka(h,m,g);F(()=>_.isActive,t=>{t&&ae(()=>{setTimeout(()=>{u()},150)})}),F(()=>_.networkTree,t=>{t&&$.value&&d()},{deep:!0});const n=t=>({1:_.networkStats.level1Count,2:_.networkStats.level2Count,3:_.networkStats.level3Count})[t];return(t,o)=>{const f=D;return l(),i("div",wa,[a(" GoJS Network Visualization "),e("div",_a,[a(" Background decorations "),o[1]||(o[1]=e("div",{class:"absolute inset-0 overflow-hidden rounded-2xl pointer-events-none"},[e("div",{class:"absolute top-0 left-1/4 w-32 h-32 bg-violet-500/10 rounded-full blur-3xl"}),e("div",{class:"absolute bottom-0 right-1/4 w-24 h-24 bg-cyan-500/10 rounded-full blur-2xl"})],-1)),a(" GoJS Container "),e("div",{ref_key:"networkDiagramRef",ref:h,class:"relative w-full rounded-2xl bg-gray-900/50 border border-gray-700/30 overflow-hidden",style:{height:"220px","min-height":"220px"}},null,512),a(" Loading/Fallback State (overlay) "),y($)?a("v-if",!0):(l(),i("div",$a,[e("div",Ca,[e("div",Sa,[r(f,{name:"i-lucide-network",class:"w-5 h-5 text-violet-400"})]),o[0]||(o[0]=e("p",{class:"text-xs text-gray-500"},"Loading network...",-1))])]))]),a(" Network Stats "),e("div",Ra,[e("div",Ta,[o[2]||(o[2]=e("div",{class:"flex items-center gap-2 mb-1"},[e("div",{class:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),e("span",{class:"text-[10px] text-emerald-400 font-bold uppercase"},"Active Members")],-1)),e("p",Ba,c(s.networkStats.activeMembers),1)]),e("div",Na,[o[3]||(o[3]=e("div",{class:"flex items-center gap-2 mb-1"},[e("div",{class:"w-2 h-2 bg-gray-500 rounded-full"}),e("span",{class:"text-[10px] text-gray-400 font-bold uppercase"},"Inactive")],-1)),e("p",Ia,c(s.networkStats.inactiveMembers),1)])]),a(" Level Details "),e("div",Aa,[(l(),i(B,null,E([1,2,3],k=>e("div",{key:k,class:"p-2.5 bg-gray-800/40 border border-gray-700/30 rounded-xl text-center"},[e("div",{class:S(["w-8 h-8 mx-auto rounded-lg bg-linear-to-br flex items-center justify-center mb-2",y(be)[k].linear])},[e("span",ja,"L"+c(k),1)],2),e("p",{class:S(["text-lg font-black",y(be)[k].text])},c(n(k)),3),e("p",Ma,"Level "+c(k),1)])),64))]),a(" Network Value "),e("div",Pa,[e("div",La,[e("div",null,[o[4]||(o[4]=e("p",{class:"text-[10px] text-gray-500 uppercase tracking-wider mb-0.5"}," Total Network Value ",-1)),e("p",Va,c(y(b)(s.networkStats.totalNetworkValue)),1)]),e("div",Ea,[r(f,{name:"i-lucide-trending-up",class:"w-6 h-6 text-violet-400"})])])])])}}}),Ua={class:"space-y-3"},Oa={class:"flex items-center gap-1 p-1 bg-gray-800/40 border border-gray-700/30 rounded-xl"},za={key:0,class:"space-y-3"},Xa={class:"relative p-4 bg-linear-to-br from-emerald-500/20 via-cyan-500/10 to-violet-500/20 border border-emerald-500/30 rounded-2xl overflow-hidden"},Ha={class:"relative"},Fa={class:"flex items-center gap-2 mb-2"},Ka={class:"w-10 h-10 rounded-xl bg-linear-to-br from-emerald-500 to-cyan-500 flex items-center justify-center shadow-lg shadow-emerald-500/30"},Wa={class:"text-xl font-black text-emerald-400"},Ga={class:"grid grid-cols-2 gap-2"},qa={class:"flex items-start gap-2 mb-2"},Ja={class:"text-[10px] text-gray-500 mb-0.5 line-clamp-1"},Qa={class:"grid grid-cols-2 gap-2"},Ya={class:"p-3 bg-emerald-500/10 border border-emerald-500/20 rounded-xl"},Za={class:"text-lg font-black text-emerald-400"},es={class:"p-3 bg-amber-500/10 border border-amber-500/20 rounded-xl"},ts={class:"text-lg font-black text-amber-400"},as={class:"space-y-3"},ss={key:0,class:"space-y-2"},rs={class:"w-10 h-10 rounded-xl bg-linear-to-br from-emerald-500/20 to-cyan-500/20 border border-emerald-500/20 flex items-center justify-center"},os={class:"flex-1 min-w-0"},ns={class:"text-sm font-bold text-white"},ls={class:"flex items-center gap-2 text-[10px]"},is={class:"text-gray-500"},ds={class:"text-cyan-400"},cs={class:"text-right"},us={class:"text-sm font-black text-emerald-400"},ms={class:"py-8 text-center"},gs={class:"w-16 h-16 mx-auto mb-3 rounded-2xl bg-gray-800/60 border border-gray-700/50 flex items-center justify-center"},ps=V({__name:"MLMBonusTab",props:{affiliate:{},commissions:{}},emits:["withdraw"],setup(s,{emit:_}){const b=s,h=_,{formatPrice:m}=K(),g=N("summary"),u=O(()=>[{id:"referral_incentive",name:"Bonus Referral Incentive",icon:"i-lucide-gift",amount:b.affiliate.totalEarnings*.15,color:"text-pink-400",linear:"from-pink-500 to-rose-500"},{id:"team_affiliate",name:"Team Affiliate Commission",icon:"i-lucide-users",amount:b.affiliate.totalEarnings*.25,color:"text-violet-400",linear:"from-violet-500 to-purple-500"},{id:"partner_team",name:"Partner Team Commission",icon:"i-lucide-handshake",amount:b.affiliate.totalEarnings*.2,color:"text-cyan-400",linear:"from-cyan-500 to-blue-500"},{id:"cashback",name:"Cashback Commission",icon:"i-lucide-wallet",amount:b.affiliate.totalEarnings*.1,color:"text-emerald-400",linear:"from-emerald-500 to-green-500"},{id:"promotions",name:"Promotions Rewards",icon:"i-lucide-megaphone",amount:b.affiliate.totalEarnings*.08,color:"text-amber-400",linear:"from-amber-500 to-orange-500"},{id:"retail",name:"Retail Commission",icon:"i-lucide-store",amount:b.affiliate.totalEarnings*.12,color:"text-blue-400",linear:"from-blue-500 to-indigo-500"},{id:"lifetime",name:"Lifetime Cash Rewards",icon:"i-lucide-infinity",amount:b.affiliate.totalEarnings*.1,color:"text-purple-400",linear:"from-purple-500 to-fuchsia-500"}]),d=O(()=>u.value.reduce((n,t)=>n+t.amount,0)),$=n=>pe[n]||pe.pending;return(n,t)=>{const o=D;return l(),i("div",Ua,[a(" Sub-Tab Navigation "),e("div",Oa,[e("button",{onClick:t[0]||(t[0]=f=>g.value="summary"),class:S(["flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded-lg text-[10px] font-bold transition-all duration-200",g.value==="summary"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"text-gray-500 hover:text-gray-300"])},[r(o,{name:"i-lucide-layout-grid",class:"w-3 h-3"}),t[3]||(t[3]=e("span",null,"Ringkasan Bonus",-1))],2),e("button",{onClick:t[1]||(t[1]=f=>g.value="history"),class:S(["flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded-lg text-[10px] font-bold transition-all duration-200",g.value==="history"?"bg-violet-500/20 text-violet-400 border border-violet-500/30":"text-gray-500 hover:text-gray-300"])},[r(o,{name:"i-lucide-history",class:"w-3 h-3"}),t[4]||(t[4]=e("span",null,"Riwayat",-1))],2)]),a(" Summary Sub-Tab "),g.value==="summary"?(l(),i("div",za,[a(" Total Bonus Card "),e("div",Xa,[a(" Shine Effect "),t[6]||(t[6]=e("div",{class:"absolute inset-0 bg-linear-to-r from-transparent via-white/5 to-transparent animate-shimmer"},null,-1)),e("div",Ha,[e("div",Fa,[e("div",Ka,[r(o,{name:"i-lucide-trophy",class:"w-5 h-5 text-white"})]),e("div",null,[t[5]||(t[5]=e("p",{class:"text-[10px] text-gray-400 uppercase tracking-wider"},"Total Bonus",-1)),e("p",Wa,c(y(m)(d.value)),1)])])])]),a(" Bonus Types Grid "),e("div",Ga,[(l(!0),i(B,null,E(u.value,f=>(l(),i("div",{key:f.id,class:"p-3 bg-gray-800/40 border border-gray-700/30 rounded-xl hover:bg-gray-800/60 transition-all group"},[e("div",qa,[e("div",{class:S(["w-8 h-8 rounded-lg bg-linear-to-br flex items-center justify-center shrink-0",f.linear])},[r(o,{name:f.icon,class:"w-4 h-4 text-white"},null,8,["name"])],2)]),e("p",Ja,c(f.name),1),e("p",{class:S(["text-sm font-black",f.color])},c(y(m)(f.amount)),3)]))),128))]),a(" Earnings Summary "),e("div",Qa,[e("div",Ya,[t[7]||(t[7]=e("p",{class:"text-[10px] text-gray-500 uppercase tracking-wider mb-1"},"Available",-1)),e("p",Za,c(y(m)(s.affiliate.totalEarnings)),1)]),e("div",es,[t[8]||(t[8]=e("p",{class:"text-[10px] text-gray-500 uppercase tracking-wider mb-1"},"Pending",-1)),e("p",ts,c(y(m)(s.affiliate.pendingEarnings)),1)])])])):g.value==="history"?(l(),i(B,{key:1},[a(" History Sub-Tab "),e("div",as,[a(" Commission List "),s.commissions.length>0?(l(),i("div",ss,[(l(!0),i(B,null,E(s.commissions.slice(0,5),f=>(l(),i("div",{key:f.id,class:"flex items-center gap-3 p-3 bg-gray-800/40 border border-gray-700/30 rounded-xl"},[a(" Icon "),e("div",rs,[r(o,{name:"i-lucide-coins",class:"w-5 h-5 text-emerald-400"})]),a(" Info "),e("div",os,[e("p",ns,"#"+c(f.orderNumber),1),e("div",ls,[e("span",is,c(y(m)(f.orderTotal)),1),t[9]||(t[9]=e("span",{class:"text-gray-600"},"Ã—",-1)),e("span",ds,c(f.commissionRate)+"%",1)])]),a(" Amount & Status "),e("div",cs,[e("p",us," +"+c(y(m)(f.commissionAmount)),1),e("span",{class:S(["text-[9px] px-1.5 py-0.5 rounded-full",$(f.status).color])},c($(f.status).label),3)])]))),128))])):(l(),i(B,{key:1},[a(" Empty State "),e("div",ms,[e("div",gs,[r(o,{name:"i-lucide-coins",class:"w-8 h-8 text-gray-600"})]),t[10]||(t[10]=e("p",{class:"text-sm text-gray-500 mb-1"},"Belum ada riwayat bonus",-1)),t[11]||(t[11]=e("p",{class:"text-xs text-gray-600"},"Ajak mitra untuk belanja dan dapatkan bonus!",-1))])],2112))])],2112)):a("v-if",!0),a(" Withdraw Button "),s.affiliate.totalEarnings>0?(l(),i("button",{key:2,onClick:t[2]||(t[2]=f=>h("withdraw")),class:"w-full py-3 bg-linear-to-r from-emerald-500 to-cyan-500 hover:from-emerald-400 hover:to-cyan-400 text-white font-bold text-sm rounded-xl shadow-lg shadow-emerald-500/30 transition-all hover:scale-[1.02] flex items-center justify-center gap-2"},[r(o,{name:"i-lucide-wallet",class:"w-4 h-4"}),C(" Withdraw "+c(y(m)(s.affiliate.totalEarnings)),1)])):a("v-if",!0)])}}}),bs=ce(ps,[["__scopeId","data-v-6d34c68f"]]),xs={};function fs(s,_){return l(),i(B,null,[_[0]||(_[0]=e("div",{class:"absolute inset-0 bg-linear-to-br from-gray-900 via-gray-800 to-gray-900"},[a(" Animated Grid Pattern "),e("div",{class:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width=%2260%22 height=%2260%22 viewBox=%220 0 60 60%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cg fill=%22none%22 fill-rule=%22evenodd%22%3E%3Cg fill=%22%239C92AC%22 fill-opacity=%220.05%22%3E%3Cpath d=%22M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z%22/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] opacity-40"}),a(" Glow Effects "),e("div",{class:"absolute -top-20 -left-20 w-40 h-40 bg-violet-500/20 rounded-full blur-3xl"}),e("div",{class:"absolute -bottom-10 -right-10 w-32 h-32 bg-cyan-500/20 rounded-full blur-2xl"})],-1)),a(" Floating Particles "),_[1]||(_[1]=e("div",{class:"absolute top-8 right-8 w-1.5 h-1.5 bg-violet-400 rounded-full animate-pulse"},null,-1)),_[2]||(_[2]=e("div",{class:"absolute top-20 left-6 w-1 h-1 bg-cyan-400 rounded-full animate-ping opacity-60"},null,-1)),_[3]||(_[3]=e("div",{class:"absolute bottom-24 right-12 w-1 h-1 bg-pink-400 rounded-full animate-bounce opacity-50"},null,-1))],64)}const vs=ce(xs,[["render",fs]]),ys={class:"relative overflow-hidden rounded-2xl"},hs={class:"relative z-10"},ks={class:"p-4"},ws=V({__name:"MLMCard",props:{affiliate:{},commissions:{},referrals:{},networkStats:{},networkTree:{}},emits:["withdraw","viewAllMitra","referralCopied"],setup(s,{emit:_}){const b=s,h=_,m=N("mitra"),g=O(()=>[{id:"mitra",label:"Mitra",icon:"i-lucide-users",count:b.referrals.length},{id:"network",label:"Network",icon:"i-lucide-git-branch",count:null},{id:"bonus",label:"Bonus",icon:"i-lucide-coins",count:b.commissions.length}]),u=()=>h("withdraw"),d=n=>h("viewAllMitra",n),$=()=>h("referralCopied");return(n,t)=>(l(),i("div",ys,[a(" Gaming Card Background "),r(y(vs)),e("div",hs,[a(" Header Section "),r(y(ta),{affiliate:s.affiliate,onCopied:$},null,8,["affiliate"]),a(" Main Tab Navigation "),r(y(oa),{activeTab:m.value,"onUpdate:activeTab":t[0]||(t[0]=o=>m.value=o),tabs:g.value},null,8,["activeTab","tabs"]),a(" Tab Content "),e("div",ks,[a(" Mitra Tab "),m.value==="mitra"?(l(),G(y(ha),{key:0,referrals:s.referrals,onViewAll:d},null,8,["referrals"])):m.value==="network"?(l(),i(B,{key:1},[a(" Network Tab "),r(y(Da),{"network-stats":s.networkStats,"network-tree":s.networkTree,"is-active":m.value==="network"},null,8,["network-stats","network-tree","is-active"])],2112)):m.value==="bonus"?(l(),i(B,{key:2},[a(" Bonus Tab "),r(y(bs),{affiliate:s.affiliate,commissions:s.commissions,onWithdraw:u},null,8,["affiliate","commissions"])],2112)):a("v-if",!0)])])]))}}),_s={class:"relative overflow-hidden rounded-2xl"},$s={class:"absolute inset-0 bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900"},Cs={class:"relative z-10 p-5"},Ss={class:"flex items-center justify-between mb-4"},Rs={class:"flex items-center gap-2"},Ts={class:"text-sm font-black text-white flex items-center gap-2"},Bs={key:0,class:"relative"},Ns={class:"flex items-center gap-4 mb-4"},Is={class:"relative group"},As={class:"absolute -bottom-1 -right-1 w-6 h-6 bg-gray-900 border-2 border-cyan-500 rounded-lg flex items-center justify-center shadow-lg"},js={class:"text-[10px] font-black text-cyan-400"},Ms={class:"flex-1"},Ps={class:"flex flex-wrap items-center gap-2"},Ls={key:0,class:"inline-flex items-center gap-1 px-2 py-0.5 bg-emerald-500/20 border border-emerald-500/30 rounded-md text-[10px] font-bold text-emerald-400"},Vs={key:1,class:"inline-flex items-center gap-1 px-2 py-0.5 bg-violet-500/20 border border-violet-500/30 rounded-md text-[10px] font-bold text-violet-400"},Es={key:0,class:"mt-4"},Ds={class:"flex items-center justify-between mb-2"},Us={class:"text-[10px] font-bold text-gray-400 uppercase tracking-wider"},Os={class:"text-xs font-black text-cyan-400"},zs={class:"relative h-4 bg-gray-800/80 rounded-lg border border-gray-700/50 overflow-hidden"},Xs={class:"absolute inset-0 flex"},Hs={class:"flex items-center justify-between mt-2 text-[10px] text-gray-500"},Fs={class:"flex items-center gap-1"},Ks={key:0},Ws={key:1},Gs={class:"flex items-center gap-1"},qs={key:0},Js={key:1},Qs={class:"mt-3 flex items-center justify-center gap-2 p-2 bg-gray-800/50 rounded-lg border border-gray-700/30"},Ys={class:"mt-4 relative overflow-hidden"},Zs={class:"relative p-3 border border-amber-500/30 rounded-xl text-center"},er={class:"flex items-center justify-center gap-2 mb-1"},tr={key:2,class:"mt-4 pt-3 border-t border-gray-700/30"},ar={class:"flex items-center gap-1.5 mb-2"},sr={class:"flex flex-wrap gap-1.5"},rr={class:"text-center py-6"},or={class:"w-16 h-16 mx-auto mb-3 rounded-xl bg-gray-800/80 border border-gray-700/50 flex items-center justify-center"},nr=V({__name:"RankCard",props:{currentRank:{},nextRank:{},rankProgress:{},ordersToNextRank:{},spentToNextRank:{}},emits:["openDetails"],setup(s,{emit:_}){const b=s,h=_,{formatPrice:m}=K(),g=O(()=>b.currentRank?W(b.currentRank.slug):null),u=O(()=>b.nextRank?W(b.nextRank.slug):null),d=O(()=>b.currentRank&&{"vapor-newbie":1,"vapor-active":2,"vapor-pro":3}[b.currentRank.slug]||1);return($,n)=>{const t=D;return l(),i("div",_s,[a(" Gaming Card Background "),e("div",$s,[a(" Animated Grid Pattern "),n[1]||(n[1]=e("div",{class:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width=%2260%22 height=%2260%22 viewBox=%220 0 60 60%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cg fill=%22none%22 fill-rule=%22evenodd%22%3E%3Cg fill=%22%239C92AC%22 fill-opacity=%220.05%22%3E%3Cpath d=%22M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z%22/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] opacity-40"},null,-1)),a(" Glow Effects "),g.value?(l(),i("div",{key:0,class:S(["absolute -top-20 -right-20 w-40 h-40 rounded-full blur-3xl opacity-30 bg-gradient-to-r",g.value.gradient])},null,2)):a("v-if",!0),n[2]||(n[2]=e("div",{class:"absolute -bottom-10 -left-10 w-32 h-32 bg-cyan-500/20 rounded-full blur-2xl"},null,-1))]),a(" Floating Particles "),n[15]||(n[15]=e("div",{class:"absolute top-4 right-6 w-1.5 h-1.5 bg-cyan-400 rounded-full animate-pulse"},null,-1)),n[16]||(n[16]=e("div",{class:"absolute top-12 right-16 w-1 h-1 bg-orange-400 rounded-full animate-ping opacity-60"},null,-1)),n[17]||(n[17]=e("div",{class:"absolute bottom-16 left-4 w-1 h-1 bg-purple-400 rounded-full animate-bounce opacity-50"},null,-1)),e("div",Cs,[a(" Header "),e("div",Ss,[e("div",Rs,[n[4]||(n[4]=e("div",{class:"h-px w-8 bg-gradient-to-r from-transparent to-cyan-500"},null,-1)),e("h2",Ts,[r(t,{name:"i-lucide-gamepad-2",class:"w-4 h-4 text-cyan-400"}),n[3]||(n[3]=e("span",{class:"bg-gradient-to-r from-cyan-400 to-purple-400 text-transparent bg-clip-text"},"PLAYER RANK",-1))])]),e("button",{onClick:n[0]||(n[0]=o=>h("openDetails")),class:"text-xs text-gray-400 hover:text-cyan-400 transition-colors flex items-center gap-1"},[n[5]||(n[5]=e("span",null,"Details",-1)),r(t,{name:"i-lucide-chevron-right",class:"w-3 h-3"})])]),a(" Current Rank Display "),s.currentRank&&g.value?(l(),i("div",Bs,[a(" 3D Rank Badge "),e("div",Ns,[a(" Rank Icon with 3D Effect "),e("div",Is,[a(" Outer Glow Ring "),e("div",{class:S(["absolute -inset-2 rounded-2xl bg-gradient-to-r opacity-60 blur-md animate-pulse",g.value.gradient])},null,2),a(" Inner Shadow Layer "),e("div",{class:S(["absolute inset-0 rounded-xl bg-gradient-to-br opacity-80",g.value.gradient]),style:{transform:"translateY(4px)"}},null,2),a(" Main Badge "),e("div",{class:S(["relative w-16 h-16 rounded-xl bg-gradient-to-br flex items-center justify-center shadow-2xl border border-white/20",g.value.gradient])},[a(" Shine Effect "),n[6]||(n[6]=e("div",{class:"absolute inset-0 rounded-xl bg-gradient-to-br from-white/30 via-transparent to-transparent"},null,-1)),r(t,{name:g.value.icon,class:"w-8 h-8 text-white drop-shadow-lg relative z-10"},null,8,["name"])],2),a(" Level Badge "),e("div",As,[e("span",js,c(d.value),1)])]),a(" Rank Info "),e("div",Ms,[e("h3",{class:S(["text-lg font-black mb-0.5 bg-gradient-to-r text-transparent bg-clip-text",g.value.gradient])},c(s.currentRank.name),3),e("div",Ps,[s.currentRank.cashbackRate>0?(l(),i("span",Ls,[r(t,{name:"i-lucide-percent",class:"w-3 h-3"}),C(" "+c(s.currentRank.cashbackRate)+"% Cashback ",1)])):a("v-if",!0),s.currentRank.affiliateBonusRate>0?(l(),i("span",Vs,[r(t,{name:"i-lucide-gift",class:"w-3 h-3"}),C(" +"+c(s.currentRank.affiliateBonusRate)+"% ",1)])):a("v-if",!0)])])]),a(" XP Progress Bar (Game Style) "),s.nextRank&&u.value?(l(),i("div",Es,[e("div",Ds,[e("span",Us,"Progress ke Level "+c(d.value+1),1),e("span",Os,c(Math.round(s.rankProgress))+"%",1)]),a(" XP Bar Container "),e("div",zs,[a(" XP Bar Fill "),e("div",{class:S(["absolute inset-y-0 left-0 bg-gradient-to-r rounded-lg transition-all duration-700",g.value.gradient]),style:ke({width:`${s.rankProgress}%`})},[a(" Shine Animation "),n[7]||(n[7]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer"},null,-1))],6),a(" XP Markers "),e("div",Xs,[(l(),i(B,null,E(4,o=>e("div",{key:o,class:"flex-1 border-r border-gray-700/30 last:border-r-0"})),64))])]),a(" Progress Details "),e("div",Hs,[e("div",Fs,[r(t,{name:"i-lucide-shopping-bag",class:"w-3 h-3"}),s.ordersToNextRank>0?(l(),i("span",Ks,c(s.ordersToNextRank)+" order",1)):(l(),i("span",Ws,"âœ“"))]),e("div",Gs,[r(t,{name:"i-lucide-coins",class:"w-3 h-3"}),s.spentToNextRank>0?(l(),i("span",qs,c(y(m)(s.spentToNextRank)),1)):(l(),i("span",Js,"âœ“"))])]),a(" Next Rank Preview "),e("div",Qs,[n[8]||(n[8]=e("span",{class:"text-[10px] text-gray-500"},"Next:",-1)),e("div",{class:S(["w-5 h-5 rounded-md bg-gradient-to-br flex items-center justify-center",u.value.gradient])},[r(t,{name:u.value.icon,class:"w-3 h-3 text-white"},null,8,["name"])],2),e("span",{class:S(["text-xs font-bold bg-gradient-to-r text-transparent bg-clip-text",u.value.gradient])},c(s.nextRank.name),3)])])):(l(),i(B,{key:1},[a(" Max Rank Badge "),e("div",Ys,[n[11]||(n[11]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-amber-500/10 via-yellow-500/10 to-orange-500/10 animate-pulse"},null,-1)),e("div",Zs,[e("div",er,[r(t,{name:"i-lucide-crown",class:"w-5 h-5 text-amber-400"}),n[9]||(n[9]=e("span",{class:"text-sm font-black bg-gradient-to-r from-amber-400 via-yellow-400 to-orange-400 text-transparent bg-clip-text"},"MAX RANK!",-1)),r(t,{name:"i-lucide-crown",class:"w-5 h-5 text-amber-400"})]),n[10]||(n[10]=e("p",{class:"text-[10px] text-amber-400/70"},"Anda adalah Legend of Vapers!",-1))])])],2112)),a(" Benefits List (Compact) "),s.currentRank?.benefits&&s.currentRank.benefits.length>0?(l(),i("div",tr,[e("div",ar,[r(t,{name:"i-lucide-sparkles",class:"w-3 h-3 text-yellow-400"}),n[12]||(n[12]=e("span",{class:"text-[10px] font-bold text-gray-400 uppercase tracking-wider"},"Active Perks",-1))]),e("div",sr,[(l(!0),i(B,null,E(s.currentRank.benefits.slice(0,3),(o,f)=>(l(),i("span",{key:f,class:"inline-flex items-center gap-1 px-2 py-1 bg-gray-800/80 border border-gray-700/50 rounded-md text-[10px] text-gray-300"},[r(t,{name:"i-lucide-check",class:"w-3 h-3 text-emerald-400"}),C(" "+c(o),1)]))),128))])])):a("v-if",!0)])):(l(),i(B,{key:1},[a(" No Rank State "),e("div",rr,[e("div",or,[r(t,{name:"i-lucide-user",class:"w-8 h-8 text-gray-600"})]),n[13]||(n[13]=e("p",{class:"text-sm text-gray-500"},"Belum ada rank",-1)),n[14]||(n[14]=e("p",{class:"text-xs text-gray-600 mt-1"},"Belanja untuk mendapatkan rank!",-1))])],2112))])])}}}),lr=ce(nr,[["__scopeId","data-v-9994dd20"]]),ir={class:"bg-white dark:bg-gray-800/80 rounded-2xl border border-gray-200/80 dark:border-gray-700/50 overflow-hidden"},dr={class:"px-5 py-4 border-b border-gray-100 dark:border-gray-700/50"},cr={class:"flex items-center justify-between"},ur={class:"flex items-center gap-3"},mr={class:"w-10 h-10 rounded-xl bg-linear-to-br from-emerald-500/10 to-teal-500/10 flex items-center justify-center"},gr={key:0,class:"divide-y divide-gray-100 dark:divide-gray-700/50"},pr={class:"flex items-start justify-between gap-3"},br={class:"flex-1 min-w-0"},xr={class:"flex items-center gap-2 mb-1.5"},fr={class:"font-semibold text-gray-900 dark:text-white"},vr={class:"px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300"},yr={key:0,class:"px-2 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-600 dark:bg-primary-900/30 dark:text-primary-400"},hr={class:"text-sm text-gray-500 dark:text-gray-400 mb-1"},kr={class:"text-sm text-gray-600 dark:text-gray-300 line-clamp-2"},wr={key:0},_r={class:"text-sm text-gray-500 dark:text-gray-400"},$r={class:"flex items-center gap-1"},Cr={key:1,class:"p-8 text-center"},Sr={class:"w-14 h-14 mx-auto mb-3 rounded-xl bg-gray-100 dark:bg-gray-700 flex items-center justify-center"},Rr=V({__name:"AddressList",props:{addresses:{}},emits:["add","edit","delete","setDefault"],setup(s,{emit:_}){const b=_;return(h,m)=>{const g=D,u=q;return l(),i("div",ir,[e("div",dr,[e("div",cr,[e("div",ur,[e("div",mr,[r(g,{name:"i-heroicons-map-pin",class:"w-5 h-5 text-emerald-500"})]),m[2]||(m[2]=e("h2",{class:"font-semibold text-gray-900 dark:text-white"},"Alamat Saya",-1))]),r(u,{variant:"ghost",color:"primary",size:"sm",onClick:m[0]||(m[0]=d=>b("add"))},{default:R(()=>[r(g,{name:"i-heroicons-plus",class:"w-4 h-4 mr-1"}),m[3]||(m[3]=C(" Tambah ",-1))]),_:1})])]),s.addresses.length>0?(l(),i("div",gr,[(l(!0),i(B,null,E(s.addresses,d=>(l(),i("div",{key:d.id,class:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors"},[e("div",pr,[e("div",br,[e("div",xr,[e("span",fr,c(d.recipientName),1),e("span",vr,c(d.label),1),d.isDefault?(l(),i("span",yr," Utama ")):a("v-if",!0)]),e("p",hr,c(d.phone),1),e("p",kr,[C(c(d.addressLine1)+" ",1),d.addressLine2?(l(),i("span",wr,", "+c(d.addressLine2),1)):a("v-if",!0)]),e("p",_r,c(d.districtName?`${d.districtName}, `:"")+c(d.cityName)+", "+c(d.provinceName)+" "+c(d.postalCode),1)]),e("div",$r,[d.isDefault?a("v-if",!0):(l(),G(u,{key:0,variant:"ghost",color:"gray",size:"xs",onClick:$=>b("setDefault",d.id)},{default:R(()=>[r(g,{name:"i-heroicons-star",class:"w-4 h-4"})]),_:1},8,["onClick"])),r(u,{variant:"ghost",color:"gray",size:"xs",onClick:$=>b("edit",d)},{default:R(()=>[r(g,{name:"i-heroicons-pencil",class:"w-4 h-4"})]),_:1},8,["onClick"]),r(u,{variant:"ghost",color:"error",size:"xs",onClick:$=>b("delete",d.id)},{default:R(()=>[r(g,{name:"i-heroicons-trash",class:"w-4 h-4"})]),_:1},8,["onClick"])])])]))),128))])):(l(),i("div",Cr,[e("div",Sr,[r(g,{name:"i-heroicons-map-pin",class:"w-7 h-7 text-gray-400"})]),m[5]||(m[5]=e("h3",{class:"font-semibold text-gray-900 dark:text-white mb-1"},"Belum Ada Alamat",-1)),m[6]||(m[6]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-4"}," Tambahkan alamat untuk mempermudah checkout ",-1)),r(u,{color:"primary",size:"sm",onClick:m[1]||(m[1]=d=>b("add"))},{default:R(()=>[r(g,{name:"i-heroicons-plus",class:"w-4 h-4 mr-1"}),m[4]||(m[4]=C(" Tambah Alamat ",-1))]),_:1})]))])}}}),Tr={class:"p-6 max-h-[85vh] overflow-y-auto"},Br={class:"flex items-center justify-between mb-6"},Nr={class:"text-xl font-bold text-gray-900 dark:text-white"},Ir={class:"flex flex-wrap gap-2"},Ar=["onClick"],jr={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Mr={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Pr={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Lr={class:"flex items-center gap-3 cursor-pointer"},Vr={class:"flex items-center justify-end gap-3 pt-4 border-t border-gray-100 dark:border-gray-700"},Er=V({__name:"AddressDialog",props:Z({address:{},customer:{},addressCount:{}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:Z(["save"],["update:modelValue"]),setup(s,{emit:_}){const b=s,h=de(s,"modelValue"),m=N(!1),g=N([]),u=N([]),d=N([]),$=N(!1),n=N(!1),t=N(!1),o=N({label:"Rumah",recipientName:"",phone:"",addressLine1:"",addressLine2:"",cityId:"",cityName:"",districtId:"",districtName:"",provinceId:"",provinceName:"",postalCode:"",isDefault:!1}),f=[{label:"Rumah",value:"Rumah"},{label:"Kantor",value:"Kantor"},{label:"Apartemen",value:"Apartemen"},{label:"Kos",value:"Kos"},{label:"Lainnya",value:"Lainnya"}],k=()=>{if(typeof document>"u")return null;const v=document.cookie.match(/XSRF-TOKEN=([^;]+)/);return v?decodeURIComponent(v[1]):null},I=O(()=>g.value.map(v=>({label:v.name,value:String(v.id)}))),T=O(()=>u.value.map(v=>({label:v.type?`${v.type} ${v.name}`:v.name,value:String(v.id)}))),w=O(()=>d.value.map(v=>({label:v.name,value:String(v.id)})));fe(async()=>{await U()});const U=async()=>{$.value=!0;try{const p=await(await fetch("/api/location/provinces")).json();g.value=p.data||p||[]}catch(v){console.error("Failed to load provinces:",v)}finally{$.value=!1}},P=async v=>{if(!v){u.value=[];return}n.value=!0;try{const x=await(await fetch(`/api/location/cities?provinceId=${v}`)).json();u.value=x.data||x||[]}catch(p){console.error("Failed to load cities:",p)}finally{n.value=!1}},L=async v=>{if(!v){d.value=[];return}t.value=!0;try{const x=await(await fetch(`/api/location/districts?cityId=${v}`)).json();d.value=x.data||x||[]}catch(p){console.error("Failed to load districts:",p)}finally{t.value=!1}};F(()=>o.value.provinceId,async(v,p)=>{if(v&&v!==p){const x=g.value.find(j=>String(j.id)===v);o.value.provinceName=x?.name||"",o.value.cityId="",o.value.cityName="",o.value.districtId="",o.value.districtName="",d.value=[],await P(v)}}),F(()=>o.value.cityId,async(v,p)=>{if(v&&v!==p){const x=u.value.find(j=>String(j.id)===v);o.value.cityName=x?x.type?`${x.type} ${x.name}`:x.name:"",x?.postal_code&&(o.value.postalCode=x.postal_code),o.value.districtId="",o.value.districtName="",await L(v)}}),F(()=>o.value.districtId,v=>{if(v){const p=d.value.find(x=>String(x.id)===v);o.value.districtName=p?.name||""}});const re=()=>{o.value={label:"Rumah",recipientName:b.customer.fullName,phone:b.customer.phone||"",addressLine1:"",addressLine2:"",cityId:"",cityName:"",districtId:"",districtName:"",provinceId:"",provinceName:"",postalCode:"",isDefault:b.addressCount===0},u.value=[],d.value=[]};F(()=>b.address,async v=>{v?(o.value={label:v.label,recipientName:v.recipientName,phone:v.phone,addressLine1:v.addressLine1,addressLine2:v.addressLine2||"",cityId:String(v.cityId||""),cityName:v.cityName,districtId:String(v.districtId||""),districtName:v.districtName||"",provinceId:String(v.provinceId||""),provinceName:v.provinceName,postalCode:v.postalCode,isDefault:!!v.isDefault},v.provinceId&&await P(String(v.provinceId)),v.cityId&&await L(String(v.cityId))):re()},{immediate:!0}),F(h,async v=>{v&&g.value.length===0&&await U()});const oe=async()=>{m.value=!0;try{const v=k(),x=await(await fetch("/api/dashboard/address",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest",...v&&{"X-XSRF-TOKEN":v}},body:JSON.stringify({id:b.address?.id,...o.value})})).json();x.success?(h.value=!1,window.location.reload()):alert(x.message||"Gagal menyimpan alamat")}catch(v){console.error("Failed to save address:",v),alert("Terjadi kesalahan saat menyimpan alamat")}finally{m.value=!1}},Q=()=>{h.value=!1},ee=O(()=>o.value.recipientName.trim()!==""&&o.value.phone.trim()!==""&&o.value.addressLine1.trim()!==""&&o.value.provinceId!==""&&o.value.cityId!==""&&o.value.postalCode.trim()!=="");return(v,p)=>{const x=D,j=q,M=ve,X=Te,H=Re,z=Se,te=se;return l(),G(te,{open:h.value,"onUpdate:open":p[9]||(p[9]=A=>h.value=A),ui:{width:"max-w-xl",overlay:"z-[100]",content:"z-[100]"},title:s.address?"Edit Alamat":"Tambah Alamat Baru",description:"Lengkapi data alamat pengiriman Anda"},{content:R(()=>[e("div",Tr,[e("div",Br,[e("h2",Nr,c(s.address?"Edit Alamat":"Tambah Alamat Baru"),1),r(j,{variant:"ghost",color:"neutral",size:"sm",square:"",onClick:Q},{default:R(()=>[r(x,{name:"i-heroicons-x-mark",class:"w-5 h-5"})]),_:1})]),e("form",{onSubmit:we(oe,["prevent"]),class:"space-y-4"},[a(" Label "),e("div",null,[p[10]||(p[10]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5"}," Label Alamat ",-1)),e("div",Ir,[(l(),i(B,null,E(f,A=>e("button",{key:A.value,type:"button",onClick:Wo=>o.value.label=A.value,class:S(["px-4 py-2 rounded-xl text-sm font-medium transition-all",o.value.label===A.value?"bg-primary-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"])},c(A.label),11,Ar)),64))])]),a(" Recipient & Phone "),e("div",jr,[e("div",null,[p[11]||(p[11]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5"},[C(" Nama Penerima "),e("span",{class:"text-red-500"},"*")],-1)),r(M,{modelValue:o.value.recipientName,"onUpdate:modelValue":p[0]||(p[0]=A=>o.value.recipientName=A),placeholder:"Nama lengkap penerima",class:"w-full"},null,8,["modelValue"])]),e("div",null,[p[12]||(p[12]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5"},[C(" No. Telepon "),e("span",{class:"text-red-500"},"*")],-1)),r(M,{modelValue:o.value.phone,"onUpdate:modelValue":p[1]||(p[1]=A=>o.value.phone=A),placeholder:"08xxxxxxxxxx",class:"w-full"},null,8,["modelValue"])])]),a(" Address Lines "),e("div",null,[p[13]||(p[13]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5"},[C(" Alamat Lengkap "),e("span",{class:"text-red-500"},"*")],-1)),r(X,{modelValue:o.value.addressLine1,"onUpdate:modelValue":p[2]||(p[2]=A=>o.value.addressLine1=A),placeholder:"Nama jalan, nomor rumah, RT/RW",rows:2,class:"w-full"},null,8,["modelValue"])]),e("div",null,[p[14]||(p[14]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5"}," Detail Tambahan (Opsional) ",-1)),r(M,{modelValue:o.value.addressLine2,"onUpdate:modelValue":p[3]||(p[3]=A=>o.value.addressLine2=A),placeholder:"Gedung, lantai, patokan, dll",class:"w-full"},null,8,["modelValue"])]),a(" Province & City with RajaOngkir "),e("div",Mr,[e("div",null,[p[15]||(p[15]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5"},[C(" Provinsi "),e("span",{class:"text-red-500"},"*")],-1)),r(H,{modelValue:o.value.provinceId,"onUpdate:modelValue":p[4]||(p[4]=A=>o.value.provinceId=A),items:I.value,placeholder:"Pilih provinsi",loading:$.value,disabled:$.value,"value-key":"value",ui:{content:"z-[200] bg-white dark:bg-gray-900"},class:"w-full"},null,8,["modelValue","items","loading","disabled"])]),e("div",null,[p[16]||(p[16]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5"},[C(" Kota/Kabupaten "),e("span",{class:"text-red-500"},"*")],-1)),r(H,{modelValue:o.value.cityId,"onUpdate:modelValue":p[5]||(p[5]=A=>o.value.cityId=A),items:T.value,placeholder:"Pilih kota/kabupaten",loading:n.value,disabled:!o.value.provinceId||n.value,"value-key":"value",ui:{content:"z-[200] bg-white dark:bg-gray-900"},class:"w-full"},null,8,["modelValue","items","loading","disabled"])])]),e("div",Pr,[e("div",null,[p[17]||(p[17]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5"}," Kecamatan ",-1)),r(H,{modelValue:o.value.districtId,"onUpdate:modelValue":p[6]||(p[6]=A=>o.value.districtId=A),items:w.value,placeholder:"Pilih kecamatan",loading:t.value,disabled:!o.value.cityId||t.value,"value-key":"value",ui:{content:"z-[200] bg-white dark:bg-gray-900"},class:"w-full"},null,8,["modelValue","items","loading","disabled"])]),e("div",null,[p[18]||(p[18]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5"},[C(" Kode Pos "),e("span",{class:"text-red-500"},"*")],-1)),r(M,{modelValue:o.value.postalCode,"onUpdate:modelValue":p[7]||(p[7]=A=>o.value.postalCode=A),placeholder:"Kode pos",class:"w-full"},null,8,["modelValue"])])]),a(" Default Checkbox "),e("label",Lr,[r(z,{modelValue:o.value.isDefault,"onUpdate:modelValue":p[8]||(p[8]=A=>o.value.isDefault=A)},null,8,["modelValue"]),p[19]||(p[19]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"Jadikan alamat utama",-1))]),a(" Actions "),e("div",Vr,[r(j,{variant:"ghost",color:"neutral",onClick:Q,disabled:m.value},{default:R(()=>[...p[20]||(p[20]=[C(" Batal ",-1)])]),_:1},8,["disabled"]),r(j,{type:"submit",color:"primary",loading:m.value,disabled:!ee.value},{default:R(()=>[C(c(s.address?"Simpan Perubahan":"Tambah Alamat"),1)]),_:1},8,["loading","disabled"])])],32)])]),_:1},8,["open","title"])}}}),Dr={class:"p-6 max-h-[85vh] overflow-y-auto"},Ur={class:"flex items-center justify-between mb-6"},Or={class:"flex items-center gap-3"},zr={class:"w-10 h-10 rounded-xl bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center"},Xr={class:"flex items-center gap-3"},Hr={key:1,class:"space-y-5"},Fr={class:"grid grid-cols-3 gap-2"},Kr=["onClick","disabled"],Wr={class:"relative"},Gr={class:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl"},qr={class:"flex items-center justify-between"},Jr={class:"text-xl font-bold text-gray-900 dark:text-white"},Qr={class:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl"},Yr={class:"flex items-start gap-3"},Zr={class:"flex items-center gap-3"},eo={class:"space-y-5"},to={class:"text-center py-4"},ao={class:"w-16 h-16 mx-auto mb-4 rounded-full bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center"},so={class:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl"},ro={class:"flex items-center justify-between"},oo={class:"text-xl font-bold text-gray-900 dark:text-white"},no={class:"space-y-5"},lo={class:"text-center py-4"},io={class:"w-16 h-16 mx-auto mb-4 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center"},co={class:"p-4 bg-green-50 dark:bg-green-900/20 rounded-xl"},uo={class:"flex items-center justify-between"},mo={class:"text-xl font-bold text-green-600 dark:text-green-400"},go=V({__name:"TopupDialog",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:Z(["topup","success"],["update:modelValue"]),setup(s,{emit:_}){const b=de(s,"modelValue"),h=_,{formatPrice:m}=K(),{payWithSnap:g,isSnapLoaded:u}=Be(),d=N(5e4),$=N(""),n=N(!1),t=N("idle"),o=N(""),f=N(null),k=[2e4,5e4,1e5,2e5,5e5,1e6],I=()=>{if(typeof document>"u")return null;const p=document.cookie.match(/XSRF-TOKEN=([^;]+)/);return p?decodeURIComponent(p[1]):null},T=(p,x)=>new Promise((j,M)=>{if(typeof window<"u"&&u()){j();return}const X=document.querySelector('script[src*="snap.js"]');X&&X.remove();const H=document.createElement("script"),z=x||"https://app.sandbox.midtrans.com/snap/snap.js",te=p||void 0||"";H.src=z,H.setAttribute("data-client-key",te),H.onload=()=>j(),H.onerror=()=>M(new Error("Failed to load Midtrans Snap")),document.head.appendChild(H)}),w=p=>{d.value=p,$.value=""},U=()=>{const p=parseInt($.value.replace(/\D/g,""));p>=1e4&&(d.value=p)},P=()=>{const p=parseInt($.value.replace(/\D/g,""));p&&($.value=p.toLocaleString("id-ID"))},L=async p=>{try{const x=I();await fetch(`/api/dashboard/wallet/topup/${p}`,{method:"DELETE",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest",...x&&{"X-XSRF-TOKEN":x}}}),f.value=null}catch(x){console.error("Failed to cancel topup:",x)}},re=async p=>{try{const x=I(),M=await(await fetch(`/api/dashboard/wallet/topup/${p}/confirm`,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest",...x&&{"X-XSRF-TOKEN":x}}})).json();return console.info("Confirm topup response:",M),M.status==="completed"}catch(x){return console.error("Failed to confirm topup:",x),!1}},oe=async()=>{if(!(d.value<1e4)){n.value=!0,t.value="processing",o.value="Memproses permintaan top up...";try{const p=I(),x=await fetch("/api/dashboard/wallet/topup",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest",...p&&{"X-XSRF-TOKEN":p}},body:JSON.stringify({amount:d.value})}),j=x.headers.get("content-type");if(!j||!j.includes("application/json"))throw x.status===401||x.redirected?new Error("Sesi Anda telah berakhir. Silakan login kembali."):new Error("Terjadi kesalahan pada server. Silakan coba lagi.");const M=await x.json();if(!x.ok||!M.success)throw new Error(M.message||"Gagal membuat pembayaran");f.value=M.transactionId,M.midtransConfig?await T(M.midtransConfig.clientKey,M.midtransConfig.snapUrl):await T(),b.value=!1,await new Promise(X=>setTimeout(X,100)),await g(M.snapToken,{onSuccess:async()=>{t.value="processing",o.value="Mengkonfirmasi pembayaran...",f.value?await re(f.value)?(t.value="success",o.value="Top up berhasil! Saldo telah ditambahkan.",f.value=null,h("success"),setTimeout(()=>{window.location.reload()},2e3)):(t.value="pending",o.value="Pembayaran sedang diproses. Saldo akan ditambahkan dalam beberapa saat.",b.value=!0):(t.value="success",o.value="Top up berhasil! Saldo akan segera ditambahkan.",h("success"),setTimeout(()=>{window.location.reload()},2e3))},onPending:()=>{t.value="pending",o.value="Menunggu pembayaran. Silakan selesaikan pembayaran Anda.",b.value=!0},onError:async X=>{t.value="failed",o.value=X||"Pembayaran gagal. Silakan coba lagi.",f.value&&await L(f.value),b.value=!0},onClose:async()=>{t.value==="processing"&&(t.value="idle",o.value="",f.value&&await L(f.value)),n.value=!1,t.value!=="success"&&(b.value=!0)}})}catch(p){console.error("Failed to topup:",p),t.value="failed",o.value=p.message||"Terjadi kesalahan. Silakan coba lagi.",n.value=!1}}},Q=()=>{t.value="idle",o.value="",n.value=!1,b.value=!1},ee=()=>{n.value&&t.value==="processing"||Q()},v=O(()=>{switch(t.value){case"processing":return{icon:"i-heroicons-arrow-path",color:"text-blue-500",animate:"animate-spin"};case"pending":return{icon:"i-heroicons-clock",color:"text-yellow-500",animate:""};case"success":return{icon:"i-heroicons-check-circle",color:"text-green-500",animate:""};case"failed":return{icon:"i-heroicons-x-circle",color:"text-red-500",animate:""};default:return null}});return(p,x)=>{const j=D,M=q,X=ve,H=se;return l(),G(H,{open:b.value,"onUpdate:open":x[1]||(x[1]=z=>b.value=z),ui:{width:"max-w-md",overlay:"z-[100]",content:"z-[100]"},title:"Top Up Saldo",description:"Pilih nominal untuk menambah saldo e-wallet Anda"},{content:R(()=>[e("div",Dr,[e("div",Ur,[e("div",Or,[e("div",zr,[r(j,{name:"i-heroicons-wallet",class:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})]),x[2]||(x[2]=e("h2",{class:"text-xl font-bold text-gray-900 dark:text-white"},"Top Up Saldo",-1))]),r(M,{variant:"ghost",color:"neutral",size:"sm",square:"",onClick:ee,disabled:n.value&&t.value==="processing"},{default:R(()=>[r(j,{name:"i-heroicons-x-mark",class:"w-5 h-5"})]),_:1},8,["disabled"])]),a(" Payment Status Message "),v.value?(l(),i("div",{key:0,class:S(["mb-5 p-4 rounded-xl",{"bg-blue-50 dark:bg-blue-900/20":t.value==="processing","bg-yellow-50 dark:bg-yellow-900/20":t.value==="pending","bg-green-50 dark:bg-green-900/20":t.value==="success","bg-red-50 dark:bg-red-900/20":t.value==="failed"}])},[e("div",Xr,[r(j,{name:v.value.icon,class:S(["w-6 h-6",[v.value.color,v.value.animate]])},null,8,["name","class"]),e("p",{class:S(["text-sm font-medium",v.value.color])},c(o.value),3)])],2)):a("v-if",!0),t.value==="idle"||t.value==="failed"?(l(),i("div",Hr,[a(" Preset Amounts "),e("div",null,[x[3]||(x[3]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"}," Pilih Nominal ",-1)),e("div",Fr,[(l(),i(B,null,E(k,z=>e("button",{key:z,type:"button",onClick:te=>w(z),disabled:n.value,class:S(["p-3 rounded-xl text-sm font-semibold transition-all border-2",d.value===z?"border-primary-500 bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600",n.value?"opacity-50 cursor-not-allowed":""])},c(y(m)(z)),11,Kr)),64))])]),a(" Custom Amount "),e("div",null,[x[5]||(x[5]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Atau Masukkan Nominal Lain ",-1)),e("div",Wr,[x[4]||(x[4]=e("span",{class:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium"},"Rp",-1)),r(X,{modelValue:$.value,"onUpdate:modelValue":x[0]||(x[0]=z=>$.value=z),onInput:U,onBlur:P,placeholder:"Minimal 10.000",class:"pl-10 w-full",type:"text",disabled:n.value},null,8,["modelValue","disabled"])])]),a(" Summary "),e("div",Gr,[e("div",qr,[x[6]||(x[6]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Total Top Up",-1)),e("span",Jr,c(y(m)(d.value)),1)])]),a(" Payment Methods Info "),e("div",Qr,[e("div",Yr,[r(j,{name:"i-heroicons-information-circle",class:"w-5 h-5 text-blue-500 shrink-0 mt-0.5"}),x[7]||(x[7]=e("div",{class:"text-sm text-blue-700 dark:text-blue-300"},[e("p",{class:"font-medium mb-1"},"Metode Pembayaran Tersedia:"),e("ul",{class:"list-disc list-inside text-xs space-y-0.5"},[e("li",null,"Transfer Bank (BCA, BNI, BRI, Mandiri, Permata)"),e("li",null,"E-Wallet (GoPay, ShopeePay, QRIS)"),e("li",null,"Kartu Kredit/Debit")])],-1))])]),a(" Actions "),e("div",Zr,[r(M,{variant:"outline",color:"neutral",block:"",onClick:ee,disabled:n.value},{default:R(()=>[...x[8]||(x[8]=[C(" Batal ",-1)])]),_:1},8,["disabled"]),r(M,{color:"primary",block:"",loading:n.value,disabled:d.value<1e4,onClick:oe},{default:R(()=>[r(j,{name:"i-heroicons-credit-card",class:"w-4 h-4 mr-2"}),C(" "+c(n.value?"Memproses...":"Top Up Sekarang"),1)]),_:1},8,["loading","disabled"])]),x[9]||(x[9]=e("p",{class:"text-xs text-gray-400 text-center"}," Pembayaran diproses melalui Midtrans. Saldo akan otomatis masuk setelah pembayaran dikonfirmasi. ",-1))])):t.value==="pending"?(l(),i(B,{key:2},[a(" Pending Payment Status "),e("div",eo,[e("div",to,[e("div",ao,[r(j,{name:"i-heroicons-clock",class:"w-8 h-8 text-yellow-500"})]),x[10]||(x[10]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"Menunggu Pembayaran",-1)),x[11]||(x[11]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Silakan selesaikan pembayaran Anda sesuai instruksi yang diberikan. ",-1))]),e("div",so,[e("div",ro,[x[12]||(x[12]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Nominal Top Up",-1)),e("span",oo,c(y(m)(d.value)),1)])]),r(M,{color:"primary",block:"",onClick:Q},{default:R(()=>[...x[13]||(x[13]=[C(" Tutup ",-1)])]),_:1}),x[14]||(x[14]=e("p",{class:"text-xs text-gray-400 text-center"}," Saldo akan otomatis masuk setelah pembayaran dikonfirmasi oleh sistem. ",-1))])],2112)):t.value==="success"?(l(),i(B,{key:3},[a(" Success Status "),e("div",no,[e("div",lo,[e("div",io,[r(j,{name:"i-heroicons-check-circle",class:"w-8 h-8 text-green-500"})]),x[15]||(x[15]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"Top Up Berhasil!",-1)),x[16]||(x[16]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Saldo Anda akan segera ditambahkan. ",-1))]),e("div",co,[e("div",uo,[x[17]||(x[17]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Nominal Top Up",-1)),e("span",mo,"+"+c(y(m)(d.value)),1)])]),x[18]||(x[18]=e("p",{class:"text-xs text-gray-400 text-center"}," Halaman akan diperbarui secara otomatis... ",-1))])],2112)):a("v-if",!0)])]),_:1},8,["open"])}}}),po={class:"p-6 max-h-[85vh] overflow-y-auto"},bo={class:"flex items-center justify-between mb-6"},xo={class:"flex items-center gap-3"},fo={class:"w-10 h-10 rounded-xl bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center"},vo={class:"space-y-4 max-h-[60vh] overflow-y-auto"},yo={key:0,class:"absolute -top-2.5 left-4 px-2.5 py-0.5 bg-primary-500 text-white text-xs font-bold rounded-full"},ho={class:"flex items-start gap-4"},ko={class:"flex-1 min-w-0"},wo={class:"flex items-center gap-2 mb-1"},_o={class:"font-bold text-gray-900 dark:text-white"},$o={class:"flex flex-wrap items-center gap-3 text-sm text-gray-500 dark:text-gray-400 mb-2"},Co={class:"flex items-center gap-1"},So={class:"flex items-center gap-1"},Ro={class:"flex flex-wrap items-center gap-2"},To={key:0,class:"inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-medium bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400"},Bo={key:1,class:"inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-medium bg-violet-100 text-violet-700 dark:bg-violet-900/30 dark:text-violet-400"},No={key:0,class:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700"},Io={class:"grid grid-cols-1 sm:grid-cols-2 gap-1.5"},Ao={class:"mt-6 pt-4 border-t border-gray-100 dark:border-gray-700"},jo=V({__name:"RankDialog",props:{modelValue:{type:Boolean},allRanks:{},currentRank:{}},emits:["update:modelValue"],setup(s,{emit:_}){const b=s,h=_,{formatPrice:m}=K(),g=()=>{h("update:modelValue",!1)},u=$=>b.currentRank?.id===$.id,d=$=>{if(!b.currentRank)return!1;const n=b.allRanks.findIndex(o=>o.id===b.currentRank?.id);return b.allRanks.findIndex(o=>o.id===$.id)<=n};return($,n)=>{const t=D,o=q,f=se;return l(),G(f,{open:b.modelValue,"onUpdate:open":n[0]||(n[0]=k=>b.modelValue=k),ui:{width:"max-w-2xl",overlay:"z-[100]",content:"z-[100]"},title:"Sistem Ranking Member",description:"Semakin sering belanja, semakin banyak keuntungan!"},{content:R(()=>[e("div",po,[e("div",bo,[e("div",xo,[e("div",fo,[r(t,{name:"i-heroicons-trophy",class:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})]),n[1]||(n[1]=e("div",null,[e("h2",{class:"text-xl font-bold text-gray-900 dark:text-white"},"Sistem Ranking Member"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Semakin sering belanja, semakin banyak keuntungan!")],-1))]),r(o,{variant:"ghost",color:"gray",size:"sm",square:"",onClick:g},{default:R(()=>[r(t,{name:"i-heroicons-x-mark",class:"w-5 h-5"})]),_:1})]),e("div",vo,[(l(!0),i(B,null,E(s.allRanks,k=>(l(),i("div",{key:k.id,class:S(["relative p-4 rounded-2xl border-2 transition-all",u(k)?`${y(W)(k.slug).border} ${y(W)(k.slug).bg}`:d(k)?"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 opacity-75"])},[a(" Current Badge "),u(k)?(l(),i("div",yo," Rank Anda ")):a("v-if",!0),e("div",ho,[a(" Rank Icon "),e("div",{class:S(["w-14 h-14 rounded-xl bg-linear-to-br flex items-center justify-center shrink-0",y(W)(k.slug).gradient])},[r(t,{name:y(W)(k.slug).icon,class:"w-7 h-7 text-white drop-shadow-lg"},null,8,["name"])],2),a(" Rank Info "),e("div",ko,[e("div",wo,[e("h3",_o,c(k.name),1),d(k)?(l(),G(t,{key:0,name:"i-heroicons-check-circle-solid",class:"w-5 h-5 text-emerald-500"})):a("v-if",!0)]),a(" Requirements "),e("div",$o,[e("span",Co,[r(t,{name:"i-heroicons-shopping-bag",class:"w-4 h-4"}),C(" "+c(k.minOrders)+" order ",1)]),e("span",So,[r(t,{name:"i-heroicons-banknotes",class:"w-4 h-4"}),C(" "+c(y(m)(k.minSpent)),1)])]),a(" Benefits Preview "),e("div",Ro,[k.cashbackRate>0?(l(),i("span",To,[r(t,{name:"i-heroicons-arrow-trending-up",class:"w-3 h-3"}),C(" Cashback "+c(k.cashbackRate)+"% ",1)])):a("v-if",!0),k.affiliateBonusRate>0?(l(),i("span",Bo,[r(t,{name:"i-heroicons-gift",class:"w-3 h-3"}),C(" +"+c(k.affiliateBonusRate)+"% Affiliate ",1)])):a("v-if",!0)]),a(" Full Benefits "),k.benefits&&k.benefits.length>0?(l(),i("div",No,[e("ul",Io,[(l(!0),i(B,null,E(k.benefits,(I,T)=>(l(),i("li",{key:T,class:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300"},[r(t,{name:"i-heroicons-check",class:"w-3.5 h-3.5 text-emerald-500 shrink-0"}),C(" "+c(I),1)]))),128))])])):a("v-if",!0)])])],2))),128))]),e("div",Ao,[r(o,{color:"primary",block:"",onClick:g},{default:R(()=>[...n[2]||(n[2]=[C(" Mengerti ",-1)])]),_:1})])])]),_:1},8,["open"])}}}),Mo={class:"p-6 text-center max-h-[85vh] overflow-y-auto"},Po={class:"w-14 h-14 mx-auto mb-4 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center"},Lo={class:"flex items-center gap-3"},Vo=V({__name:"DeleteAddressDialog",props:Z({addressId:{}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:Z(["confirm"],["update:modelValue"]),setup(s,{emit:_}){const b=s,h=de(s,"modelValue"),m=N(!1),g=()=>{if(typeof document>"u")return null;const $=document.cookie.match(/XSRF-TOKEN=([^;]+)/);return $?decodeURIComponent($[1]):null},u=async()=>{if(b.addressId){m.value=!0;try{const $=g(),t=await(await fetch(`/api/dashboard/address/${b.addressId}`,{method:"DELETE",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest",...$&&{"X-XSRF-TOKEN":$}}})).json();t.success?(h.value=!1,window.location.reload()):alert(t.message||"Gagal menghapus alamat")}catch($){console.error("Failed to delete address:",$),alert("Terjadi kesalahan saat menghapus alamat")}finally{m.value=!1}}},d=()=>{h.value=!1};return($,n)=>{const t=D,o=q,f=se;return l(),G(f,{open:h.value,"onUpdate:open":n[0]||(n[0]=k=>h.value=k),ui:{width:"max-w-sm",overlay:"z-[100]",content:"z-[100]"},title:"Hapus Alamat",description:"Konfirmasi penghapusan alamat"},{content:R(()=>[e("div",Mo,[e("div",Po,[r(t,{name:"i-heroicons-trash",class:"w-7 h-7 text-red-600 dark:text-red-400"})]),n[3]||(n[3]=e("h3",{class:"text-lg font-bold text-gray-900 dark:text-white mb-2"},"Hapus Alamat?",-1)),n[4]||(n[4]=e("p",{class:"text-gray-500 dark:text-gray-400 text-sm mb-6"}," Alamat yang dihapus tidak dapat dikembalikan. Apakah Anda yakin ingin menghapus alamat ini? ",-1)),e("div",Lo,[r(o,{variant:"outline",color:"neutral",block:"",onClick:d,disabled:m.value},{default:R(()=>[...n[1]||(n[1]=[C(" Batal ",-1)])]),_:1},8,["disabled"]),r(o,{color:"error",block:"",loading:m.value,onClick:u},{default:R(()=>[...n[2]||(n[2]=[C(" Ya, Hapus ",-1)])]),_:1},8,["loading"])])])]),_:1},8,["open"])}}}),Eo={class:"min-h-screen bg-linear-to-b from-gray-50 via-white to-gray-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900"},Do={class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12"},Uo={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Oo={class:"lg:col-span-2 space-y-8"},zo={class:"space-y-6"},Xo={class:"bg-white dark:bg-gray-800/80 rounded-2xl border border-gray-200/80 dark:border-gray-700/50 p-5"},Ho={class:"flex items-center gap-3 mb-4"},Fo={class:"w-10 h-10 rounded-xl bg-linear-to-br from-violet-500/10 to-purple-500/10 flex items-center justify-center"},Ko={href:"https://wa.me/6281234567890",target:"_blank"},un=V({layout:Ce,__name:"index",props:{customer:{},stats:{},cartCount:{},wishlistCount:{},addressCount:{},addresses:{},defaultAddress:{},recentOrders:{},wallet:{},recentTransactions:{},affiliate:{},recentCommissions:{},referrals:{},networkStats:{},networkTree:{},currentRank:{},nextRank:{},rankProgress:{},ordersToNextRank:{},spentToNextRank:{},allRanks:{}},setup(s){const _=N(!1),b=N(!1),h=N(!1),m=N(!1),g=N(null),u=N(null),d=()=>{g.value=null,_.value=!0},$=T=>{g.value=T,_.value=!0},n=T=>{u.value=T,b.value=!0},t=async T=>{try{const w=document.cookie.match(/XSRF-TOKEN=([^;]+)/)?.[1],U=w?decodeURIComponent(w):null,L=await(await fetch(`/api/dashboard/address/${T}/default`,{method:"PUT",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest",...U&&{"X-XSRF-TOKEN":U}}})).json();L.success?window.location.reload():alert(L.message||"Gagal mengubah alamat utama")}catch(w){console.error("Failed to set default address:",w),alert("Terjadi kesalahan saat mengubah alamat utama")}},o=$e(),f=()=>{me.visit("/dashboard/wallet/withdraw")},k=T=>{me.visit(`/dashboard/referrals?status=${T}`)},I=()=>{o.success("Link Referral Disalin!","Bagikan link referral Anda kepada teman untuk mendapatkan bonus.",3e3)};return(T,w)=>{const U=D,P=q;return l(),i(B,null,[r(y(_e),{title:"Dashboard - Ogitu"}),e("div",Eo,[a(" Background Effects "),w[10]||(w[10]=e("div",{class:"fixed inset-0 -z-10 overflow-hidden pointer-events-none"},[e("div",{class:"absolute top-0 left-1/4 w-125 h-125 bg-primary-500/10 rounded-full blur-3xl"}),e("div",{class:"absolute top-1/3 right-1/4 w-100 h-100 bg-secondary-500/10 rounded-full blur-3xl"}),e("div",{class:"absolute bottom-0 left-1/2 w-150 h-75 bg-primary-500/5 rounded-full blur-3xl"})],-1)),e("div",Do,[a(" Welcome Header "),r(y(Fe),{customer:s.customer,stats:s.stats,"current-rank":s.currentRank,onOpenRankDialog:w[0]||(w[0]=L=>m.value=!0)},null,8,["customer","stats","current-rank"]),a(" Quick Actions "),r(y(Qe),{stats:s.stats,"cart-count":s.cartCount,"wishlist-count":s.wishlistCount,"address-count":s.addressCount},null,8,["stats","cart-count","wishlist-count","address-count"]),a(" Order Status Cards "),r(y(rt),{stats:s.stats},null,8,["stats"]),a(" Main Content Grid "),e("div",Uo,[a(" Left Column - Orders & Addresses "),e("div",Oo,[a(" Recent Orders "),r(y(_t),{orders:s.recentOrders},null,8,["orders"]),a(" Address List "),r(y(Rr),{addresses:s.addresses,onAdd:d,onEdit:$,onDelete:n,onSetDefault:t},null,8,["addresses"])]),a(" Right Column - Sidebar "),e("div",zo,[a(" Wallet Card "),r(y(Dt),{wallet:s.wallet,transactions:s.recentTransactions,onOpenTopup:w[1]||(w[1]=L=>h.value=!0)},null,8,["wallet","transactions"]),a(" Rank Card "),r(y(lr),{"current-rank":s.currentRank,"next-rank":s.nextRank,"rank-progress":s.rankProgress,"orders-to-next-rank":s.ordersToNextRank,"spent-to-next-rank":s.spentToNextRank,onOpenDetails:w[2]||(w[2]=L=>m.value=!0)},null,8,["current-rank","next-rank","rank-progress","orders-to-next-rank","spent-to-next-rank"]),a(" MLM Card "),r(y(ws),{affiliate:s.affiliate,commissions:s.recentCommissions,referrals:s.referrals,"network-stats":s.networkStats,"network-tree":s.networkTree,onWithdraw:f,onViewAllMitra:k,onReferralCopied:I},null,8,["affiliate","commissions","referrals","network-stats","network-tree"]),a(" Help Card "),e("div",Xo,[e("div",Ho,[e("div",Fo,[r(U,{name:"i-heroicons-question-mark-circle",class:"w-5 h-5 text-violet-500"})]),w[7]||(w[7]=e("h2",{class:"font-semibold text-gray-900 dark:text-white"},"Butuh Bantuan?",-1))]),w[9]||(w[9]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-4"}," Tim kami siap membantu Anda 24/7 melalui WhatsApp ",-1)),e("a",Ko,[r(P,{variant:"outline",color:"success",block:"",size:"sm"},{default:R(()=>[r(U,{name:"i-simple-icons-whatsapp",class:"w-4 h-4 mr-2"}),w[8]||(w[8]=C(" Hubungi Kami ",-1))]),_:1})])])])])])]),a(" Dialogs "),r(y(Er),{modelValue:_.value,"onUpdate:modelValue":w[3]||(w[3]=L=>_.value=L),address:g.value,customer:s.customer,"address-count":s.addressCount},null,8,["modelValue","address","customer","address-count"]),r(y(Vo),{modelValue:b.value,"onUpdate:modelValue":w[4]||(w[4]=L=>b.value=L),"address-id":u.value},null,8,["modelValue","address-id"]),r(y(go),{modelValue:h.value,"onUpdate:modelValue":w[5]||(w[5]=L=>h.value=L)},null,8,["modelValue"]),r(y(jo),{modelValue:m.value,"onUpdate:modelValue":w[6]||(w[6]=L=>m.value=L),"all-ranks":s.allRanks,"current-rank":s.currentRank},null,8,["modelValue","all-ranks","current-rank"])],64)}}});export{un as default};
