import{_ as P}from"./Badge-DfumusWV.js";import{_ as C}from"./Card-BjL1m_sW.js";import{a as D,_ as A}from"./Button-CI_-soaG.js";import{d as I,a as d,j as c,b as t,f as s,w as i,u as p,m as _,t as l,k as f,o as m,F as T,r as $,J as L,l as v}from"./app-CyjtdGoI.js";import{A as j}from"./admin-BzR6vrex.js";import{_ as N}from"./PromotionStatusBadge.vue_vue_type_script_setup_true_lang-DYYiyx6A.js";import"./ColorModeButton-Bf7Nr8w3.js";import"./Tooltip-BrTR-Vq7.js";const F={class:"p-6 max-w-7xl mx-auto space-y-6"},B={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},U={class:"flex items-center gap-4"},R={class:"flex items-center gap-3"},V={class:"text-2xl font-bold text-gray-900 dark:text-white"},z={key:0,class:"text-gray-500 dark:text-gray-400 mt-1"},M={class:"flex items-center gap-2"},E={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},H={class:"flex items-center gap-3"},q={class:"p-2 rounded-lg bg-primary-100 dark:bg-primary-900/30"},J={class:"text-xl font-bold text-gray-900 dark:text-white"},W={class:"flex items-center gap-3"},G={class:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30"},K={class:"text-xl font-bold text-gray-900 dark:text-white"},O={class:"flex items-center gap-3"},Q={class:"p-2 rounded-lg bg-amber-100 dark:bg-amber-900/30"},X={class:"text-xl font-bold text-gray-900 dark:text-white"},Y={class:"flex items-center gap-3"},Z={class:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30"},tt={class:"text-xl font-bold text-gray-900 dark:text-white"},et={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},at={class:"text-lg font-medium text-gray-900 dark:text-white"},st={class:"text-lg font-medium text-gray-900 dark:text-white"},lt={key:0,class:"mt-4 p-4 rounded-lg bg-primary-50 dark:bg-primary-900/20"},it={class:"flex items-center gap-2"},rt={class:"font-medium text-primary-700 dark:text-primary-300"},ot={class:"flex items-center justify-between"},nt={key:0,class:"space-y-4"},dt=["src","alt"],ct={class:"flex-1 min-w-0"},mt={class:"font-medium text-gray-900 dark:text-white truncate"},gt={class:"flex items-center gap-2 mt-1"},ft={class:"text-lg font-bold text-primary-600 dark:text-primary-400"},xt={class:"text-sm text-gray-400 line-through"},ht={class:"text-right"},ut={class:"flex items-center gap-4"},yt={class:"font-semibold text-gray-900 dark:text-white"},kt={class:"w-24"},pt={class:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},_t={class:"text-xs text-gray-500 dark:text-gray-400 mt-1 text-center"},vt={key:1,class:"text-center py-8 text-gray-500 dark:text-gray-400"},bt={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},wt={class:"text-gray-900 dark:text-white"},St={class:"text-gray-900 dark:text-white"},jt=I({layout:j,__name:"show",props:{flashSale:{}},setup(a){const y=a,u=o=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(o),x=o=>new Date(o).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),b=o=>!o||o==="/images/placeholder.png"?"https://placehold.co/100x100/1a1a2e/ffffff?text=No+Image":o,w=()=>{v.post(`/admin/promotions/flash-sale/${y.flashSale.id}/toggle`,{},{preserveScroll:!0})},S=()=>{confirm("Apakah Anda yakin ingin menghapus flash sale ini?")&&v.delete(`/admin/promotions/flash-sale/${y.flashSale.id}`)};return(o,e)=>{const h=D,g=A,n=C,k=P;return m(),d("div",F,[c(" Header "),t("div",B,[t("div",U,[s(p(_),{href:"/admin/promotions/flash-sale"},{default:i(()=>[s(h,{icon:"i-heroicons-arrow-left",color:"neutral",variant:"ghost",size:"sm"})]),_:1}),t("div",null,[t("div",R,[t("h1",V,l(a.flashSale.name),1),s(N,{status:a.flashSale.status},null,8,["status"])]),a.flashSale.description?(m(),d("p",z,l(a.flashSale.description),1)):c("v-if",!0)])]),t("div",M,[s(h,{icon:a.flashSale.isActive?"i-heroicons-pause":"i-heroicons-play",color:a.flashSale.isActive?"warning":"success",variant:"soft",onClick:w},{default:i(()=>[f(l(a.flashSale.isActive?"Nonaktifkan":"Aktifkan"),1)]),_:1},8,["icon","color"]),s(p(_),{href:`/admin/promotions/flash-sale/${a.flashSale.id}/edit`},{default:i(()=>[s(h,{icon:"i-heroicons-pencil-square",color:"primary",variant:"soft"},{default:i(()=>[...e[0]||(e[0]=[f(" Edit ",-1)])]),_:1})]),_:1},8,["href"]),s(h,{icon:"i-heroicons-trash",color:"error",variant:"soft",onClick:S},{default:i(()=>[...e[1]||(e[1]=[f(" Hapus ",-1)])]),_:1})])]),c(" Stats Cards "),t("div",E,[s(n,null,{default:i(()=>[t("div",H,[t("div",q,[s(g,{name:"i-heroicons-shopping-bag",class:"w-5 h-5 text-primary-600 dark:text-primary-400"})]),t("div",null,[e[2]||(e[2]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total Produk",-1)),t("p",J,l(a.flashSale.productCount),1)])])]),_:1}),s(n,null,{default:i(()=>[t("div",W,[t("div",G,[s(g,{name:"i-heroicons-shopping-cart",class:"w-5 h-5 text-green-600 dark:text-green-400"})]),t("div",null,[e[3]||(e[3]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total Terjual",-1)),t("p",K,l(a.flashSale.totalSold),1)])])]),_:1}),s(n,null,{default:i(()=>[t("div",O,[t("div",Q,[s(g,{name:"i-heroicons-currency-dollar",class:"w-5 h-5 text-amber-600 dark:text-amber-400"})]),t("div",null,[e[4]||(e[4]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total Pendapatan",-1)),t("p",X,l(u(a.flashSale.totalRevenue)),1)])])]),_:1}),s(n,null,{default:i(()=>[t("div",Y,[t("div",Z,[s(g,{name:"i-heroicons-chart-bar",class:"w-5 h-5 text-blue-600 dark:text-blue-400"})]),t("div",null,[e[5]||(e[5]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Progress Penjualan",-1)),t("p",tt,l(a.flashSale.progress)+"%",1)])])]),_:1})]),c(" Period Info "),s(n,null,{header:i(()=>[...e[6]||(e[6]=[t("h3",{class:"font-semibold text-gray-900 dark:text-white"},"Informasi Periode",-1)])]),default:i(()=>[t("div",et,[t("div",null,[e[7]||(e[7]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Tanggal Mulai",-1)),t("p",at,l(x(a.flashSale.startDate)),1)]),t("div",null,[e[8]||(e[8]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Tanggal Selesai",-1)),t("p",st,l(x(a.flashSale.endDate)),1)])]),a.flashSale.timeRemaining?(m(),d("div",lt,[t("div",it,[s(g,{name:"i-heroicons-clock",class:"w-5 h-5 text-primary-600 dark:text-primary-400"}),t("span",rt," Waktu tersisa: "+l(a.flashSale.timeRemaining),1)])])):c("v-if",!0)]),_:1}),c(" Products List "),s(n,null,{header:i(()=>[t("div",ot,[e[9]||(e[9]=t("h3",{class:"font-semibold text-gray-900 dark:text-white"},"Produk Flash Sale",-1)),s(k,{color:"primary",variant:"soft"},{default:i(()=>[f(l(a.flashSale.products.length)+" produk ",1)]),_:1})])]),default:i(()=>[a.flashSale.products.length>0?(m(),d("div",nt,[(m(!0),d(T,null,$(a.flashSale.products,r=>(m(),d("div",{key:r.id,class:"flex items-center gap-4 p-4 rounded-lg border border-gray-200 dark:border-gray-700"},[t("img",{src:b(r.image),alt:r.name,class:"w-16 h-16 rounded-lg object-cover bg-gray-100 dark:bg-gray-800"},null,8,dt),t("div",ct,[t("p",mt,l(r.name),1),t("div",gt,[t("span",ft,l(u(r.flashPrice)),1),t("span",xt,l(u(r.originalPrice)),1),s(k,{color:"error",variant:"soft",size:"xs"},{default:i(()=>[f(" -"+l(r.discountPercentage)+"% ",1)]),_:2},1024)])]),t("div",ht,[t("div",ut,[t("div",null,[e[10]||(e[10]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Terjual",-1)),t("p",yt,l(r.soldCount)+" / "+l(r.stockLimit),1)]),t("div",kt,[t("div",pt,[t("div",{class:"h-full bg-primary-500 rounded-full transition-all",style:L({width:`${r.soldCount/r.stockLimit*100}%`})},null,4)]),t("p",_t,l(Math.round(r.soldCount/r.stockLimit*100))+"% ",1)])])])]))),128))])):(m(),d("div",vt,[s(g,{name:"i-heroicons-inbox",class:"w-12 h-12 mx-auto mb-2"}),e[11]||(e[11]=t("p",null,"Tidak ada produk dalam flash sale ini",-1))]))]),_:1}),c(" Metadata "),s(n,null,{header:i(()=>[...e[12]||(e[12]=[t("h3",{class:"font-semibold text-gray-900 dark:text-white"},"Informasi Lainnya",-1)])]),default:i(()=>[t("div",bt,[t("div",null,[e[13]||(e[13]=t("p",{class:"text-gray-500 dark:text-gray-400"},"Dibuat pada",-1)),t("p",wt,l(x(a.flashSale.createdAt)),1)]),t("div",null,[e[14]||(e[14]=t("p",{class:"text-gray-500 dark:text-gray-400"},"Terakhir diubah",-1)),t("p",St,l(x(a.flashSale.updatedAt)),1)])])]),_:1})])}}});export{jt as default};
