import{_ as h,a as N}from"./Button-CI_-soaG.js";import{_ as P}from"./Switch-sBWkdoVy.js";import{_ as U}from"./Select-D6kv-Jzs.js";import{_ as C,g as S}from"./ColorModeButton-Bf7Nr8w3.js";import{d as j,h as f,a as i,j as o,b as l,f as r,w as g,u as A,m as T,D as $,k as d,t as u,l as F,o as n}from"./app-CyjtdGoI.js";import{A as B}from"./admin-BzR6vrex.js";import"./Label-yeknIWsP.js";import"./useFormControl-D_pV87FU.js";import"./VisuallyHiddenInput-BGOu5NlX.js";import"./Tooltip-BrTR-Vq7.js";const E={class:"space-y-6"},G={class:"flex items-center gap-4"},M={class:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 p-6"},K={key:0,class:"mt-1 text-sm text-red-500"},L={key:0,class:"mt-1 text-sm text-red-500"},D={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},I={key:0,class:"mt-1 text-sm text-red-500"},O={key:0,class:"mt-1 text-sm text-red-500"},H={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},q={key:0,class:"mt-1 text-sm text-red-500"},z={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},J={class:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg"},Q={class:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg"},R={class:"flex justify-end gap-3 pt-4 border-t border-slate-200 dark:border-slate-700"},ie=j({layout:B,__name:"create",setup(W){const x=S(),a=f({fullName:"",email:"",password:"",passwordConfirmation:"",phone:"",gender:"",isActive:!0,isVerified:!1}),v=f(!1),t=f({}),c=[{label:"Laki-laki",value:"male"},{label:"Perempuan",value:"female"}],w=()=>(t.value={},a.value.fullName||(t.value.fullName="Nama lengkap wajib diisi"),a.value.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.value.email)||(t.value.email="Format email tidak valid"):t.value.email="Email wajib diisi",a.value.password?a.value.password.length<8&&(t.value.password="Password minimal 8 karakter"):t.value.password="Password wajib diisi",a.value.password!==a.value.passwordConfirmation&&(t.value.passwordConfirmation="Konfirmasi password tidak cocok"),a.value.phone&&!/^[0-9+\-\s()]+$/.test(a.value.phone)&&(t.value.phone="Format nomor telepon tidak valid"),Object.keys(t.value).length===0),V=()=>{if(!w())return;v.value=!0;const p={fullName:a.value.fullName,email:a.value.email,password:a.value.password,isActive:a.value.isActive,isVerified:a.value.isVerified};a.value.phone&&(p.phone=a.value.phone),a.value.gender&&(p.gender=a.value.gender),F.post("/admin/customers",p,{onSuccess:()=>{x.success("Pelanggan berhasil ditambahkan")},onError:e=>{e&&(t.value={...t.value,...e}),x.error("Gagal menambahkan pelanggan")},onFinish:()=>{v.value=!1}})};return(p,e)=>{const _=h,m=C,y=U,b=P,k=N;return n(),i("div",E,[o(" Page Header "),l("div",G,[r(A(T),{href:"/admin/customers",class:"w-10 h-10 rounded-lg bg-slate-100 dark:bg-slate-800 flex items-center justify-center hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors"},{default:g(()=>[r(_,{name:"i-heroicons-arrow-left",class:"w-5 h-5 text-slate-600 dark:text-slate-400"})]),_:1}),e[8]||(e[8]=l("div",null,[l("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Tambah Pelanggan"),l("p",{class:"text-gray-500 dark:text-gray-400"}," Tambah pelanggan baru ")],-1))]),o(" Form "),l("div",M,[l("form",{onSubmit:$(V,["prevent"]),class:"space-y-6"},[o(" Full Name "),l("div",null,[e[9]||(e[9]=l("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},[d(" Nama Lengkap "),l("span",{class:"text-red-500"},"*")],-1)),r(m,{modelValue:a.value.fullName,"onUpdate:modelValue":e[0]||(e[0]=s=>a.value.fullName=s),placeholder:"Masukkan nama lengkap",error:!!t.value.fullName},null,8,["modelValue","error"]),t.value.fullName?(n(),i("p",K,u(t.value.fullName),1)):o("v-if",!0)]),o(" Email "),l("div",null,[e[10]||(e[10]=l("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},[d(" Email "),l("span",{class:"text-red-500"},"*")],-1)),r(m,{modelValue:a.value.email,"onUpdate:modelValue":e[1]||(e[1]=s=>a.value.email=s),type:"email",placeholder:"Masukkan email",error:!!t.value.email},null,8,["modelValue","error"]),t.value.email?(n(),i("p",L,u(t.value.email),1)):o("v-if",!0)]),o(" Password "),l("div",D,[l("div",null,[e[11]||(e[11]=l("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},[d(" Password "),l("span",{class:"text-red-500"},"*")],-1)),r(m,{modelValue:a.value.password,"onUpdate:modelValue":e[2]||(e[2]=s=>a.value.password=s),type:"password",placeholder:"Masukkan password",error:!!t.value.password},null,8,["modelValue","error"]),t.value.password?(n(),i("p",I,u(t.value.password),1)):o("v-if",!0)]),l("div",null,[e[12]||(e[12]=l("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},[d(" Konfirmasi Password "),l("span",{class:"text-red-500"},"*")],-1)),r(m,{modelValue:a.value.passwordConfirmation,"onUpdate:modelValue":e[3]||(e[3]=s=>a.value.passwordConfirmation=s),type:"password",placeholder:"Konfirmasi password",error:!!t.value.passwordConfirmation},null,8,["modelValue","error"]),t.value.passwordConfirmation?(n(),i("p",O,u(t.value.passwordConfirmation),1)):o("v-if",!0)])]),o(" Phone & Gender "),l("div",H,[l("div",null,[e[13]||(e[13]=l("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"}," Nomor Telepon ",-1)),r(m,{modelValue:a.value.phone,"onUpdate:modelValue":e[4]||(e[4]=s=>a.value.phone=s),placeholder:"Contoh: 081234567890",error:!!t.value.phone},null,8,["modelValue","error"]),t.value.phone?(n(),i("p",q,u(t.value.phone),1)):o("v-if",!0)]),l("div",null,[e[14]||(e[14]=l("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"}," Gender ",-1)),r(y,{modelValue:a.value.gender,"onUpdate:modelValue":e[5]||(e[5]=s=>a.value.gender=s),items:c,placeholder:"Pilih Gender"},null,8,["modelValue"])])]),o(" Status Toggles "),l("div",z,[l("div",J,[e[15]||(e[15]=l("div",null,[l("p",{class:"font-medium text-slate-900 dark:text-white"},"Status Aktif"),l("p",{class:"text-sm text-slate-500 dark:text-slate-400"},"Pelanggan dapat login dan berbelanja")],-1)),r(b,{modelValue:a.value.isActive,"onUpdate:modelValue":e[6]||(e[6]=s=>a.value.isActive=s)},null,8,["modelValue"])]),l("div",Q,[e[16]||(e[16]=l("div",null,[l("p",{class:"font-medium text-slate-900 dark:text-white"},"Email Terverifikasi"),l("p",{class:"text-sm text-slate-500 dark:text-slate-400"},"Tandai email sebagai terverifikasi")],-1)),r(b,{modelValue:a.value.isVerified,"onUpdate:modelValue":e[7]||(e[7]=s=>a.value.isVerified=s)},null,8,["modelValue"])])]),o(" Submit "),l("div",R,[r(k,{color:"neutral",variant:"outline",to:"/admin/customers"},{default:g(()=>[...e[17]||(e[17]=[d(" Batal ",-1)])]),_:1}),r(k,{type:"submit",color:"primary",loading:v.value},{default:g(()=>[...e[18]||(e[18]=[d(" Simpan Pelanggan ",-1)])]),_:1},8,["loading"])])],32)])])}}});export{ie as default};
