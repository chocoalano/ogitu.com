import{_ as Y}from"./Pagination-97jdZAo5.js";import{_ as Z,a as ee}from"./Button-CI_-soaG.js";import{_ as te,g as ae,h as re}from"./ColorModeButton-Bf7Nr8w3.js";import{_ as oe}from"./Carousel-B71qS8NR.js";import{a as se,_ as ie}from"./default.vue_vue_type_script_setup_true_lang-CxtMHnvj.js";import{d as ne,c as v,h as T,aD as le,e as p,w as g,f as d,b as t,j as o,u as i,i as de,a as l,t as m,o as s,J as ce,m as b,k as h,F as k,r as w,E as ge,aF as me,S as U,l as N}from"./app-CyjtdGoI.js";import{u as ue,_ as ye,a as pe,b as fe}from"./CollectionEmptyState.vue_vue_type_script_setup_true_lang-6q5L2BLr.js";import{_ as O}from"./ProductCard.vue_vue_type_script_setup_true_lang-3a9nj5yL.js";import{_ as he}from"./ProductCardList.vue_vue_type_script_setup_true_lang-tNd1frET.js";import"./Modal-Bgd8PL5Y.js";import"./Badge-DfumusWV.js";import"./DropdownMenu-DxuVXSbh.js";import"./Checkbox-9qpvU9Db.js";import"./useFormControl-D_pV87FU.js";import"./VisuallyHiddenInput-BGOu5NlX.js";import"./Label-yeknIWsP.js";import"./SelectMenu-DKAhKU-v.js";import"./index-v4g8wp86.js";const ke=["content"],xe=["content"],be=["content"],ve=["content"],we=["content"],Ce=["content"],$e=["content"],Pe=["content"],Te={class:"min-h-screen bg-gray-50 dark:bg-gray-950"},_e={class:"relative bg-linear-to-br from-primary-600 via-primary-700 to-primary-800 dark:from-primary-800 dark:via-primary-900 dark:to-gray-900"},Se={class:"mb-6","aria-label":"Breadcrumb"},je={class:"flex items-center flex-wrap gap-2 text-sm"},Ae={class:"text-white font-medium"},Fe={class:"max-w-3xl"},Be={class:"text-3xl lg:text-4xl xl:text-5xl font-bold text-white mb-4"},Ue={key:0,class:"text-lg text-white/80 mb-6"},Oe={class:"flex items-center gap-4 text-white/70"},Ie={class:"flex items-center gap-2"},Re={key:0,class:"flex items-center gap-2"},Le={key:0,class:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800"},Ve={class:"flex items-center gap-3 overflow-x-auto pb-2 scrollbar-hide"},Me=["src","alt"],Ee={key:1,class:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800"},Ne={class:"flex items-center justify-between mb-6"},De={class:"text-xl lg:text-2xl font-bold text-gray-900 dark:text-white"},Ke={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 sm:gap-4"},We={key:2,class:"bg-gray-50 dark:bg-gray-950 border-b border-gray-200 dark:border-gray-800"},Xe={class:"flex items-center justify-between mb-6"},He={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},qe={class:"p-2"},Ge={class:"flex flex-col lg:flex-row gap-6 lg:gap-8"},Je={class:"hidden lg:block w-64 shrink-0"},ze={class:"sticky top-24 bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800"},Qe={key:0,class:"mb-6"},Ye={class:"space-y-2 max-h-48 overflow-y-auto"},Ze=["onUpdate:modelValue","value"],et={class:"text-sm text-gray-600 dark:text-gray-400"},tt={class:"mb-6"},at={class:"flex gap-2"},rt={class:"flex gap-2"},ot={class:"flex-1 min-w-0"},st={class:"mb-6"},it={class:"text-xl lg:text-2xl font-bold text-gray-900 dark:text-white"},nt={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},lt={key:0},dt={key:0,class:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4 lg:gap-6"},ct={class:"space-y-4"},gt={key:2,class:"mt-8 flex justify-center"},mt={key:3,class:"bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800"},ut={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4"},yt={class:"w-16 h-16 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center mb-3 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/30 transition-colors overflow-hidden"},pt=["src","alt"],ft={class:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-primary-700 dark:group-hover:text-primary-400 text-center"},ht={class:"w-16 h-16 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center mb-3 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/30 transition-colors overflow-hidden"},kt=["src","alt"],xt={class:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-primary-700 dark:group-hover:text-primary-400 text-center"},bt={class:"bg-gray-50 dark:bg-gray-950 border-t border-gray-200 dark:border-gray-800"},vt={class:"flex justify-center"},wt=ne({__name:"view",props:{category:{},parentCategory:{},subcategories:{},products:{},meta:{},brands:{},featuredProducts:{},newArrivals:{},filters:{}},setup(a){const n=a,D=v(()=>({search:"",category:n.category.slug,brand:n.filters.brand||"",minPrice:String(n.filters.minPrice||""),maxPrice:String(n.filters.maxPrice||""),sortBy:n.filters.sortBy||"newest"})),{localFilters:u,isMobileFilterOpen:C,hasActiveFilters:_,activeFilterCount:K,applyFilters:S,clearFilters:j,clearSingleFilter:W,goToPage:X,sortOptions:H}=ue(D.value),A=T("grid"),I=T(n.meta.currentPage),q=v(()=>n.meta.lastPage),f=ae(),F=T(null),B=T(null),R=()=>{const c=document.cookie.match(/XSRF-TOKEN=([^;]+)/);return c?decodeURIComponent(c[1]):""},$=async c=>{if(!F.value){F.value=c.id;try{const e=await fetch("/api/cart",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-XSRF-TOKEN":R()},credentials:"include",body:JSON.stringify({productId:c.id,quantity:1})}),y=await e.json();if(e.status===401){f.warning("Login Diperlukan","Silakan login untuk menambahkan ke keranjang"),N.visit("/login");return}y.success?f.success("Berhasil",y.message||"Produk ditambahkan ke keranjang"):f.error("Gagal",y.message||"Gagal menambahkan ke keranjang")}catch(e){console.error("Add to cart error:",e),f.error("Error","Terjadi kesalahan saat menambahkan ke keranjang")}finally{F.value=null}}},P=async c=>{if(!B.value){B.value=c.id;try{const e=await fetch("/api/wishlist/toggle",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-XSRF-TOKEN":R()},credentials:"include",body:JSON.stringify({productId:c.id})}),y=await e.json();if(e.status===401){f.warning("Login Diperlukan","Silakan login untuk menambahkan ke wishlist"),N.visit("/login");return}y.success?y.data?.isWishlisted?f.success("Berhasil","Produk ditambahkan ke wishlist"):f.info("Info","Produk dihapus dari wishlist"):f.error("Gagal",y.message||"Gagal memproses wishlist")}catch(e){console.error("Toggle wishlist error:",e),f.error("Error","Terjadi kesalahan saat memproses wishlist")}finally{B.value=null}}},G=v(()=>({"@context":"https://schema.org","@graph":[{"@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Beranda",item:window.location.origin},{"@type":"ListItem",position:2,name:"Koleksi",item:`${window.location.origin}/collections`},...n.parentCategory?[{"@type":"ListItem",position:3,name:n.parentCategory.name,item:`${window.location.origin}/collections/${n.parentCategory.slug}`},{"@type":"ListItem",position:4,name:n.category.name,item:`${window.location.origin}/collections/${n.category.slug}`}]:[{"@type":"ListItem",position:3,name:n.category.name,item:`${window.location.origin}/collections/${n.category.slug}`}]]},{"@type":"CollectionPage",name:n.category.name,description:n.category.description||`Temukan berbagai produk ${n.category.name} berkualitas di Ogitu`,url:`${window.location.origin}/collections/${n.category.slug}`,...n.category.image&&{image:n.category.image},mainEntity:{"@type":"ItemList",numberOfItems:n.meta.total,itemListElement:n.products.slice(0,10).map((c,e)=>({"@type":"ListItem",position:e+1,item:{"@type":"Product",name:c.name,image:c.image,url:`${window.location.origin}/products/${c.slug}`,offers:{"@type":"Offer",price:c.discountPrice||c.price,priceCurrency:"IDR",availability:c.stock>0?"https://schema.org/InStock":"https://schema.org/OutOfStock"},...c.rating>0&&{aggregateRating:{"@type":"AggregateRating",ratingValue:c.rating,reviewCount:c.totalReviews}}}}))}}]}));le({script:[{type:"application/ld+json",innerHTML:v(()=>JSON.stringify(G.value))}]});const L=v(()=>`${n.category.name} - Koleksi Produk Vape`),V=v(()=>n.category.description||`Jelajahi koleksi ${n.category.name} terlengkap. Temukan ${n.meta.total}+ produk berkualitas dengan harga terbaik hanya di Ogitu.`);return(c,e)=>{const y=Z,x=se,J=oe,M=te,E=ee,z=Y;return s(),p(ie,null,{default:g(()=>[d(i(de),null,{default:g(()=>[t("title",null,m(a.category.name),1),t("meta",{name:"description",content:a.category.description??`Jelajahi koleksi ${a.category.name} terlengkap. Temukan ${a.meta.total}+ produk berkualitas dengan harga terbaik hanya di Ogitu.`},null,8,ke),t("meta",{name:"keywords",content:`${a.category.name}, vape, e-liquid, pod, mod, ogitu`},null,8,xe),o(" Open Graph "),t("meta",{property:"og:title",content:L.value},null,8,be),t("meta",{property:"og:description",content:V.value},null,8,ve),e[9]||(e[9]=t("meta",{property:"og:type",content:"website"},null,-1)),t("meta",{property:"og:url",content:`${c.$page.props.appUrl}/collections/${a.category.slug}`},null,8,we),a.category.image?(s(),l("meta",{key:0,property:"og:image",content:a.category.image},null,8,Ce)):o("v-if",!0),o(" Twitter Card "),e[10]||(e[10]=t("meta",{name:"twitter:card",content:"summary_large_image"},null,-1)),t("meta",{name:"twitter:title",content:L.value},null,8,$e),t("meta",{name:"twitter:description",content:V.value},null,8,Pe)]),_:1}),t("div",Te,[o(" Category Hero Banner "),t("div",_e,[o(" Background Pattern "),e[16]||(e[16]=t("div",{class:"absolute inset-0 opacity-10"},[t("svg",{class:"w-full h-full",xmlns:"http://www.w3.org/2000/svg"},[t("defs",null,[t("pattern",{id:"hero-pattern",width:"40",height:"40",patternUnits:"userSpaceOnUse"},[t("circle",{cx:"20",cy:"20",r:"2",fill:"currentColor"})])]),t("rect",{width:"100%",height:"100%",fill:"url(#hero-pattern)"})])],-1)),o(" Category Image Overlay "),a.category.image?(s(),l("div",{key:0,class:"absolute inset-0 bg-cover bg-center opacity-20",style:ce({backgroundImage:`url(${a.category.image})`})},null,4)):o("v-if",!0),d(x,{class:"relative py-8 lg:py-12"},{default:g(()=>[o(" Breadcrumb "),t("nav",Se,[t("ol",je,[t("li",null,[d(i(b),{href:"/",class:"text-white/70 hover:text-white transition-colors"},{default:g(()=>[...e[11]||(e[11]=[h(" Beranda ",-1)])]),_:1})]),e[14]||(e[14]=t("li",{class:"text-white/50"},"/",-1)),t("li",null,[d(i(b),{href:"/collections",class:"text-white/70 hover:text-white transition-colors"},{default:g(()=>[...e[12]||(e[12]=[h(" Koleksi ",-1)])]),_:1})]),a.parentCategory?(s(),l(k,{key:0},[e[13]||(e[13]=t("li",{class:"text-white/50"},"/",-1)),t("li",null,[d(i(b),{href:`/collections/${a.parentCategory.slug}`,class:"text-white/70 hover:text-white transition-colors"},{default:g(()=>[h(m(a.parentCategory.name),1)]),_:1},8,["href"])])],64)):o("v-if",!0),e[15]||(e[15]=t("li",{class:"text-white/50"},"/",-1)),t("li",Ae,m(a.category.name),1)])]),o(" Category Info "),t("div",Fe,[t("h1",Be,m(a.category.name),1),a.category.description?(s(),l("p",Ue,m(a.category.description),1)):o("v-if",!0),t("div",Oe,[t("span",Ie,[d(y,{name:"i-heroicons-cube",class:"w-5 h-5"}),h(" "+m(a.meta.total)+" Produk ",1)]),a.brands.length>0?(s(),l("span",Re,[d(y,{name:"i-heroicons-building-storefront",class:"w-5 h-5"}),h(" "+m(a.brands.length)+" Brand ",1)])):o("v-if",!0)])])]),_:1})]),o(" Subcategories "),a.subcategories.length>0?(s(),l("div",Le,[d(x,{class:"py-4"},{default:g(()=>[t("div",Ve,[e[17]||(e[17]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400 whitespace-nowrap"},"Subkategori:",-1)),(s(!0),l(k,null,w(a.subcategories,r=>(s(),p(i(b),{key:r.id,href:`/collections/${r.slug}`,class:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-800 hover:bg-primary-100 dark:hover:bg-primary-900/30 text-gray-700 dark:text-gray-300 hover:text-primary-700 dark:hover:text-primary-400 rounded-full text-sm font-medium transition-colors whitespace-nowrap"},{default:g(()=>[r.image?(s(),l("img",{key:0,src:r.image,alt:r.name,class:"w-5 h-5 rounded-full object-cover"},null,8,Me)):o("v-if",!0),h(" "+m(r.name),1)]),_:2},1032,["href"]))),128))])]),_:1})])):o("v-if",!0),o(" Featured Products Section "),a.featuredProducts.length>0?(s(),l("div",Ee,[d(x,{class:"py-8"},{default:g(()=>[t("div",Ne,[t("div",null,[t("h2",De," â­ Produk Unggulan "+m(a.category.name),1),e[18]||(e[18]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," Pilihan terbaik dari kategori ini ",-1))])]),t("div",Ke,[(s(!0),l(k,null,w(a.featuredProducts.slice(0,6),r=>(s(),p(O,{key:r.id,product:r,size:"sm",onAddToCart:$,onAddToWishlist:P},null,8,["product"]))),128))])]),_:1})])):o("v-if",!0),o(" New Arrivals Section "),a.newArrivals.length>0?(s(),l("div",We,[d(x,{class:"py-8"},{default:g(()=>[t("div",Xe,[t("div",null,[e[19]||(e[19]=t("h2",{class:"text-xl lg:text-2xl font-bold text-gray-900 dark:text-white"}," Produk Terbaru ",-1)),t("p",He," Baru ditambahkan di kategori "+m(a.category.name),1)])]),d(J,{items:a.newArrivals.slice(0,10),arrows:"",prev:{color:"neutral",variant:"solid",class:"rounded-full shadow-lg"},next:{color:"neutral",variant:"solid",class:"rounded-full shadow-lg"},ui:{item:"basis-1/2 sm:basis-1/3 md:basis-1/4 lg:basis-1/4 xl:basis-1/4",prev:"start-2 sm:start-4",next:"end-2 sm:end-4"},class:"w-full"},{default:g(({item:r})=>[t("div",qe,[d(O,{product:r,onAddToCart:$,onAddToWishlist:P},null,8,["product"])])]),_:1},8,["items"])]),_:1})])):o("v-if",!0),o(" Main Products Section "),d(x,{class:"py-6 lg:py-8"},{default:g(()=>[t("div",Ge,[o(" Sidebar Filters (Desktop) "),t("aside",Je,[t("div",ze,[e[25]||(e[25]=t("h3",{class:"font-semibold text-gray-900 dark:text-white mb-4"},"Filter",-1)),o(" Brand Filter "),a.brands.length>0?(s(),l("div",Qe,[e[20]||(e[20]=t("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},"Brand",-1)),t("div",Ye,[(s(!0),l(k,null,w(a.brands,r=>(s(),l("label",{key:r,class:"flex items-center gap-2 cursor-pointer"},[ge(t("input",{"onUpdate:modelValue":Q=>i(u).brand=Q,type:"radio",value:r,name:"brand",class:"w-4 h-4 text-primary-600 border-gray-300 focus:ring-primary-500"},null,8,Ze),[[me,i(u).brand]]),t("span",et,m(r),1)]))),128)),i(u).brand?(s(),l("button",{key:0,type:"button",class:"text-xs text-primary-600 hover:text-primary-700 mt-2",onClick:e[0]||(e[0]=r=>i(u).brand="")}," Hapus filter brand ")):o("v-if",!0)])])):o("v-if",!0),o(" Price Range "),t("div",tt,[e[22]||(e[22]=t("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"}," Rentang Harga ",-1)),t("div",at,[d(M,{modelValue:i(u).minPrice,"onUpdate:modelValue":e[1]||(e[1]=r=>i(u).minPrice=r),type:"number",placeholder:"Min",size:"sm",class:"flex-1"},null,8,["modelValue"]),e[21]||(e[21]=t("span",{class:"text-gray-400 self-center"},"-",-1)),d(M,{modelValue:i(u).maxPrice,"onUpdate:modelValue":e[2]||(e[2]=r=>i(u).maxPrice=r),type:"number",placeholder:"Max",size:"sm",class:"flex-1"},null,8,["modelValue"])])]),o(" Action Buttons "),t("div",rt,[d(E,{color:"primary",block:"",onClick:i(S)},{default:g(()=>[...e[23]||(e[23]=[h(" Terapkan ",-1)])]),_:1},8,["onClick"]),i(_)?(s(),p(E,{key:0,color:"neutral",variant:"ghost",onClick:i(j)},{default:g(()=>[...e[24]||(e[24]=[h(" Reset ",-1)])]),_:1},8,["onClick"])):o("v-if",!0)])])]),o(" Main Content "),t("div",ot,[o(" Section Header "),t("div",st,[t("h2",it," Semua Produk "+m(a.category.name),1),t("p",nt," Menampilkan "+m(a.products.length)+" dari "+m(a.meta.total)+" produk ",1)]),o(" Toolbar "),d(ye,{"view-mode":A.value,"onUpdate:viewMode":e[3]||(e[3]=r=>A.value=r),filters:i(u),"onUpdate:filters":e[4]||(e[4]=r=>U(u)?u.value=r:null),"total-shown":a.products.length,"total-products":a.meta.total,categories:[],"active-filter-count":i(K),"has-active-filters":i(_),"sort-options":i(H),onOpenMobileFilter:e[5]||(e[5]=r=>C.value=!0),onApply:i(S),onClearFilter:i(W)},null,8,["view-mode","filters","total-shown","total-products","active-filter-count","has-active-filters","sort-options","onApply","onClearFilter"]),o(" Products "),a.products.length>0?(s(),l("div",lt,[o(" Grid View "),A.value==="grid"?(s(),l("div",dt,[(s(!0),l(k,null,w(a.products,r=>(s(),p(O,{key:r.id,product:r,onAddToCart:$,onAddToWishlist:P},null,8,["product"]))),128))])):(s(),l(k,{key:1},[o(" List View "),t("div",ct,[(s(!0),l(k,null,w(a.products,r=>(s(),p(he,{key:r.id,product:r,onAddToCart:$,onAddToWishlist:P},null,8,["product"]))),128))])],2112)),o(" Pagination "),q.value>1?(s(),l("div",gt,[d(z,{page:I.value,"onUpdate:page":[e[6]||(e[6]=r=>I.value=r),i(X)],total:a.meta.total,"items-per-page":a.meta.perPage,"show-edges":""},null,8,["page","total","items-per-page","onUpdate:page"])])):o("v-if",!0)])):(s(),l(k,{key:1},[o(" Empty State "),d(pe,{onReset:i(j)},null,8,["onReset"])],2112))])])]),_:1}),o(" Related Categories Section "),a.parentCategory||a.subcategories.length>0?(s(),l("div",mt,[d(x,{class:"py-8"},{default:g(()=>[e[27]||(e[27]=t("h2",{class:"text-xl lg:text-2xl font-bold text-gray-900 dark:text-white mb-6"}," Kategori Terkait ",-1)),t("div",ut,[o(" Parent Category "),a.parentCategory?(s(),p(i(b),{key:0,href:`/collections/${a.parentCategory.slug}`,class:"group flex flex-col items-center p-4 bg-gray-50 dark:bg-gray-800 rounded-xl hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-colors"},{default:g(()=>[t("div",yt,[a.parentCategory.image?(s(),l("img",{key:0,src:a.parentCategory.image,alt:a.parentCategory.name,class:"w-full h-full object-cover"},null,8,pt)):(s(),p(y,{key:1,name:"i-heroicons-folder",class:"w-8 h-8 text-gray-400"}))]),t("span",ft,m(a.parentCategory.name),1),e[26]||(e[26]=t("span",{class:"text-xs text-gray-400 mt-1"},"Kategori Utama",-1))]),_:1},8,["href"])):o("v-if",!0),o(" Subcategories "),(s(!0),l(k,null,w(a.subcategories,r=>(s(),p(i(b),{key:r.id,href:`/collections/${r.slug}`,class:"group flex flex-col items-center p-4 bg-gray-50 dark:bg-gray-800 rounded-xl hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-colors"},{default:g(()=>[t("div",ht,[r.image?(s(),l("img",{key:0,src:r.image,alt:r.name,class:"w-full h-full object-cover"},null,8,kt)):(s(),p(y,{key:1,name:"i-heroicons-folder",class:"w-8 h-8 text-gray-400"}))]),t("span",xt,m(r.name),1)]),_:2},1032,["href"]))),128))])]),_:1})])):o("v-if",!0),o(" Back to Collections "),t("div",bt,[d(x,{class:"py-6"},{default:g(()=>[t("div",vt,[d(i(b),{href:"/collections",class:"inline-flex items-center gap-2 text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium transition-colors"},{default:g(()=>[d(y,{name:"i-heroicons-arrow-left",class:"w-5 h-5"}),e[28]||(e[28]=h(" Lihat Semua Koleksi ",-1))]),_:1})])]),_:1})])]),o(" Mobile Filter Sidebar "),d(fe,{open:i(C),"onUpdate:open":e[7]||(e[7]=r=>U(C)?C.value=r:null),filters:i(u),"onUpdate:filters":e[8]||(e[8]=r=>U(u)?u.value=r:null),categories:[],brands:a.brands,"has-active-filters":i(_),onApply:i(S),onClear:i(j)},null,8,["open","filters","brands","has-active-filters","onApply","onClear"])]),_:1})}}}),Nt=re(wt,[["__scopeId","data-v-3b4cde4a"]]);export{Nt as default};
