import{h as P,c as C,d as b,a as g,f as r,b as t,u as d,m as S,w as y,k as x,o as u,j as s,P as U,t as p,e as j,n as _,F as E,r as I,i as D}from"./app-CyjtdGoI.js";import{_ as R}from"./default.vue_vue_type_script_setup_true_lang-CxtMHnvj.js";import{_ as w,a as F}from"./Button-CI_-soaG.js";import{_ as V,h as O}from"./ColorModeButton-Bf7Nr8w3.js";import"./Modal-Bgd8PL5Y.js";import"./Badge-DfumusWV.js";import"./DropdownMenu-DxuVXSbh.js";import"./Checkbox-9qpvU9Db.js";import"./useFormControl-D_pV87FU.js";import"./VisuallyHiddenInput-BGOu5NlX.js";import"./Label-yeknIWsP.js";function A({customer:e}){const i=P(!1),a=P(!1),n=P(null),l=P({fullName:e.fullName,phone:e.phone||""}),f=C(()=>e.fullName.split(" ").map(m=>m[0]).join("").toUpperCase().slice(0,2)),c=C(()=>l.value.fullName!==e.fullName||l.value.phone!==(e.phone||"")),o=m=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(m),v=m=>new Date(m).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}),h=()=>{if(typeof document>"u")return null;const m=document.cookie.match(/XSRF-TOKEN=([^;]+)/);return m?decodeURIComponent(m[1]):null};return{isEditing:i,isSaving:a,error:n,form:l,initials:f,hasChanges:c,formatPrice:o,formatDate:v,startEditing:()=>{i.value=!0,n.value=null},cancelEdit:()=>{l.value.fullName=e.fullName,l.value.phone=e.phone||"",i.value=!1,n.value=null},saveProfile:async()=>{if(!c.value)return i.value=!1,!0;a.value=!0,n.value=null;try{const m=h(),N=await(await fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest",...m&&{"X-XSRF-TOKEN":m}},body:JSON.stringify(l.value)})).json();return N.success?(i.value=!1,globalThis.window?.location?.reload(),!0):(n.value=N.message||"Gagal menyimpan profil",!1)}catch(m){return console.error("Failed to save profile:",m),n.value="Terjadi kesalahan saat menyimpan profil",!1}finally{a.value=!1}}}}const H={class:"flex items-center gap-2 text-sm mb-6"},M=b({__name:"ProfileBreadcrumb",setup(e){return(i,a)=>{const n=w;return u(),g("nav",H,[r(d(S),{href:"/",class:"text-gray-500 hover:text-primary-500 transition-colors"},{default:y(()=>[r(n,{name:"i-heroicons-home",class:"w-4 h-4"})]),_:1}),r(n,{name:"i-heroicons-chevron-right",class:"w-4 h-4 text-gray-400"}),r(d(S),{href:"/dashboard",class:"text-gray-500 hover:text-primary-500 transition-colors"},{default:y(()=>[...a[0]||(a[0]=[x(" Dashboard ",-1)])]),_:1}),r(n,{name:"i-heroicons-chevron-right",class:"w-4 h-4 text-gray-400"}),a[1]||(a[1]=t("span",{class:"text-gray-900 dark:text-white font-medium"},"Profil",-1))])}}}),z={class:"relative bg-white dark:bg-gray-800/80 rounded-3xl border border-gray-200/80 dark:border-gray-700/50 overflow-hidden mb-8"},X={class:"relative px-6 sm:px-8 pb-6"},q={class:"absolute -top-16 left-6 sm:left-8"},L={class:"relative"},W={class:"w-28 h-28 sm:w-32 sm:h-32 rounded-2xl bg-linear-to-br from-primary-500 to-purple-600 p-1 shadow-xl shadow-primary-500/30"},G={class:"w-full h-full rounded-xl bg-white dark:bg-gray-800 flex items-center justify-center overflow-hidden"},K=["src","alt"],Q={key:1,class:"text-3xl sm:text-4xl font-bold bg-linear-to-br from-primary-500 to-purple-600 bg-clip-text text-transparent"},J={key:0,class:"absolute -bottom-1 -right-1 w-8 h-8 bg-emerald-500 rounded-lg flex items-center justify-center shadow-lg"},Y={class:"pt-16 sm:pt-20 sm:ml-40"},Z={class:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4"},ee={class:"flex items-center gap-3 mb-1"},te={class:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white"},ae={class:"text-gray-500 dark:text-gray-400"},re={class:"text-sm text-gray-400 dark:text-gray-500 mt-1"},se=b({__name:"ProfileHeader",props:{customer:{},currentRank:{},initials:{},isEditing:{type:Boolean},formatDate:{type:Function}},emits:["edit"],setup(e,{emit:i}){const a=i;return(n,l)=>{const f=w,c=F;return u(),g("div",z,[s(" Header Background with Gradient "),l[2]||(l[2]=U('<div class="h-32 sm:h-40 bg-linear-to-r from-primary-500 via-purple-500 to-cyan-500 relative"><!-- Pattern Overlay --><div class="absolute inset-0 opacity-20"><svg class="w-full h-full" xmlns="http://www.w3.org/2000/svg"><defs><pattern id="vape-pattern" x="0" y="0" width="40" height="40" patternUnits="userSpaceOnUse"><circle cx="20" cy="20" r="2" fill="white"></circle></pattern></defs><rect width="100%" height="100%" fill="url(#vape-pattern)"></rect></svg></div><!-- Smoke Effect --><div class="absolute bottom-0 left-0 right-0 h-16 bg-linear-to-t from-white dark:from-gray-800/80 to-transparent"></div></div>',1)),s(" Profile Content "),t("div",X,[s(" Avatar "),t("div",q,[t("div",L,[t("div",W,[t("div",G,[e.customer.avatar?(u(),g("img",{key:0,src:e.customer.avatar,alt:e.customer.fullName,class:"w-full h-full object-cover"},null,8,K)):(u(),g("span",Q,p(e.initials),1))])]),s(" Verified Badge "),e.customer.isVerified?(u(),g("div",J,[r(f,{name:"i-heroicons-check-badge-solid",class:"w-5 h-5 text-white"})])):s("v-if",!0)])]),s(" User Info "),t("div",Y,[t("div",Z,[t("div",null,[t("div",ee,[t("h1",te,p(e.customer.fullName),1),s(" Rank Badge "),e.currentRank?(u(),g("div",{key:0,class:_(["inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-medium",e.currentRank.color])},[r(f,{name:e.currentRank.icon,class:"w-4 h-4"},null,8,["name"]),x(" "+p(e.currentRank.name),1)],2)):s("v-if",!0)]),t("p",ae,p(e.customer.email),1),t("p",re," Bergabung sejak "+p(e.formatDate(e.customer.createdAt)),1)]),e.isEditing?s("v-if",!0):(u(),j(c,{key:0,color:"primary",variant:"soft",onClick:l[0]||(l[0]=o=>a("edit"))},{default:y(()=>[r(f,{name:"i-heroicons-pencil-square",class:"w-4 h-4 mr-2"}),l[1]||(l[1]=x(" Edit Profil ",-1))]),_:1}))])])])])}}}),le={class:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-8"},oe={class:"text-2xl font-bold text-gray-900 dark:text-white truncate"},ne={class:"text-sm text-gray-500 dark:text-gray-400"},ie=b({__name:"ProfileStatsCards",props:{stats:{},wallet:{},formatPrice:{type:Function}},setup(e){const i=e,a=C(()=>[{icon:"i-heroicons-shopping-bag",value:i.stats.totalOrders.toString(),label:"Total Pesanan",color:"blue",bgClass:"bg-blue-500/10",iconClass:"text-blue-500"},{icon:"i-heroicons-banknotes",value:i.formatPrice(i.stats.totalSpent),label:"Total Belanja",color:"emerald",bgClass:"bg-emerald-500/10",iconClass:"text-emerald-500"},{icon:"i-heroicons-wallet",value:i.formatPrice(i.wallet.balance),label:"Saldo Wallet",color:"purple",bgClass:"bg-purple-500/10",iconClass:"text-purple-500"},{icon:"i-heroicons-clock",value:i.formatPrice(i.wallet.pendingBalance),label:"Pending Balance",color:"orange",bgClass:"bg-orange-500/10",iconClass:"text-orange-500"}]);return(n,l)=>{const f=w;return u(),g("div",le,[(u(!0),g(E,null,I(a.value,c=>(u(),g("div",{key:c.label,class:"bg-white dark:bg-gray-800/80 rounded-2xl border border-gray-200/80 dark:border-gray-700/50 p-5 hover:shadow-lg hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-300 group"},[t("div",{class:_(["w-10 h-10 rounded-xl flex items-center justify-center mb-3 transition-transform duration-300 group-hover:scale-110",c.bgClass])},[r(f,{name:c.icon,class:_(["w-5 h-5",c.iconClass])},null,8,["name","class"])],2),t("p",oe,p(c.value),1),t("p",ne,p(c.label),1)]))),128))])}}}),de={class:"bg-white dark:bg-gray-800/80 rounded-2xl border border-gray-200/80 dark:border-gray-700/50 overflow-hidden"},ce={class:"px-6 py-4 border-b border-gray-100 dark:border-gray-700/50"},ue={class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2"},me={class:"p-6 space-y-5"},ge={key:0,class:"flex items-center justify-end gap-3 pt-4 border-t border-gray-100 dark:border-gray-700/50"},fe=b({__name:"ProfileForm",props:{customer:{},form:{},isEditing:{type:Boolean},isSaving:{type:Boolean},formatDate:{type:Function}},emits:["update:form","save","cancel"],setup(e,{emit:i}){const a=e,n=i,l=c=>{n("update:form",{...a.form,fullName:c})},f=c=>{n("update:form",{...a.form,phone:c})};return(c,o)=>{const v=w,h=V,k=F;return u(),g("div",de,[s(" Header "),t("div",ce,[t("h2",ue,[r(v,{name:"i-heroicons-user-circle",class:"w-5 h-5 text-primary-500"}),o[2]||(o[2]=x(" Informasi Profil ",-1))])]),t("div",me,[s(" Full Name "),t("div",null,[o[3]||(o[3]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5"}," Nama Lengkap ",-1)),r(h,{"model-value":e.form.fullName,"onUpdate:modelValue":l,disabled:!e.isEditing,placeholder:"Masukkan nama lengkap",size:"lg",class:"w-full",ui:{base:"disabled:bg-gray-50 dark:disabled:bg-gray-800"}},null,8,["model-value","disabled"])]),s(" Email "),t("div",null,[o[4]||(o[4]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5"}," Email ",-1)),r(h,{"model-value":e.customer.email,disabled:"",class:"w-full",size:"lg",ui:{base:"disabled:bg-gray-50 dark:disabled:bg-gray-800"}},null,8,["model-value"]),o[5]||(o[5]=t("p",{class:"text-xs text-gray-500 mt-1"},"Email tidak dapat diubah",-1))]),s(" Phone "),t("div",null,[o[6]||(o[6]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5"}," Nomor Telepon ",-1)),r(h,{"model-value":e.form.phone,"onUpdate:modelValue":f,disabled:!e.isEditing,placeholder:"08xxxxxxxxxx",class:"w-full",size:"lg",ui:{base:"disabled:bg-gray-50 dark:disabled:bg-gray-800"}},null,8,["model-value","disabled"])]),s(" Member Since "),t("div",null,[o[7]||(o[7]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5"}," Terdaftar Sejak ",-1)),r(h,{"model-value":e.formatDate(e.customer.createdAt),disabled:"",class:"w-full",size:"lg",ui:{base:"disabled:bg-gray-50 dark:disabled:bg-gray-800"}},null,8,["model-value"])]),s(" Action Buttons "),e.isEditing?(u(),g("div",ge,[r(k,{variant:"ghost",color:"neutral",onClick:o[0]||(o[0]=$=>n("cancel")),disabled:e.isSaving},{default:y(()=>[...o[8]||(o[8]=[x(" Batal ",-1)])]),_:1},8,["disabled"]),r(k,{color:"primary",onClick:o[1]||(o[1]=$=>n("save")),loading:e.isSaving},{default:y(()=>[r(v,{name:"i-heroicons-check",class:"w-4 h-4 mr-2"}),o[9]||(o[9]=x(" Simpan Perubahan ",-1))]),_:1},8,["loading"])])):s("v-if",!0)])])}}}),pe={class:"bg-white dark:bg-gray-800/80 rounded-2xl border border-gray-200/80 dark:border-gray-700/50 overflow-hidden"},he={class:"px-6 py-4 border-b border-gray-100 dark:border-gray-700/50"},be={class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2"},xe={class:"p-2"},ve={class:"font-medium text-gray-700 dark:text-gray-300 group-hover:text-gray-900 dark:group-hover:text-white transition-colors"},ye=b({__name:"ProfileQuickMenu",props:{menuItems:{}},setup(e){return(i,a)=>{const n=w;return u(),g("div",pe,[s(" Header "),t("div",he,[t("h2",be,[r(n,{name:"i-heroicons-squares-2x2",class:"w-5 h-5 text-primary-500"}),a[0]||(a[0]=x(" Menu Cepat ",-1))])]),t("div",xe,[(u(!0),g(E,null,I(e.menuItems,l=>(u(),j(d(S),{key:l.label,href:l.href,class:"flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors group"},{default:y(()=>[t("div",{class:_(["w-10 h-10 rounded-xl flex items-center justify-center",l.color.replace("text-","bg-").replace("500","500/10")])},[r(n,{name:l.icon,class:_(["w-5 h-5",l.color])},null,8,["name","class"])],2),t("span",ve,p(l.label),1),r(n,{name:"i-heroicons-chevron-right",class:"w-4 h-4 text-gray-400 ml-auto"})]),_:2},1032,["href"]))),128))])])}}}),we={class:"bg-linear-to-br from-primary-500 to-purple-600 rounded-2xl p-6 text-white relative overflow-hidden"},ke={class:"relative"},_e={class:"w-12 h-12 rounded-xl bg-white/20 flex items-center justify-center mb-4"},$e={class:"font-bold text-lg mb-2"},Pe={class:"text-white/80 text-sm leading-relaxed"},Ce=b({__name:"ProfileTipCard",props:{title:{},description:{}},setup(e){return(i,a)=>{const n=w;return u(),g("div",we,[s(" Background Pattern "),a[0]||(a[0]=U('<div class="absolute inset-0 opacity-10"><svg class="w-full h-full" xmlns="http://www.w3.org/2000/svg"><defs><pattern id="tip-pattern" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><circle cx="10" cy="10" r="1" fill="white"></circle></pattern></defs><rect width="100%" height="100%" fill="url(#tip-pattern)"></rect></svg></div>',1)),t("div",ke,[t("div",_e,[r(n,{name:"i-heroicons-light-bulb",class:"w-6 h-6"})]),t("h3",$e,p(e.title??"Tips Vaping"),1),t("p",Pe,p(e.description??"Simpan e-liquid di tempat sejuk dan gelap untuk menjaga kualitas rasa. Hindari paparan sinar matahari langsung!"),1)])])}}}),Se={class:"fixed inset-0 -z-10 overflow-hidden pointer-events-none"},Ee=b({__name:"ProfileBackground",setup(e){return(i,a)=>(u(),g("div",Se,[a[0]||(a[0]=t("div",{class:"absolute top-0 left-1/4 w-125 h-125 bg-primary-500/10 rounded-full blur-3xl animate-pulse"},null,-1)),a[1]||(a[1]=t("div",{class:"absolute top-1/3 right-1/4 w-100 h-100 bg-purple-500/10 rounded-full blur-3xl"},null,-1)),a[2]||(a[2]=t("div",{class:"absolute bottom-1/4 left-1/2 w-150 h-75 bg-cyan-500/5 rounded-full blur-3xl"},null,-1)),s(" Smoke-like effects "),a[3]||(a[3]=t("div",{class:"absolute top-20 right-20 w-32 h-32 bg-white/5 rounded-full blur-2xl animate-float"},null,-1)),a[4]||(a[4]=t("div",{class:"absolute bottom-40 left-20 w-24 h-24 bg-white/3 rounded-full blur-xl animate-float-delayed"},null,-1))]))}}),Be=O(Ee,[["__scopeId","data-v-a9ff5cfb"]]),Ne={class:"min-h-screen bg-linear-to-b from-gray-50 via-white to-gray-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900"},Ue={class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12"},je={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Ie={class:"lg:col-span-2"},Fe={class:"lg:col-span-1 space-y-6"},Le=b({layout:R,__name:"index",props:{customer:{},stats:{},wallet:{},currentRank:{}},setup(e){const i=e,{isEditing:a,isSaving:n,form:l,initials:f,formatPrice:c,formatDate:o,startEditing:v,cancelEdit:h,saveProfile:k}=A({customer:i.customer}),$=[{icon:"i-heroicons-shopping-bag",label:"Pesanan Saya",href:"/orders",color:"text-blue-500"},{icon:"i-heroicons-map-pin",label:"Alamat",href:"/dashboard",color:"text-emerald-500"},{icon:"i-heroicons-wallet",label:"E-Wallet",href:"/dashboard",color:"text-purple-500"},{icon:"i-heroicons-heart",label:"Wishlist",href:"/dashboard",color:"text-pink-500"},{icon:"i-heroicons-users",label:"Program Afiliasi",href:"/dashboard",color:"text-orange-500"},{icon:"i-heroicons-cog-6-tooth",label:"Pengaturan",href:"/dashboard",color:"text-gray-500"}],B=m=>{l.value=m};return(m,T)=>(u(),g(E,null,[r(d(D),{title:"Profil Saya - Ogitu"}),t("div",Ne,[s(" Background Effects "),r(d(Be)),t("div",Ue,[s(" Breadcrumb "),r(d(M)),s(" Profile Header Card "),r(d(se),{customer:e.customer,"current-rank":e.currentRank,initials:d(f),"is-editing":d(a),"format-date":d(o),onEdit:d(v)},null,8,["customer","current-rank","initials","is-editing","format-date","onEdit"]),s(" Stats Cards "),r(d(ie),{stats:e.stats,wallet:e.wallet,"format-price":d(c)},null,8,["stats","wallet","format-price"]),s(" Main Content Grid "),t("div",je,[s(" Profile Form "),t("div",Ie,[r(d(fe),{customer:e.customer,form:d(l),"is-editing":d(a),"is-saving":d(n),"format-date":d(o),"onUpdate:form":B,onSave:d(k),onCancel:d(h)},null,8,["customer","form","is-editing","is-saving","format-date","onSave","onCancel"])]),s(" Sidebar "),t("div",Fe,[s(" Quick Menu "),r(d(ye),{"menu-items":$}),s(" Tip Card "),r(d(Ce))])])])])],64))}});export{Le as default};
