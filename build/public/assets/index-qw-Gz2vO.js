import{a as W,_ as re}from"./default.vue_vue_type_script_setup_true_lang-CxtMHnvj.js";import{_ as oe}from"./Pagination-97jdZAo5.js";import{_ as z,g as ie}from"./ColorModeButton-Bf7Nr8w3.js";import{d as M,a as m,f as g,w as b,b as e,j as s,I as ne,k as K,t as _,o as c,Q as X,R as se,L as J,F as P,r as j,E as U,aF as R,e as O,h as F,c as $,aD as le,u,i as de,S as A,l as G}from"./app-CyjtdGoI.js";import{u as ue,_ as ce,a as ge,b as me}from"./CollectionEmptyState.vue_vue_type_script_setup_true_lang-6q5L2BLr.js";import{z as pe,_ as Q,a as ye}from"./Button-CI_-soaG.js";import{_ as ke}from"./ProductCard.vue_vue_type_script_setup_true_lang-3a9nj5yL.js";import{_ as fe}from"./ProductCardList.vue_vue_type_script_setup_true_lang-tNd1frET.js";import"./Modal-Bgd8PL5Y.js";import"./Badge-DfumusWV.js";import"./DropdownMenu-DxuVXSbh.js";import"./Checkbox-9qpvU9Db.js";import"./useFormControl-D_pV87FU.js";import"./VisuallyHiddenInput-BGOu5NlX.js";import"./Label-yeknIWsP.js";import"./SelectMenu-DKAhKU-v.js";import"./index-v4g8wp86.js";const ve={class:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800"},he={class:"flex flex-col gap-4"},be={class:"flex items-center gap-2 text-sm"},$e={class:"text-gray-900 dark:text-white font-medium"},xe={class:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-white"},we={class:"mt-1 text-gray-600 dark:text-gray-400"},Ce=M({__name:"CollectionHeader",props:{activeCategory:{}},setup(r){return(a,n)=>{const k=pe,x=Q,o=W;return c(),m("div",ve,[g(o,{class:"py-6 lg:py-8"},{default:b(()=>[e("div",he,[s(" Breadcrumb "),e("nav",be,[g(k,{to:"/",class:"text-gray-500 dark:text-gray-400 hover:text-primary-500"},{default:b(()=>[...n[0]||(n[0]=[K(" Beranda ",-1)])]),_:1}),g(x,{name:"i-heroicons-chevron-right",class:"w-4 h-4 text-gray-400"}),e("span",$e,_(r.activeCategory?r.activeCategory.name:"Semua Produk"),1)]),s(" Title & Description "),e("div",null,[e("h1",xe,_(r.activeCategory?r.activeCategory.name:"Koleksi Produk"),1),e("p",we,_(r.activeCategory?.description||"Temukan berbagai produk vape berkualitas"),1)]),s(" Mobile Search Slot "),ne(a.$slots,"mobile-search")])]),_:3})])}}}),Pe={class:"hidden lg:block w-64 shrink-0"},_e={class:"sticky top-24 space-y-6"},Se={class:"bg-white dark:bg-gray-900 rounded-xl p-4 border border-gray-200 dark:border-gray-800"},Te={class:"bg-white dark:bg-gray-900 rounded-xl p-4 border border-gray-200 dark:border-gray-800"},Ve={class:"space-y-2 max-h-60 overflow-y-auto"},Ue=["value","onUpdate:modelValue"],Re={class:"text-sm text-gray-700 dark:text-gray-300 group-hover:text-primary-500 transition-colors"},Fe={class:"flex items-center gap-2 cursor-pointer group"},Ae={class:"bg-white dark:bg-gray-900 rounded-xl p-4 border border-gray-200 dark:border-gray-800"},Oe={class:"space-y-2 max-h-60 overflow-y-auto"},je=["value","onUpdate:modelValue"],Ie={class:"text-sm text-gray-700 dark:text-gray-300 group-hover:text-primary-500 transition-colors"},Be={class:"flex items-center gap-2 cursor-pointer group"},Ee={class:"bg-white dark:bg-gray-900 rounded-xl p-4 border border-gray-200 dark:border-gray-800"},Le={class:"space-y-3"},Ke={class:"flex flex-col gap-2"},Me=M({__name:"CollectionFilters",props:X({categories:{},brands:{},hasActiveFilters:{type:Boolean}},{filters:{required:!0},filtersModifiers:{}}),emits:X(["apply","clear"],["update:filters"]),setup(r,{emit:a}){const n=se(r,"filters"),k=a;return(x,o)=>{const v=z,w=Q,T=ye;return c(),m("aside",Pe,[e("div",_e,[s(" Search "),e("div",Se,[o[8]||(o[8]=e("h3",{class:"font-semibold text-gray-900 dark:text-white mb-3"},"Pencarian",-1)),g(v,{modelValue:n.value.search,"onUpdate:modelValue":o[0]||(o[0]=l=>n.value.search=l),placeholder:"Cari produk...",icon:"i-heroicons-magnifying-glass",onKeyup:o[1]||(o[1]=J(l=>k("apply"),["enter"]))},null,8,["modelValue"])]),s(" Categories "),e("div",Te,[o[10]||(o[10]=e("h3",{class:"font-semibold text-gray-900 dark:text-white mb-3"},"Kategori",-1)),e("div",Ve,[(c(!0),m(P,null,j(r.categories,l=>(c(),m("label",{key:l.id,class:"flex items-center gap-2 cursor-pointer group"},[U(e("input",{type:"radio",value:l.slug,"onUpdate:modelValue":S=>n.value.category=S,class:"w-4 h-4 text-primary-500 border-gray-300 dark:border-gray-600 focus:ring-primary-500"},null,8,Ue),[[R,n.value.category]]),e("span",Re,_(l.name),1)]))),128)),e("label",Fe,[U(e("input",{type:"radio",value:"","onUpdate:modelValue":o[2]||(o[2]=l=>n.value.category=l),class:"w-4 h-4 text-primary-500 border-gray-300 dark:border-gray-600 focus:ring-primary-500"},null,512),[[R,n.value.category]]),o[9]||(o[9]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300 group-hover:text-primary-500 transition-colors"}," Semua Kategori ",-1))])])]),s(" Brands "),e("div",Ae,[o[12]||(o[12]=e("h3",{class:"font-semibold text-gray-900 dark:text-white mb-3"},"Brand",-1)),e("div",Oe,[(c(!0),m(P,null,j(r.brands,l=>(c(),m("label",{key:l,class:"flex items-center gap-2 cursor-pointer group"},[U(e("input",{type:"radio",value:l,"onUpdate:modelValue":S=>n.value.brand=S,class:"w-4 h-4 text-primary-500 border-gray-300 dark:border-gray-600 focus:ring-primary-500"},null,8,je),[[R,n.value.brand]]),e("span",Ie,_(l),1)]))),128)),e("label",Be,[U(e("input",{type:"radio",value:"","onUpdate:modelValue":o[3]||(o[3]=l=>n.value.brand=l),class:"w-4 h-4 text-primary-500 border-gray-300 dark:border-gray-600 focus:ring-primary-500"},null,512),[[R,n.value.brand]]),o[11]||(o[11]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300 group-hover:text-primary-500 transition-colors"}," Semua Brand ",-1))])])]),s(" Price Range "),e("div",Ee,[o[13]||(o[13]=e("h3",{class:"font-semibold text-gray-900 dark:text-white mb-3"},"Rentang Harga",-1)),e("div",Le,[g(v,{modelValue:n.value.minPrice,"onUpdate:modelValue":o[4]||(o[4]=l=>n.value.minPrice=l),type:"number",placeholder:"Harga Min",icon:"i-heroicons-currency-dollar"},null,8,["modelValue"]),g(v,{modelValue:n.value.maxPrice,"onUpdate:modelValue":o[5]||(o[5]=l=>n.value.maxPrice=l),type:"number",placeholder:"Harga Max",icon:"i-heroicons-currency-dollar"},null,8,["modelValue"])])]),s(" Apply & Clear Buttons "),e("div",Ke,[g(T,{color:"primary",block:"",onClick:o[6]||(o[6]=l=>k("apply"))},{default:b(()=>[g(w,{name:"i-heroicons-funnel",class:"w-4 h-4"}),o[14]||(o[14]=K(" Terapkan Filter ",-1))]),_:1}),r.hasActiveFilters?(c(),O(T,{key:0,color:"neutral",variant:"ghost",block:"",onClick:o[7]||(o[7]=l=>k("clear"))},{default:b(()=>[g(w,{name:"i-heroicons-x-mark",class:"w-4 h-4"}),o[15]||(o[15]=K(" Hapus Filter ",-1))]),_:1})):s("v-if",!0)])])])}}}),qe=["content"],De=["content"],He=["href"],Ne=["href"],Xe=["href"],Ge=["content"],We=["content"],ze=["content"],Je=["content"],Qe=["content"],Ye=["content"],Ze=["content"],et=["content"],tt=["content"],at=["content"],rt={class:"min-h-screen bg-gray-50 dark:bg-gray-950"},ot={class:"lg:hidden"},it={class:"flex flex-col lg:flex-row gap-6 lg:gap-8"},nt={class:"flex-1 min-w-0"},st={key:0},lt={key:0,class:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4 lg:gap-6"},dt={class:"space-y-4"},ut={key:2,class:"mt-8 flex justify-center"},y="https://ogitu.com",C="Ogitu",Tt=M({__name:"index",props:{products:{},meta:{},categories:{},brands:{},filters:{},activeCategory:{}},setup(r){const a=r,{localFilters:n,isMobileFilterOpen:k,hasActiveFilters:x,activeFilterCount:o,applyFilters:v,clearFilters:w,clearSingleFilter:T,goToPage:l,sortOptions:S}=ue(a.filters),I=F("grid"),q=F(a.meta.currentPage),Y=$(()=>a.meta.lastPage),f=ie(),B=F(null),E=F(null),D=()=>{const i=document.cookie.match(/XSRF-TOKEN=([^;]+)/);return i?decodeURIComponent(i[1]):""},H=async i=>{if(!B.value){B.value=i.id;try{const t=await fetch("/api/cart",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-XSRF-TOKEN":D()},credentials:"include",body:JSON.stringify({productId:i.id,quantity:1})}),p=await t.json();if(t.status===401){f.warning("Login Diperlukan","Silakan login untuk menambahkan ke keranjang"),G.visit("/login");return}p.success?f.success("Berhasil",p.message||"Produk ditambahkan ke keranjang"):f.error("Gagal",p.message||"Gagal menambahkan ke keranjang")}catch(t){console.error("Add to cart error:",t),f.error("Error","Terjadi kesalahan saat menambahkan ke keranjang")}finally{B.value=null}}},N=async i=>{if(!E.value){E.value=i.id;try{const t=await fetch("/api/wishlist/toggle",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-XSRF-TOKEN":D()},credentials:"include",body:JSON.stringify({productId:i.id})}),p=await t.json();if(t.status===401){f.warning("Login Diperlukan","Silakan login untuk menambahkan ke wishlist"),G.visit("/login");return}p.success?p.data?.isWishlisted?f.success("Berhasil","Produk ditambahkan ke wishlist"):f.info("Info","Produk dihapus dari wishlist"):f.error("Gagal",p.message||"Gagal memproses wishlist")}catch(t){console.error("Toggle wishlist error:",t),f.error("Error","Terjadi kesalahan saat memproses wishlist")}finally{E.value=null}}},L=$(()=>a.activeCategory?`${a.activeCategory.name} - Beli Vape & Rokok Elektrik Original | ${C}`:a.filters.search?`Hasil Pencarian "${a.filters.search}" - ${C}`:a.filters.brand?`Produk ${a.filters.brand} - Vape & Rokok Elektrik | ${C}`:`Koleksi Vape & Rokok Elektrik Terlengkap | ${C}`),V=$(()=>{const i=a.meta.total;return a.activeCategory?`Jual ${a.activeCategory.name} original ${i}+ pilihan. ${a.activeCategory.description||"Temukan vape, pod system, mod kit, liquid premium dengan harga terbaik."} Garansi resmi & gratis ongkir ke seluruh Indonesia.`:a.filters.search?`Temukan ${i} produk untuk "${a.filters.search}". Belanja vape, pod, liquid, dan aksesoris berkualitas dengan harga terbaik di Ogitu.`:a.filters.brand?`Koleksi lengkap produk ${a.filters.brand} original. ${i}+ varian vape, pod system, dan liquid tersedia. Garansi resmi, gratis ongkir.`:`Belanja vape, rokok elektrik, pod system, mod kit, liquid premium dari ${i}+ produk. Harga terbaik, 100% original, gratis ongkir ke seluruh Indonesia.`}),Z=$(()=>{const i=["vape","rokok elektrik","pod system","mod kit","liquid vape","e-liquid","salt nicotine","coil","atomizer","vaporizer","toko vape online","jual vape murah","vape indonesia"];return a.activeCategory?[a.activeCategory.name,`jual ${a.activeCategory.name}`,`beli ${a.activeCategory.name}`,...i].join(", "):a.filters.brand?[`${a.filters.brand} vape`,`${a.filters.brand} pod`,`${a.filters.brand} original`,...i].join(", "):i.join(", ")}),h=$(()=>{let i=`${y}/collections`;const t=new URLSearchParams;a.filters.category&&t.set("category",a.filters.category),a.filters.brand&&t.set("brand",a.filters.brand),a.filters.search&&t.set("search",a.filters.search),a.meta.currentPage>1&&t.set("page",String(a.meta.currentPage));const p=t.toString();return p?`${i}?${p}`:i}),ee=$(()=>({"@context":"https://schema.org","@graph":[{"@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Beranda",item:y},{"@type":"ListItem",position:2,name:"Koleksi Produk",item:`${y}/collections`},...a.activeCategory?[{"@type":"ListItem",position:3,name:a.activeCategory.name,item:`${y}/collections/${a.activeCategory.slug}`}]:[]]},{"@type":a.filters.search?"SearchResultsPage":"CollectionPage",name:a.activeCategory?.name||"Koleksi Vape & Rokok Elektrik",description:V.value,url:h.value,mainEntity:{"@type":"ItemList",numberOfItems:a.meta.total,itemListElement:a.products.slice(0,10).map((i,t)=>({"@type":"ListItem",position:t+1,item:{"@type":"Product",name:i.name,image:i.image,url:`${y}/products/${i.slug}`,description:`${i.name} - ${i.brand||"Vape"} berkualitas`,brand:i.brand?{"@type":"Brand",name:i.brand}:void 0,offers:{"@type":"Offer",price:i.discountPrice||i.price,priceCurrency:"IDR",availability:i.stock>0?"https://schema.org/InStock":"https://schema.org/OutOfStock"},...i.rating>0&&{aggregateRating:{"@type":"AggregateRating",ratingValue:i.rating,reviewCount:i.totalReviews,bestRating:5,worstRating:1}}}}))}},{"@type":"WebSite","@id":`${y}/#website`,url:y,name:C,potentialAction:{"@type":"SearchAction",target:{"@type":"EntryPoint",urlTemplate:`${y}/collections?search={search_term_string}`},"query-input":"required name=search_term_string"}},{"@type":"Organization","@id":`${y}/#organization`,name:C,url:y,logo:`${y}/images/logo.png`,sameAs:["https://www.facebook.com/ogitu.id","https://www.instagram.com/ogitu.id","https://twitter.com/ogitu_id","https://www.tiktok.com/@ogitu.id"]}]}));return le({script:[{type:"application/ld+json",innerHTML:$(()=>JSON.stringify(ee.value))}]}),(i,t)=>{const p=z,te=oe,ae=W;return c(),O(re,null,{default:b(()=>[g(u(de),null,{default:b(()=>[e("title",null,_(L.value),1),e("meta",{name:"description",content:V.value},null,8,qe),e("meta",{name:"keywords",content:Z.value},null,8,De),t[8]||(t[8]=e("meta",{name:"robots",content:"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"},null,-1)),e("link",{rel:"canonical",href:h.value},null,8,He),s(" Pagination SEO "),r.meta.currentPage>1?(c(),m("link",{key:0,rel:"prev",href:`${h.value.replace(/page=\d+/,`page=${r.meta.currentPage-1}`)}`},null,8,Ne)):s("v-if",!0),r.meta.currentPage<r.meta.lastPage?(c(),m("link",{key:1,rel:"next",href:`${h.value.includes("page=")?h.value.replace(/page=\d+/,`page=${r.meta.currentPage+1}`):`${h.value}${h.value.includes("?")?"&":"?"}page=${r.meta.currentPage+1}`}`},null,8,Xe)):s("v-if",!0),s(" Open Graph "),e("meta",{property:"og:title",content:L.value},null,8,Ge),e("meta",{property:"og:description",content:V.value},null,8,We),t[9]||(t[9]=e("meta",{property:"og:type",content:"website"},null,-1)),e("meta",{property:"og:url",content:h.value},null,8,ze),t[10]||(t[10]=e("meta",{property:"og:site_name",content:"Ogitu"},null,-1)),t[11]||(t[11]=e("meta",{property:"og:locale",content:"id_ID"},null,-1)),e("meta",{property:"og:image",content:r.products[0]?.image||"https://ogitu.com/images/og-collections.jpg"},null,8,Je),t[12]||(t[12]=e("meta",{property:"og:image:width",content:"1200"},null,-1)),t[13]||(t[13]=e("meta",{property:"og:image:height",content:"630"},null,-1)),e("meta",{property:"og:image:alt",content:r.activeCategory?.name||"Koleksi Vape & Rokok Elektrik Ogitu"},null,8,Qe),s(" Twitter Card "),t[14]||(t[14]=e("meta",{name:"twitter:card",content:"summary_large_image"},null,-1)),t[15]||(t[15]=e("meta",{name:"twitter:site",content:"@ogitu_id"},null,-1)),e("meta",{name:"twitter:title",content:L.value},null,8,Ye),e("meta",{name:"twitter:description",content:V.value},null,8,Ze),e("meta",{name:"twitter:image",content:r.products[0]?.image||"https://ogitu.com/images/og-collections.jpg"},null,8,et),s(" Additional E-commerce Meta "),t[16]||(t[16]=e("meta",{property:"product:price:currency",content:"IDR"},null,-1)),r.products.length>0?(c(),m("meta",{key:2,property:"product:price:amount",content:String(r.products[0].discountPrice||r.products[0].price)},null,8,tt)):s("v-if",!0),e("meta",{property:"product:availability",content:r.products.some(d=>d.stock>0)?"in stock":"out of stock"},null,8,at)]),_:1}),e("div",rt,[s(" Page Header "),g(Ce,{"active-category":r.activeCategory},{"mobile-search":b(()=>[e("div",ot,[g(p,{modelValue:u(n).search,"onUpdate:modelValue":t[0]||(t[0]=d=>u(n).search=d),placeholder:"Cari produk...",icon:"i-heroicons-magnifying-glass",size:"lg",onKeyup:J(u(v),["enter"])},null,8,["modelValue","onKeyup"])])]),_:1},8,["active-category"]),g(ae,{class:"py-6 lg:py-8"},{default:b(()=>[e("div",it,[s(" Sidebar Filters (Desktop) "),g(Me,{filters:u(n),"onUpdate:filters":t[1]||(t[1]=d=>A(n)?n.value=d:null),categories:r.categories,brands:r.brands,"has-active-filters":u(x),onApply:u(v),onClear:u(w)},null,8,["filters","categories","brands","has-active-filters","onApply","onClear"]),s(" Main Content "),e("div",nt,[s(" Toolbar "),g(ce,{"view-mode":I.value,"onUpdate:viewMode":t[2]||(t[2]=d=>I.value=d),filters:u(n),"onUpdate:filters":t[3]||(t[3]=d=>A(n)?n.value=d:null),"total-shown":r.products.length,"total-products":r.meta.total,categories:r.categories,"active-filter-count":u(o),"has-active-filters":u(x),"sort-options":u(S),onOpenMobileFilter:t[4]||(t[4]=d=>k.value=!0),onApply:u(v),onClearFilter:u(T)},null,8,["view-mode","filters","total-shown","total-products","categories","active-filter-count","has-active-filters","sort-options","onApply","onClearFilter"]),s(" Products "),r.products.length>0?(c(),m("div",st,[s(" Grid View "),I.value==="grid"?(c(),m("div",lt,[(c(!0),m(P,null,j(r.products,d=>(c(),O(ke,{key:d.id,product:d,onAddToCart:H,onAddToWishlist:N},null,8,["product"]))),128))])):(c(),m(P,{key:1},[s(" List View "),e("div",dt,[(c(!0),m(P,null,j(r.products,d=>(c(),O(fe,{key:d.id,product:d,onAddToCart:H,onAddToWishlist:N},null,8,["product"]))),128))])],2112)),s(" Pagination "),Y.value>1?(c(),m("div",ut,[g(te,{page:q.value,"onUpdate:page":[t[5]||(t[5]=d=>q.value=d),u(l)],total:r.meta.total,"items-per-page":r.meta.perPage,"show-edges":""},null,8,["page","total","items-per-page","onUpdate:page"])])):s("v-if",!0)])):(c(),m(P,{key:1},[s(" Empty State "),g(ge,{onReset:u(w)},null,8,["onReset"])],2112))])])]),_:1})]),s(" Mobile Filter Sidebar "),g(me,{open:u(k),"onUpdate:open":t[6]||(t[6]=d=>A(k)?k.value=d:null),filters:u(n),"onUpdate:filters":t[7]||(t[7]=d=>A(n)?n.value=d:null),categories:r.categories,brands:r.brands,"has-active-filters":u(x),onApply:u(v),onClear:u(w)},null,8,["open","filters","categories","brands","has-active-filters","onApply","onClear"])]),_:1})}}});export{Tt as default};
