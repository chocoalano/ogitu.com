import{_ as $}from"./Modal-Bgd8PL5Y.js";import{_ as M}from"./Card-BjL1m_sW.js";import{_ as T,a as W}from"./Button-CI_-soaG.js";import{_ as F}from"./FormField-qFQ_28ZO.js";import{_ as P}from"./Textarea-CZyY9J1c.js";import{d as S,Q as z,R as A,h as p,e as v,w as s,f as l,a as h,j as u,o as m,b as e,t as o,u as x,k as y,n as b,l as _}from"./app-CyjtdGoI.js";import{f as V}from"./finance-XRy4NKgY.js";const I={class:"flex items-center gap-3"},R={class:"font-semibold text-gray-900 dark:text-white"},q={class:"text-sm text-gray-500 dark:text-gray-400"},D={key:0,class:"space-y-4"},O={class:"p-4 rounded-lg bg-gray-50 dark:bg-gray-800/50"},E={class:"grid grid-cols-2 gap-4 text-sm"},J={class:"font-bold text-lg text-gray-900 dark:text-white"},Q={class:"font-medium text-gray-900 dark:text-white"},G={class:"font-medium text-gray-900 dark:text-white"},H={class:"font-medium text-gray-900 dark:text-white"},K={key:0,class:"p-3 rounded-lg bg-warning-50 dark:bg-warning-900/20 text-warning-700 dark:text-warning-300 text-sm"},L={class:"flex items-start gap-2"},X={class:"flex justify-end gap-3"},ne=S({__name:"WithdrawalActionModal",props:z({withdrawal:{},type:{}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(a){const f=a,n=A(a,"modelValue"),r=p(!1),i=p(""),d=p(""),C=()=>{f.withdrawal&&(r.value=!0,f.type==="approve"?_.post(`/admin/finance/withdraw/${f.withdrawal.id}/approve`,{notes:i.value},{onFinish:()=>{r.value=!1,n.value=!1,i.value=""}}):_.post(`/admin/finance/withdraw/${f.withdrawal.id}/reject`,{reason:d.value||"Ditolak oleh admin"},{onFinish:()=>{r.value=!1,n.value=!1,d.value=""}}))},N=()=>{n.value=!1,i.value="",d.value=""};return(Y,t)=>{const g=T,w=P,j=F,k=W,U=M,B=$;return m(),v(B,{open:n.value,"onUpdate:open":t[2]||(t[2]=c=>n.value=c),ui:{overlay:"z-[100]",content:"z-[100]"}},{content:s(()=>[l(U,{class:"max-h-[85vh] overflow-y-auto"},{header:s(()=>[e("div",I,[e("div",{class:b(["p-2 rounded-lg",a.type==="approve"?"bg-success-100 dark:bg-success-900/30":"bg-error-100 dark:bg-error-900/30"])},[l(g,{name:a.type==="approve"?"i-heroicons-check-circle":"i-heroicons-x-circle",class:b(["w-5 h-5",a.type==="approve"?"text-success-600 dark:text-success-400":"text-error-600 dark:text-error-400"])},null,8,["name","class"])],2),e("div",null,[e("h3",R,o(a.type==="approve"?"Setujui Permintaan Withdraw":"Tolak Permintaan Withdraw"),1),e("p",q,o(a.withdrawal?.customerName),1)])])]),footer:s(()=>[e("div",X,[l(k,{color:"neutral",variant:"ghost",disabled:r.value,onClick:N},{default:s(()=>[...t[7]||(t[7]=[y(" Batal ",-1)])]),_:1},8,["disabled"]),l(k,{color:a.type==="approve"?"success":"error",loading:r.value,onClick:C},{default:s(()=>[y(o(a.type==="approve"?"Setujui":"Tolak"),1)]),_:1},8,["color","loading"])])]),default:s(()=>[a.withdrawal?(m(),h("div",D,[u(" Withdrawal Info "),e("div",O,[e("div",E,[e("div",null,[t[3]||(t[3]=e("p",{class:"text-gray-500 dark:text-gray-400"},"Jumlah",-1)),e("p",J,o(x(V)(a.withdrawal.amount)),1)]),e("div",null,[t[4]||(t[4]=e("p",{class:"text-gray-500 dark:text-gray-400"},"Bank",-1)),e("p",Q,o(a.withdrawal.bankName),1)]),e("div",null,[t[5]||(t[5]=e("p",{class:"text-gray-500 dark:text-gray-400"},"Nomor Rekening",-1)),e("p",G,o(a.withdrawal.accountNumber),1)]),e("div",null,[t[6]||(t[6]=e("p",{class:"text-gray-500 dark:text-gray-400"},"Atas Nama",-1)),e("p",H,o(a.withdrawal.accountName),1)])])]),u(" Notes/Reason Input "),l(j,{label:a.type==="approve"?"Catatan (Opsional)":"Alasan Penolakan",required:a.type==="reject"},{default:s(()=>[a.type==="approve"?(m(),v(w,{key:0,modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=c=>i.value=c),placeholder:"Tambahkan catatan jika diperlukan...",rows:3},null,8,["modelValue"])):(m(),v(w,{key:1,modelValue:d.value,"onUpdate:modelValue":t[1]||(t[1]=c=>d.value=c),placeholder:"Masukkan alasan penolakan...",rows:3},null,8,["modelValue"]))]),_:1},8,["label","required"]),u(" Warning for reject "),a.type==="reject"?(m(),h("div",K,[e("div",L,[l(g,{name:"i-heroicons-exclamation-triangle",class:"w-5 h-5 shrink-0 mt-0.5"}),e("p",null," Saldo sebesar "+o(x(V)(a.withdrawal.amount))+" akan dikembalikan ke wallet customer. ",1)])])):u("v-if",!0)])):u("v-if",!0)]),_:1})]),_:1},8,["open"])}}});export{ne as _};
