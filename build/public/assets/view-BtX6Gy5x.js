import{d as N,a as r,b as e,F as C,r as T,e as S,j as a,w as D,k as I,t as u,u as x,m as J,o as s,h as O,c as _,J as Y,n as R,D as Q,f as v,y as X,q as tt,l as et,aJ as at,aD as st,aa as rt}from"./app-CyjtdGoI.js";import{c as it,u as ot,_ as nt}from"./default.vue_vue_type_script_setup_true_lang-CxtMHnvj.js";import{_ as U,a as Z}from"./Button-CI_-soaG.js";import{h as q,g as lt}from"./ColorModeButton-Bf7Nr8w3.js";import{_ as ct}from"./Badge-DfumusWV.js";import{_ as dt}from"./Carousel-B71qS8NR.js";import{_ as K}from"./ProductCard.vue_vue_type_script_setup_true_lang-3a9nj5yL.js";import"./Modal-Bgd8PL5Y.js";import"./DropdownMenu-DxuVXSbh.js";import"./Checkbox-9qpvU9Db.js";import"./useFormControl-D_pV87FU.js";import"./VisuallyHiddenInput-BGOu5NlX.js";import"./Label-yeknIWsP.js";const ut={class:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800"},mt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3"},gt={class:"flex items-center gap-2 text-sm overflow-x-auto"},yt={key:1,class:"text-gray-900 dark:text-white font-medium line-clamp-1"},ft=N({__name:"ProductBreadcrumb",props:{items:{}},setup(t){return(i,n)=>{const p=U;return s(),r("div",ut,[e("div",mt,[e("nav",gt,[(s(!0),r(C,null,T(t.items,(o,l)=>(s(),r(C,{key:l},[o.href!=="#"?(s(),S(x(J),{key:0,href:o.href,class:"text-gray-500 dark:text-gray-400 hover:text-primary-500 transition-colors whitespace-nowrap"},{default:D(()=>[I(u(o.label),1)]),_:2},1032,["href"])):(s(),r("span",yt,u(o.label),1)),l<t.items.length-1?(s(),S(p,{key:2,name:"i-lucide-chevron-right",class:"w-4 h-4 text-gray-400 shrink-0"})):a("v-if",!0)],64))),128))])])])}}}),ht={class:"space-y-4"},xt=["src","alt"],pt={class:"absolute top-4 left-4 flex flex-col gap-2"},bt={key:0,class:"px-3 py-1.5 bg-linear-to-r from-primary-500 to-secondary-500 text-white text-xs font-bold rounded-full shadow-lg"},vt={key:1,class:"px-3 py-1.5 bg-red-500 text-white text-xs font-bold rounded-full shadow-lg"},kt={key:2,class:"absolute bottom-4 right-4 px-3 py-1.5 bg-black/60 text-white text-xs font-medium rounded-full"},wt={key:0,class:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide"},_t=["onClick"],$t=["src","alt"],Ct=N({__name:"ProductGallery",props:{images:{},productName:{},badge:{},discount:{}},setup(t){const i=t,n=O(0),p=O(!1),o=O({x:0,y:0}),l=g=>g?(g.startsWith("http://")||g.startsWith("https://"),g):"https://placehold.co/600x600/1a1a2e/ffffff?text=No+Image",m=_(()=>{const g=i.images[n.value];return{...g,url:l(g?.url)}}),f=_(()=>i.images.map(g=>({...g,url:l(g.url)}))),b=g=>{const d=g.currentTarget.getBoundingClientRect();o.value={x:(g.clientX-d.left)/d.width*100,y:(g.clientY-d.top)/d.height*100}},k=g=>{n.value=g},h=()=>{n.value>0&&n.value--},y=()=>{n.value<i.images.length-1&&n.value++};return(g,$)=>{const d=U;return s(),r("div",ht,[a(" Main Image "),e("div",{class:"relative aspect-square bg-white dark:bg-gray-900 rounded-2xl overflow-hidden border border-gray-200 dark:border-gray-800 cursor-zoom-in group",onMouseenter:$[1]||($[1]=w=>p.value=!0),onMouseleave:$[2]||($[2]=w=>p.value=!1),onMousemove:b},[e("img",{src:m.value.url,alt:m.value.altText||t.productName,class:R(["w-full h-full object-contain transition-transform duration-300",{"scale-150":p.value}]),style:Y(p.value?{transformOrigin:`${o.value.x}% ${o.value.y}%`}:{}),onError:$[0]||($[0]=w=>w.target.src="https://placehold.co/600x600/1a1a2e/ffffff?text=No+Image")},null,46,xt),a(" Badges "),e("div",pt,[t.badge?(s(),r("span",bt,u(t.badge),1)):a("v-if",!0),t.discount&&t.discount>0?(s(),r("span",vt," -"+u(t.discount)+"% ",1)):a("v-if",!0)]),a(" Navigation Arrows "),t.images.length>1&&n.value>0?(s(),r("button",{key:0,class:"absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg hover:bg-white dark:hover:bg-gray-700 transition-colors",onClick:Q(h,["stop"])},[v(d,{name:"i-lucide-chevron-left",class:"w-5 h-5"})])):a("v-if",!0),t.images.length>1&&n.value<t.images.length-1?(s(),r("button",{key:1,class:"absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg hover:bg-white dark:hover:bg-gray-700 transition-colors",onClick:Q(y,["stop"])},[v(d,{name:"i-lucide-chevron-right",class:"w-5 h-5"})])):a("v-if",!0),a(" Image Counter "),t.images.length>1?(s(),r("div",kt,u(n.value+1)+" / "+u(t.images.length),1)):a("v-if",!0)],32),a(" Thumbnail Images "),t.images.length>1?(s(),r("div",wt,[(s(!0),r(C,null,T(f.value,(w,P)=>(s(),r("button",{key:w.id,class:R(["w-20 h-20 shrink-0 rounded-xl overflow-hidden border-2 transition-all duration-200",n.value===P?"border-primary-500 ring-2 ring-primary-500/30":"border-gray-200 dark:border-gray-700 hover:border-primary-300"]),onClick:V=>k(P)},[e("img",{src:w.url,alt:w.altText||`${t.productName} - ${P+1}`,class:"w-full h-full object-cover",onError:$[3]||($[3]=V=>V.target.src="https://placehold.co/100x100/1a1a2e/ffffff?text=No+Image")},null,40,$t)],10,_t))),128))])):a("v-if",!0)])}}}),Pt=q(Ct,[["__scopeId","data-v-16f14d64"]]),St={class:"space-y-6"},Tt={class:"space-y-3"},It={class:"flex items-center gap-3 flex-wrap"},Bt={key:0,class:"px-3 py-1 bg-primary-50 dark:bg-primary-950 text-primary-600 dark:text-primary-400 text-xs font-semibold rounded-full"},Nt={class:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white"},At={class:"flex items-center gap-4 flex-wrap"},Ot={class:"flex items-center gap-1"},Rt={class:"flex"},Dt={class:"text-sm font-medium text-gray-900 dark:text-white ml-1"},Ut={class:"text-sm text-gray-500 dark:text-gray-400"},Vt={class:"text-sm text-gray-500 dark:text-gray-400"},jt={class:"space-y-2"},Mt={class:"flex items-end gap-3"},Wt={class:"text-3xl sm:text-4xl font-bold text-primary-600 dark:text-primary-400"},Lt={key:0,class:"text-lg text-gray-400 line-through mb-1"},Ht={key:0,class:"text-sm text-green-600 dark:text-green-400"},Gt=N({__name:"ProductInfoHeader",props:{product:{},categoryBreadcrumb:{},formattedPrice:{},formattedOriginalPrice:{}},setup(t){const i=t,n=_(()=>Number(i.product.rating)||0);return(p,o)=>{const l=U;return s(),r("div",St,[a(" Header "),e("div",Tt,[a(" Brand & Category "),e("div",It,[t.product.brand?(s(),r("span",Bt,u(t.product.brand),1)):a("v-if",!0),t.categoryBreadcrumb?(s(),S(x(J),{key:1,href:t.categoryBreadcrumb.href,class:"text-sm text-gray-500 dark:text-gray-400 hover:text-primary-500 transition-colors"},{default:D(()=>[I(u(t.categoryBreadcrumb.name),1)]),_:1},8,["href"])):a("v-if",!0)]),a(" Product Name "),e("h1",Nt,u(t.product.name),1),a(" Ratings & Stats "),e("div",At,[e("div",Ot,[e("div",Rt,[(s(),r(C,null,T(5,m=>v(l,{key:m,name:"i-lucide-star",class:R(["w-4 h-4",m<=Math.round(n.value)?"text-yellow-400 fill-yellow-400":"text-gray-300 dark:text-gray-600"])},null,8,["class"])),64))]),e("span",Dt,u(n.value.toFixed(1)),1),e("span",Ut," ("+u(t.product.totalReviews)+" ulasan) ",1)]),o[0]||(o[0]=e("span",{class:"text-gray-300 dark:text-gray-700"},"|",-1)),e("span",Vt,u(t.product.totalSold.toLocaleString("id-ID"))+" terjual ",1)])]),a(" Price "),e("div",jt,[e("div",Mt,[e("span",Wt,u(t.formattedPrice),1),t.formattedOriginalPrice?(s(),r("span",Lt,u(t.formattedOriginalPrice),1)):a("v-if",!0)]),t.product.discount>0?(s(),r("p",Ht," Kamu hemat "+u(t.product.discount)+"%! ",1)):a("v-if",!0)])])}}}),zt={key:0,class:"space-y-4"},Et={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},Ft={class:"flex flex-wrap gap-2"},Jt=["disabled","onClick"],qt={key:0,class:"text-xs text-red-500 ml-1"},Qt=N({__name:"ProductVariantSelector",props:{variantGroups:{},selectedVariant:{}},emits:["select"],setup(t,{emit:i}){const n=i,p=o=>{o.stock>0&&n("select",o)};return(o,l)=>Object.keys(t.variantGroups).length>0?(s(),r("div",zt,[(s(!0),r(C,null,T(t.variantGroups,(m,f)=>(s(),r("div",{key:f,class:"space-y-2"},[e("label",Et,u(f),1),e("div",Ft,[(s(!0),r(C,null,T(m,b=>(s(),r("button",{key:b.id,class:R(["px-4 py-2 rounded-lg border-2 text-sm font-medium transition-all duration-200",t.selectedVariant?.id===b.id?"border-primary-500 bg-primary-50 dark:bg-primary-950 text-primary-600 dark:text-primary-400":b.stock>0?"border-gray-200 dark:border-gray-700 hover:border-primary-300 text-gray-700 dark:text-gray-300":"border-gray-200 dark:border-gray-800 bg-gray-100 dark:bg-gray-900 text-gray-400 cursor-not-allowed"]),disabled:b.stock<=0,onClick:k=>p(b)},[I(u(b.value)+" ",1),b.stock<=0?(s(),r("span",qt,"(Habis)")):a("v-if",!0)],10,Jt))),128))])]))),128))])):a("v-if",!0)}}),Kt={class:"space-y-2"},Yt={class:"flex items-center gap-4"},Zt={class:"flex items-center border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden"},Xt=["disabled"],te=["value","min","max"],ee=["disabled"],ae={class:"text-sm text-gray-500 dark:text-gray-400"},se=N({__name:"ProductQuantitySelector",props:{modelValue:{},max:{},min:{}},emits:["update:modelValue"],setup(t,{emit:i}){const n=t,p=i,o=n.min??1,l=()=>{n.modelValue>o&&p("update:modelValue",n.modelValue-1)},m=()=>{n.modelValue<n.max&&p("update:modelValue",n.modelValue+1)},f=b=>{const k=b.target;let h=parseInt(k.value,10);isNaN(h)||h<o?h=o:h>n.max&&(h=n.max),p("update:modelValue",h)};return(b,k)=>{const h=U;return s(),r("div",Kt,[k[1]||(k[1]=e("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Jumlah",-1)),e("div",Yt,[e("div",Zt,[e("button",{class:"w-10 h-10 flex items-center justify-center hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:t.modelValue<=x(o),onClick:l},[v(h,{name:"i-lucide-minus",class:"w-4 h-4"})],8,Xt),e("input",{value:t.modelValue,type:"number",min:x(o),max:t.max,class:"w-16 h-10 text-center border-x border-gray-200 dark:border-gray-700 bg-transparent focus:outline-none",onInput:f},null,40,te),e("button",{class:"w-10 h-10 flex items-center justify-center hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:t.modelValue>=t.max,onClick:m},[v(h,{name:"i-lucide-plus",class:"w-4 h-4"})],8,ee)]),e("span",ae,[k[0]||(k[0]=I(" Stok: ",-1)),e("span",{class:R(t.max<=5?"text-red-500 font-semibold":"")},u(t.max),3)])])])}}}),re=q(se,[["__scopeId","data-v-05f5d141"]]),ie={class:"space-y-4"},oe={class:"flex flex-col sm:flex-row gap-3"},ne={class:"flex items-center gap-4 pt-2"},le=["disabled"],ce=N({__name:"ProductActions",props:{isOutOfStock:{type:Boolean},isWishlisted:{type:Boolean},isAddingToCart:{type:Boolean},isBuyingNow:{type:Boolean},isTogglingWishlist:{type:Boolean}},emits:["addToCart","buyNow","toggleWishlist","share"],setup(t,{emit:i}){const n=i;return(p,o)=>{const l=U,m=Z;return s(),r("div",ie,[a(" Primary Actions "),e("div",oe,[v(m,{size:"xl",color:"primary",class:"flex-1",disabled:t.isOutOfStock||t.isAddingToCart,loading:t.isAddingToCart,onClick:o[0]||(o[0]=f=>n("addToCart"))},{default:D(()=>[t.isAddingToCart?a("v-if",!0):(s(),S(l,{key:0,name:"i-lucide-shopping-cart",class:"w-5 h-5"})),I(" "+u(t.isOutOfStock?"Stok Habis":t.isAddingToCart?"Menambahkan...":"Tambah ke Keranjang"),1)]),_:1},8,["disabled","loading"]),v(m,{size:"xl",variant:"solid",color:"neutral",class:"flex-1",disabled:t.isOutOfStock||t.isBuyingNow,loading:t.isBuyingNow,onClick:o[1]||(o[1]=f=>n("buyNow"))},{default:D(()=>[t.isBuyingNow?a("v-if",!0):(s(),S(l,{key:0,name:"i-lucide-zap",class:"w-5 h-5"})),I(" "+u(t.isBuyingNow?"Memproses...":"Beli Sekarang"),1)]),_:1},8,["disabled","loading"])]),a(" Secondary Actions "),e("div",ne,[e("button",{class:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 hover:text-red-500 transition-colors disabled:opacity-50",disabled:t.isTogglingWishlist,onClick:o[2]||(o[2]=f=>n("toggleWishlist"))},[t.isTogglingWishlist?(s(),S(l,{key:1,name:"i-lucide-loader-2",class:"w-5 h-5 animate-spin"})):(s(),S(l,{key:0,name:"i-lucide-heart",class:R(["w-5 h-5",t.isWishlisted?"text-red-500 fill-red-500":""])},null,8,["class"])),I(" "+u(t.isWishlisted?"Tersimpan":"Simpan"),1)],8,le),e("button",{class:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 hover:text-primary-500 transition-colors",onClick:o[3]||(o[3]=f=>n("share"))},[v(l,{name:"i-lucide-share-2",class:"w-5 h-5"}),o[4]||(o[4]=I(" Bagikan ",-1))])])])}}}),de={class:"grid grid-cols-2 gap-4 p-4 bg-linear-to-br from-primary-50 to-secondary-50 dark:from-primary-950/50 dark:to-secondary-950/50 rounded-xl"},ue={class:"w-10 h-10 rounded-full bg-white dark:bg-gray-800 flex items-center justify-center shadow-sm"},me={class:"text-sm font-medium text-gray-900 dark:text-white"},ge={class:"text-xs text-gray-500 dark:text-gray-400"},ye=N({__name:"ProductHighlights",setup(t){const i=[{icon:"i-lucide-shield-check",iconColor:"text-green-500",title:"100% Original",subtitle:"Produk Asli"},{icon:"i-lucide-truck",iconColor:"text-blue-500",title:"Gratis Ongkir",subtitle:"Min. belanja"},{icon:"i-lucide-refresh-cw",iconColor:"text-orange-500",title:"7 Hari Retur",subtitle:"Jaminan"},{icon:"i-lucide-credit-card",iconColor:"text-purple-500",title:"Pembayaran Aman",subtitle:"Multi Opsi"}];return(n,p)=>{const o=U;return s(),r("div",de,[(s(),r(C,null,T(i,l=>e("div",{key:l.title,class:"flex items-center gap-3"},[e("div",ue,[v(o,{name:l.icon,class:R(["w-5 h-5",l.iconColor])},null,8,["name","class"])]),e("div",null,[e("p",me,u(l.title),1),e("p",ge,u(l.subtitle),1)])])),64))])}}}),fe={class:"bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800"},he={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:py-12"},xe={class:"flex border-b border-gray-200 dark:border-gray-800 overflow-x-auto scrollbar-hide"},pe=["onClick"],be={class:"py-6"},ve={key:0,class:"prose dark:prose-invert max-w-none"},ke=["innerHTML"],we={key:1,class:"text-gray-500 dark:text-gray-400"},_e={key:1,class:"space-y-4"},$e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ce={class:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl space-y-3"},Pe={class:"space-y-2 text-sm"},Se={class:"flex justify-between"},Te={class:"text-gray-900 dark:text-white font-medium"},Ie={class:"flex justify-between"},Be={class:"text-gray-900 dark:text-white font-medium"},Ne={class:"flex justify-between"},Ae={class:"text-gray-900 dark:text-white font-medium"},Oe={class:"flex justify-between"},Re={class:"text-gray-900 dark:text-white font-medium"},De={key:0,class:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl space-y-3"},Ue={class:"space-y-2 text-sm"},Ve={class:"text-gray-500 dark:text-gray-400"},je={class:"text-gray-900 dark:text-white font-medium"},Me={key:2,class:"space-y-6"},We={key:0,class:"text-center py-12"},Le={class:"space-y-8"},He={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Ge={class:"bg-gray-50 dark:bg-gray-800 rounded-xl p-6 text-center"},ze={class:"text-5xl font-bold text-primary-600 mb-2"},Ee={class:"flex justify-center gap-1 mb-2"},Fe={class:"text-sm text-gray-500 dark:text-gray-400"},Je={class:"md:col-span-2 bg-gray-50 dark:bg-gray-800 rounded-xl p-6"},qe={class:"space-y-2"},Qe={class:"text-sm text-gray-600 dark:text-gray-400 w-8"},Ke={class:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2"},Ye={class:"text-sm text-gray-500 dark:text-gray-400 w-12 text-right"},Ze={class:"space-y-4"},Xe={class:"font-semibold text-gray-900 dark:text-white"},ta={class:"flex items-start gap-4"},ea={class:"shrink-0"},aa=["src","alt"],sa={key:1,class:"w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center"},ra={class:"text-primary-600 dark:text-primary-400 font-semibold text-sm"},ia={class:"flex-1 min-w-0"},oa={class:"flex items-center justify-between gap-2 mb-1"},na={class:"flex items-center gap-2"},la={class:"font-medium text-gray-900 dark:text-white"},ca={class:"text-xs text-gray-500 dark:text-gray-400 shrink-0"},da={class:"flex gap-0.5 mb-2"},ua={key:0,class:"text-gray-700 dark:text-gray-300 text-sm"},ma={key:1,class:"flex gap-2 mt-3"},ga=["src","alt"],ya={key:2,class:"mt-3 text-xs text-gray-500 dark:text-gray-400"},fa=N({__name:"ProductDetailTabs",props:{product:{}},setup(t){const i=t,n=O("description"),p=_(()=>{if(!i.product.specifications)return[];try{return JSON.parse(i.product.specifications)}catch{return i.product.specifications.split(`
`).map(h=>{const[y,g]=h.split(":");return{key:y?.trim()||"",value:g?.trim()||""}})}}),o=_(()=>[{id:"description",label:"Deskripsi"},{id:"specifications",label:"Spesifikasi"},{id:"reviews",label:`Ulasan (${i.product.reviewSummary?.totalReviews||0})`}]),l=_(()=>i.product.reviewSummary),m=_(()=>i.product.reviews||[]),f=h=>new Date(h).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}),b=h=>Array.from({length:5},(y,g)=>g<h),k=h=>{if(!l.value||l.value.totalReviews===0)return 0;const y=l.value.ratingDistribution[h]||0;return Math.round(y/l.value.totalReviews*100)};return(h,y)=>{const g=U,$=ct;return s(),r("div",fe,[e("div",he,[a(" Tabs Navigation "),e("div",xe,[(s(!0),r(C,null,T(o.value,d=>(s(),r("button",{key:d.id,class:R(["px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap",n.value===d.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"]),onClick:w=>n.value=d.id},u(d.label),11,pe))),128))]),a(" Tab Content "),e("div",be,[a(" Description "),n.value==="description"?(s(),r("div",ve,[t.product.description?(s(),r("div",{key:0,innerHTML:t.product.description},null,8,ke)):(s(),r("p",we," Belum ada deskripsi untuk produk ini. "))])):a("v-if",!0),a(" Specifications "),n.value==="specifications"?(s(),r("div",_e,[e("div",$e,[a(" Basic Info "),e("div",Ce,[y[4]||(y[4]=e("h3",{class:"font-semibold text-gray-900 dark:text-white"},"Informasi Dasar",-1)),e("div",Pe,[e("div",Se,[y[0]||(y[0]=e("span",{class:"text-gray-500 dark:text-gray-400"},"SKU",-1)),e("span",Te,u(t.product.sku||"-"),1)]),e("div",Ie,[y[1]||(y[1]=e("span",{class:"text-gray-500 dark:text-gray-400"},"Berat",-1)),e("span",Be,u(t.product.weight)+"g",1)]),e("div",Ne,[y[2]||(y[2]=e("span",{class:"text-gray-500 dark:text-gray-400"},"Brand",-1)),e("span",Ae,u(t.product.brand||"-"),1)]),e("div",Oe,[y[3]||(y[3]=e("span",{class:"text-gray-500 dark:text-gray-400"},"Kategori",-1)),e("span",Re,u(t.product.category?.name||"-"),1)])])]),a(" Custom Specifications "),p.value.length>0?(s(),r("div",De,[y[5]||(y[5]=e("h3",{class:"font-semibold text-gray-900 dark:text-white"},"Spesifikasi Teknis",-1)),e("div",Ue,[(s(!0),r(C,null,T(p.value,(d,w)=>(s(),r("div",{key:w,class:"flex justify-between"},[e("span",Ve,u(d.key),1),e("span",je,u(d.value),1)]))),128))])])):a("v-if",!0)])])):a("v-if",!0),a(" Reviews "),n.value==="reviews"?(s(),r("div",Me,[a(" Empty State "),m.value.length===0?(s(),r("div",We,[v(g,{name:"i-lucide-message-square",class:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),y[6]||(y[6]=e("p",{class:"text-gray-500 dark:text-gray-400"},"Belum ada ulasan untuk produk ini.",-1)),y[7]||(y[7]=e("p",{class:"text-sm text-gray-400 dark:text-gray-500 mt-1"}," Jadilah yang pertama memberikan ulasan! ",-1))])):(s(),r(C,{key:1},[a(" Reviews Content "),e("div",Le,[a(" Review Summary "),e("div",He,[a(" Average Rating "),e("div",Ge,[e("div",ze,u(l.value?.averageRating?.toFixed(1)||"0.0"),1),e("div",Ee,[(s(!0),r(C,null,T(b(Math.round(l.value?.averageRating||0)),(d,w)=>(s(),S(g,{key:w,name:"i-lucide-star",class:R(["w-5 h-5",d?"text-yellow-400 fill-yellow-400":"text-gray-300"])},null,8,["name","class"]))),128))]),e("p",Fe,u(l.value?.totalReviews||0)+" ulasan ",1)]),a(" Rating Distribution "),e("div",Je,[y[8]||(y[8]=e("h4",{class:"font-semibold text-gray-900 dark:text-white mb-4"},"Distribusi Rating",-1)),e("div",qe,[(s(),r(C,null,T([5,4,3,2,1],d=>e("div",{key:d,class:"flex items-center gap-3"},[e("span",Qe,u(d)+" â˜…",1),e("div",Ke,[e("div",{class:"bg-yellow-400 h-2 rounded-full transition-all",style:Y({width:`${k(d)}%`})},null,4)]),e("span",Ye,u(l.value?.ratingDistribution?.[d]||0),1)])),64))])])]),a(" Reviews List "),e("div",Ze,[e("h4",Xe," Semua Ulasan ("+u(m.value.length)+") ",1),(s(!0),r(C,null,T(m.value,d=>(s(),r("div",{key:d.id,class:"bg-gray-50 dark:bg-gray-800 rounded-xl p-5"},[e("div",ta,[a(" Avatar "),e("div",ea,[d.customer?.avatar?(s(),r("img",{key:0,src:d.customer.avatar,alt:d.customer.fullName,class:"w-10 h-10 rounded-full object-cover"},null,8,aa)):(s(),r("div",sa,[e("span",ra,u(d.customer?.fullName?.charAt(0)?.toUpperCase()||"U"),1)]))]),a(" Content "),e("div",ia,[e("div",oa,[e("div",na,[e("span",la,u(d.customer?.fullName||"Pengguna"),1),d.isVerifiedPurchase?(s(),S($,{key:0,color:"success",variant:"soft",size:"xs"},{default:D(()=>[...y[9]||(y[9]=[I(" Pembeli Terverifikasi ",-1)])]),_:1})):a("v-if",!0)]),e("span",ca,u(f(d.createdAt)),1)]),a(" Rating Stars "),e("div",da,[(s(!0),r(C,null,T(b(d.rating),(w,P)=>(s(),S(g,{key:P,name:"i-lucide-star",class:R(["w-4 h-4",w?"text-yellow-400 fill-yellow-400":"text-gray-300"])},null,8,["name","class"]))),128))]),a(" Comment "),d.comment?(s(),r("p",ua,u(d.comment),1)):a("v-if",!0),a(" Review Images "),d.images&&d.images.length>0?(s(),r("div",ma,[(s(!0),r(C,null,T(d.images,(w,P)=>(s(),r("img",{key:P,src:w,alt:`Review image ${P+1}`,class:"w-16 h-16 object-cover rounded-lg cursor-pointer hover:opacity-80 transition-opacity"},null,8,ga))),128))])):a("v-if",!0),a(" Helpful "),d.helpfulCount>0?(s(),r("div",ya,[v(g,{name:"i-lucide-thumbs-up",class:"w-3 h-3 inline-block mr-1"}),I(" "+u(d.helpfulCount)+" orang menganggap ulasan ini membantu ",1)])):a("v-if",!0)])])]))),128))])])],2112))])):a("v-if",!0)])])])}}}),ha=q(fa,[["__scopeId","data-v-d188bcf2"]]),xa={key:0,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},pa={class:"flex items-center justify-between mb-6"},ba={class:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white"},va={key:0,class:"text-gray-500 dark:text-gray-400 text-sm mt-1"},ka={key:0,class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 gap-4"},F=N({__name:"ProductRecommendationSection",props:{title:{},subtitle:{},products:{},viewAllLink:{},viewAllLabel:{},useGrid:{type:Boolean}},setup(t){return(i,n)=>{const p=U,o=dt;return t.products.length>0?(s(),r("section",xa,[e("div",pa,[e("div",null,[e("h2",ba,u(t.title),1),t.subtitle?(s(),r("p",va,u(t.subtitle),1)):a("v-if",!0)]),t.viewAllLink?(s(),S(x(J),{key:0,href:t.viewAllLink,class:"text-primary-500 hover:text-primary-600 text-sm font-medium flex items-center gap-1"},{default:D(()=>[I(u(t.viewAllLabel||"Lihat Semua")+" ",1),v(p,{name:"i-lucide-arrow-right",class:"w-4 h-4"})]),_:1},8,["href"])):a("v-if",!0)]),a(" Grid Layout "),t.useGrid?(s(),r("div",ka,[(s(!0),r(C,null,T(t.products,l=>(s(),S(K,{key:l.id,product:l},null,8,["product"]))),128))])):(s(),r(C,{key:1},[a(" Carousel Layout "),v(o,{items:t.products,ui:{container:"gap-4",item:"basis-[380px] sm:basis-[300px]"},arrows:""},{default:D(({item:l})=>[v(K,{product:l,class:"h-full"},null,8,["product"])]),_:1},8,["items"])],2112))])):a("v-if",!0)}}}),wa={class:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 p-4 lg:hidden z-50"},_a={class:"flex items-center gap-3"},$a={class:"flex-1"},Ca={class:"text-lg font-bold text-primary-600 dark:text-primary-400"},Pa=N({__name:"ProductStickyFooter",props:{formattedPrice:{},isOutOfStock:{type:Boolean},isAddingToCart:{type:Boolean},isBuyingNow:{type:Boolean}},emits:["addToCart","buyNow"],setup(t,{emit:i}){const n=i;return(p,o)=>{const l=U,m=Z;return s(),r("div",wa,[e("div",_a,[e("div",$a,[o[2]||(o[2]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Harga",-1)),e("p",Ca,u(t.formattedPrice),1)]),v(m,{size:"lg",variant:"outline",class:"shrink-0",disabled:t.isOutOfStock||t.isAddingToCart,loading:t.isAddingToCart,onClick:o[0]||(o[0]=f=>n("addToCart"))},{default:D(()=>[t.isAddingToCart?a("v-if",!0):(s(),S(l,{key:0,name:"i-lucide-shopping-cart",class:"w-5 h-5"}))]),_:1},8,["disabled","loading"]),v(m,{size:"lg",color:"primary",class:"shrink-0",disabled:t.isOutOfStock||t.isBuyingNow,loading:t.isBuyingNow,onClick:o[1]||(o[1]=f=>n("buyNow"))},{default:D(()=>[I(u(t.isBuyingNow?"Memproses...":"Beli Sekarang"),1)]),_:1},8,["disabled","loading"])])])}}});function Sa(t,i){const{addToCart:n}=ot(),{toggleWishlist:p,checkWishlist:o}=it(),l=lt(),m=O(null),f=O(1),b=O(!1),k=O(!1),h=O(!1),y=O(!1),g=_(()=>{const c=Number(t.discountPrice)||Number(t.price);return m.value?m.value.price??c+(Number(m.value.priceAdjustment)||0):c}),$=_(()=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(g.value)),d=_(()=>{if(!t.discountPrice)return null;const c=Number(t.price),B=m.value?c+(Number(m.value.priceAdjustment)||0):c;return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(B)}),w=_(()=>m.value?m.value.stock:t.stock),P=_(()=>w.value<=0),V=_(()=>t.images.length===0?[{id:0,url:t.image,altText:t.name,isPrimary:!0}]:t.images),L=_(()=>{const c={};return t.variants.forEach(B=>{c[B.name]||(c[B.name]=[]),c[B.name].push(B)}),c}),H=_(()=>{const c=[{label:"Home",href:"/"},{label:"Koleksi",href:"/collections"}];return i?.parent&&c.push({label:i.parent.name,href:i.parent.href}),i&&c.push({label:i.name,href:i.href}),c.push({label:t.name,href:"#"}),c}),j=c=>{m.value=c,f.value=1},M=c=>{f.value=Math.max(1,Math.min(c,w.value))},G=async()=>{if(y.value)return;y.value=!0;const c=await p(t.id);c.success&&c.data?(b.value=c.data.isWishlisted,A("success",c.data.isWishlisted?"Produk ditambahkan ke wishlist":"Produk dihapus dari wishlist")):c.message&&A("error",c.message),y.value=!1},z=async()=>{if(k.value||P.value)return;if(t.variants.length>0&&!m.value){A("error","Silakan pilih varian terlebih dahulu");return}k.value=!0;const c=await n({productId:t.id,variantId:m.value?.id,quantity:f.value});c.success?A("success","Produk berhasil ditambahkan ke keranjang"):c.message&&A("error",c.message),k.value=!1},E=async()=>{if(h.value||P.value)return;if(t.variants.length>0&&!m.value){A("error","Silakan pilih varian terlebih dahulu");return}h.value=!0;const c=await n({productId:t.id,variantId:m.value?.id,quantity:f.value});c.success?et.visit("/checkout"):c.message&&A("error",c.message),h.value=!1},A=(c,B)=>{c==="success"?l.success(B):l.error(B)},W=async c=>{if(typeof globalThis.navigator<"u"&&"share"in globalThis.navigator)try{await globalThis.navigator.share({title:t.name,text:`Check out ${t.name} at Ogitu!`,url:c})}catch(B){console.error("Share cancelled or failed:",B)}else try{typeof globalThis.navigator<"u"&&globalThis.navigator.clipboard&&(await globalThis.navigator.clipboard.writeText(c),l.success("Link produk berhasil disalin"))}catch{l.error("Gagal menyalin link")}};return X(m,c=>{c&&f.value>c.stock&&(f.value=Math.max(1,c.stock))}),tt(async()=>{b.value=await o(t.id)}),{selectedVariant:m,quantity:f,isWishlisted:b,isAddingToCart:k,isBuyingNow:h,isTogglingWishlist:y,currentPrice:g,formattedCurrentPrice:$,formattedOriginalPrice:d,currentStock:w,isOutOfStock:P,productImages:V,variantGroups:L,breadcrumbItems:H,selectVariant:j,setQuantity:M,toggleWishlist:G,addToCart:z,buyNow:E,shareProduct:W,showToast:A}}function Ta(t){const{product:i,productImages:n,currentPrice:p,isOutOfStock:o,breadcrumbItems:l,appUrl:m}=t,f=_(()=>`${m}/products/${i.slug}`),b=_(()=>`${i.name} | Ogitu - Toko Vape & Rokok Elektrik`),k=_(()=>i.description?.substring(0,160)||`Beli ${i.name} dengan harga ${i.formattedPrice}. ${i.brand?`Brand: ${i.brand}.`:""} Tersedia di Ogitu - Toko Vape & Rokok Elektrik Terpercaya.`);at({title:b,description:k,ogTitle:b,ogDescription:k,ogImage:i.image,ogUrl:f,ogType:"website",twitterCard:"summary_large_image",twitterTitle:b,twitterDescription:k,twitterImage:i.image});const h=_(()=>({"@context":"https://schema.org","@type":"Product",name:i.name,description:i.description||k.value,image:n.value.map(g=>g.url),sku:i.sku,brand:i.brand?{"@type":"Brand",name:i.brand}:void 0,category:i.category?.name||"Vape & Rokok Elektrik",offers:{"@type":"Offer",url:f.value,priceCurrency:"IDR",price:p.value,priceValidUntil:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],availability:o.value?"https://schema.org/OutOfStock":"https://schema.org/InStock"},aggregateRating:i.totalReviews>0?{"@type":"AggregateRating",ratingValue:Number(i.rating),reviewCount:i.totalReviews,bestRating:5,worstRating:1}:void 0})),y=_(()=>({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:l.value.map((g,$)=>({"@type":"ListItem",position:$+1,name:g.label,item:g.href!=="#"?`${m}${g.href}`:void 0}))}));return st({link:[{rel:"canonical",href:f}],script:[{type:"application/ld+json",innerHTML:JSON.stringify(h.value)},{type:"application/ld+json",innerHTML:JSON.stringify(y.value)}]}),{canonicalUrl:f,seoTitle:b,seoDescription:k}}const Ia={class:"min-h-screen bg-gray-50 dark:bg-gray-950"},Ba={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-10"},Na={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12"},Aa={class:"space-y-6"},Oa={class:"space-y-8 lg:space-y-12 py-8 lg:py-12"},Ja=N({layout:nt,__name:"view",props:{product:{},categoryBreadcrumb:{},recommendations:{}},setup(t){const i=t,n=rt(),p=_(()=>n.props.appUrl||"https://ogitu.com"),{selectedVariant:o,quantity:l,isWishlisted:m,isAddingToCart:f,isBuyingNow:b,isTogglingWishlist:k,formattedCurrentPrice:h,formattedOriginalPrice:y,currentStock:g,isOutOfStock:$,productImages:d,variantGroups:w,breadcrumbItems:P,selectVariant:V,setQuantity:L,toggleWishlist:H,addToCart:j,buyNow:M,shareProduct:G}=Sa(i.product,i.categoryBreadcrumb),{canonicalUrl:z}=Ta({product:i.product,productImages:d,currentPrice:_(()=>i.product.discountPrice||i.product.price),isOutOfStock:$,breadcrumbItems:P,appUrl:p.value}),E=()=>{G(z.value)},A=W=>{L(W)};return(W,c)=>(s(),r("div",Ia,[a(" Breadcrumb "),v(ft,{items:x(P)},null,8,["items"]),a(" Main Product Section "),e("div",Ba,[e("div",Na,[a(" Product Images "),v(Pt,{images:x(d),"product-name":t.product.name,badge:t.product.badge,discount:t.product.discount},null,8,["images","product-name","badge","discount"]),a(" Product Info "),e("div",Aa,[a(" Header: Name, Rating, Price "),v(Gt,{product:t.product,"category-breadcrumb":t.categoryBreadcrumb,"formatted-price":x(h),"formatted-original-price":x(y)},null,8,["product","category-breadcrumb","formatted-price","formatted-original-price"]),a(" Variants "),v(Qt,{"variant-groups":x(w),"selected-variant":x(o),onSelect:x(V)},null,8,["variant-groups","selected-variant","onSelect"]),a(" Quantity "),v(re,{"model-value":x(l),max:x(g),"onUpdate:modelValue":A},null,8,["model-value","max"]),a(" Actions "),v(ce,{"is-out-of-stock":x($),"is-wishlisted":x(m),"is-adding-to-cart":x(f),"is-buying-now":x(b),"is-toggling-wishlist":x(k),onAddToCart:x(j),onBuyNow:x(M),onToggleWishlist:x(H),onShare:E},null,8,["is-out-of-stock","is-wishlisted","is-adding-to-cart","is-buying-now","is-toggling-wishlist","onAddToCart","onBuyNow","onToggleWishlist"]),a(" Product Highlights "),v(ye)])])]),a(" Product Details Tabs "),v(ha,{product:t.product},null,8,["product"]),a(" Recommendations Sections "),e("div",Oa,[a(" Products from Same Brand "),t.product.brand?(s(),S(F,{key:0,title:`Produk ${t.product.brand} Lainnya`,subtitle:"Lebih banyak pilihan dari brand yang sama",products:t.recommendations.brandProducts,"view-all-link":`/collections?brand=${t.product.brand}`},null,8,["title","products","view-all-link"])):a("v-if",!0),a(" Products from Same Category "),v(F,{title:"Produk Terkait",subtitle:t.categoryBreadcrumb?.name||"Kategori yang sama",products:t.recommendations.categoryProducts,"view-all-link":t.categoryBreadcrumb?.href},null,8,["subtitle","products","view-all-link"]),a(" Similar Products / You May Also Like "),t.recommendations.similarProducts.length>0?(s(),S(F,{key:1,title:"Rekomendasi Untukmu",subtitle:"Produk serupa yang mungkin kamu suka",products:t.recommendations.similarProducts,"use-grid":""},null,8,["products"])):a("v-if",!0)]),a(" Sticky Add to Cart (Mobile) "),v(Pa,{"formatted-price":x(h),"is-out-of-stock":x($),"is-adding-to-cart":x(f),"is-buying-now":x(b),onAddToCart:x(j),onBuyNow:x(M)},null,8,["formatted-price","is-out-of-stock","is-adding-to-cart","is-buying-now","onAddToCart","onBuyNow"]),a(" Spacer for sticky footer "),c[0]||(c[0]=e("div",{class:"h-24 lg:hidden"},null,-1))]))}});export{Ja as default};
