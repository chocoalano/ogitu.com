import{_ as L}from"./Card-BjL1m_sW.js";import{_ as N}from"./Switch-sBWkdoVy.js";import{a5 as T}from"./ColorModeButton-Bf7Nr8w3.js";import{a as H,_ as E}from"./Button-CI_-soaG.js";import{d as I,h as m,a as d,j as o,b as t,f as a,w as i,k as P,u as x,m as _,F as D,r as M,l as y,e as G,t as c,o as l}from"./app-CyjtdGoI.js";import{A as K}from"./admin-BzR6vrex.js";import{_ as Q,a as R,b as q,c as J}from"./DeleteConfirmModal.vue_vue_type_script_setup_true_lang-D464v-fQ.js";import{_ as O}from"./PromotionStatusBadge.vue_vue_type_script_setup_true_lang-DYYiyx6A.js";import"./Label-yeknIWsP.js";import"./useFormControl-D_pV87FU.js";import"./VisuallyHiddenInput-BGOu5NlX.js";import"./Tooltip-BrTR-Vq7.js";import"./SelectMenu-DKAhKU-v.js";import"./index-v4g8wp86.js";import"./Modal-Bgd8PL5Y.js";import"./Badge-DfumusWV.js";const W={class:"p-6 space-y-6"},X={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},Y={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Z={class:"absolute top-4 right-4 z-10"},tt={class:"space-y-4"},et={class:"font-semibold text-gray-900 dark:text-white pr-20 line-clamp-1"},st={key:0,class:"text-sm text-gray-500 dark:text-gray-400 line-clamp-2 mt-1"},at={class:"text-sm"},ot={class:"flex items-center gap-2 text-gray-600 dark:text-gray-300"},rt={class:"flex items-center gap-2 text-gray-500 dark:text-gray-400 mt-1"},nt={key:0,class:"space-y-2"},it={class:"flex items-center justify-between text-sm"},lt={class:"font-medium text-primary-600 dark:text-primary-400"},dt={class:"grid grid-cols-2 gap-4 pt-2 border-t border-gray-200 dark:border-gray-700"},ct={class:"text-center"},mt={class:"text-2xl font-bold text-gray-900 dark:text-white"},ut={class:"text-center"},pt={class:"text-2xl font-bold text-primary-600 dark:text-primary-400"},gt={class:"flex items-center justify-between pt-2 border-t border-gray-200 dark:border-gray-700"},ft={class:"flex items-center gap-1"},vt={class:"text-center py-12"},ht={key:2},zt=I({layout:K,__name:"index",props:{flashSales:{},pagination:{},stats:{},filters:{}},setup(r){const w=r,g=m(w.filters.status),f=m(w.filters.search),v=m(!1),h=m(!1),u=m(null),k=m(!1),B=()=>{v.value=!0,y.get("/admin/promotions/flash-sale",{status:g.value,search:f.value},{preserveState:!0,preserveScroll:!0,onFinish:()=>{v.value=!1}})},C=n=>{v.value=!0,y.get("/admin/promotions/flash-sale",{status:g.value,search:f.value,page:n},{preserveState:!0,preserveScroll:!0,onFinish:()=>{v.value=!1}})},S=n=>{y.post(`/admin/promotions/flash-sale/${n.id}/toggle`,{},{preserveScroll:!0})},U=n=>{u.value=n,h.value=!0},A=()=>{u.value&&(k.value=!0,y.delete(`/admin/promotions/flash-sale/${u.value.id}`,{preserveScroll:!0,onFinish:()=>{k.value=!1,h.value=!1,u.value=null}}))},$=n=>new Date(n).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return(n,s)=>{const p=H,b=E,j=T,z=N,F=L;return l(),d("div",W,[o(" Header "),t("div",X,[s[4]||(s[4]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Flash Sale"),t("p",{class:"text-gray-500 dark:text-gray-400"}," Kelola flash sale untuk meningkatkan penjualan ")],-1)),a(x(_),{href:"/admin/promotions/flash-sale/create"},{default:i(()=>[a(p,{icon:"i-heroicons-plus",color:"primary"},{default:i(()=>[...s[3]||(s[3]=[P(" Buat Flash Sale ",-1)])]),_:1})]),_:1})]),o(" Stats "),a(Q,{stats:r.stats,type:"flash-sale"},null,8,["stats"]),o(" Filters "),a(R,{status:g.value,"onUpdate:status":s[0]||(s[0]=e=>g.value=e),search:f.value,"onUpdate:search":s[1]||(s[1]=e=>f.value=e),onFilter:B},null,8,["status","search"]),o(" Flash Sales Grid "),r.flashSales.length>0?(l(),d("div",Y,[(l(!0),d(D,null,M(r.flashSales,e=>(l(),G(F,{key:e.id,class:"relative overflow-hidden"},{default:i(()=>[o(" Status Badge "),t("div",Z,[a(O,{status:e.status},null,8,["status"])]),t("div",tt,[o(" Header "),t("div",null,[t("h3",et,c(e.name),1),e.description?(l(),d("p",st,c(e.description),1)):o("v-if",!0)]),o(" Period "),t("div",at,[t("div",ot,[a(b,{name:"i-heroicons-calendar",class:"w-4 h-4"}),t("span",null,c($(e.startDate)),1)]),t("div",rt,[a(b,{name:"i-heroicons-arrow-right",class:"w-4 h-4"}),t("span",null,c($(e.endDate)),1)])]),o(" Progress (for active) "),e.status==="active"?(l(),d("div",nt,[t("div",it,[s[5]||(s[5]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Progress",-1)),t("span",lt,c(e.timeRemaining),1)]),a(j,{value:e.progress,color:"primary",size:"sm"},null,8,["value"])])):o("v-if",!0),o(" Stats "),t("div",dt,[t("div",ct,[t("p",mt,c(e.productCount),1),s[6]||(s[6]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Produk",-1))]),t("div",ut,[t("p",pt,c(e.totalSold),1),s[7]||(s[7]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Terjual",-1))])]),o(" Actions "),t("div",gt,[a(z,{"model-value":!!e.isActive,size:"sm","onUpdate:modelValue":V=>S(e)},null,8,["model-value","onUpdate:modelValue"]),t("div",ft,[a(x(_),{href:`/admin/promotions/flash-sale/${e.id}`},{default:i(()=>[a(p,{icon:"i-heroicons-eye",color:"neutral",variant:"ghost",size:"sm"})]),_:1},8,["href"]),a(x(_),{href:`/admin/promotions/flash-sale/${e.id}/edit`},{default:i(()=>[a(p,{icon:"i-heroicons-pencil",color:"neutral",variant:"ghost",size:"sm"})]),_:1},8,["href"]),a(p,{icon:"i-heroicons-trash",color:"error",variant:"ghost",size:"sm",onClick:V=>U(e)},null,8,["onClick"])])])])]),_:2},1024))),128))])):(l(),d(D,{key:1},[o(" Empty State "),a(F,null,{default:i(()=>[t("div",vt,[a(b,{name:"i-heroicons-bolt",class:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),s[9]||(s[9]=t("p",{class:"text-gray-500 dark:text-gray-400 mb-4"},"Belum ada flash sale",-1)),a(x(_),{href:"/admin/promotions/flash-sale/create"},{default:i(()=>[a(p,{icon:"i-heroicons-plus",color:"primary",variant:"soft"},{default:i(()=>[...s[8]||(s[8]=[P(" Buat Flash Sale Pertama ",-1)])]),_:1})]),_:1})])]),_:1})],2112)),o(" Pagination "),r.flashSales.length>0?(l(),d("div",ht,[a(q,{"current-page":r.pagination.currentPage,"last-page":r.pagination.lastPage,total:r.pagination.total,"per-page":r.pagination.perPage,onPageChange:C},null,8,["current-page","last-page","total","per-page"])])):o("v-if",!0),o(" Delete Modal "),a(J,{show:h.value,title:"Hapus Flash Sale",message:`Apakah Anda yakin ingin menghapus flash sale '${u.value?.name}'? Tindakan ini tidak dapat dibatalkan.`,loading:k.value,onClose:s[2]||(s[2]=e=>h.value=!1),onConfirm:A},null,8,["show","message","loading"])])}}});export{zt as default};
