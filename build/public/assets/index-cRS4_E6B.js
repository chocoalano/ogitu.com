import{_ as N}from"./Checkbox-9qpvU9Db.js";import{_ as O,a as D}from"./Button-CI_-soaG.js";import{d as K,h as b,c as A,a as h,f as o,b as t,u as v,i as M,j as r,w as u,m as y,k as f,t as m,e as $,F as j,r as W,o as p,n as X}from"./app-CyjtdGoI.js";import{_ as H}from"./default.vue_vue_type_script_setup_true_lang-CxtMHnvj.js";import{h as z}from"./ColorModeButton-Bf7Nr8w3.js";import"./useFormControl-D_pV87FU.js";import"./VisuallyHiddenInput-BGOu5NlX.js";import"./Label-yeknIWsP.js";import"./Modal-Bgd8PL5Y.js";import"./Badge-DfumusWV.js";import"./DropdownMenu-DxuVXSbh.js";const L={class:"min-h-screen bg-linear-to-b from-gray-50 via-white to-gray-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900"},V={class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12"},U={class:"flex items-center gap-2 text-sm mb-6"},G={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8"},J={class:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3"},Q={class:"w-12 h-12 rounded-2xl bg-linear-to-br from-pink-500 to-rose-500 flex items-center justify-center"},Y={class:"text-gray-500 dark:text-gray-400 mt-2"},Z={key:0,class:"flex items-center gap-3"},ee={key:0},te={class:"bg-white dark:bg-gray-800/80 rounded-2xl border border-gray-200/80 dark:border-gray-700/50 p-4 mb-4"},se={class:"flex items-center gap-3 cursor-pointer"},ae={class:"font-medium text-gray-700 dark:text-gray-300"},oe={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"},re={class:"relative aspect-square bg-gray-100 dark:bg-gray-700 overflow-hidden"},le=["src","alt"],ie={class:"absolute top-3 left-3"},ne=["onClick"],de={key:0,class:"absolute top-3 right-3 px-2 py-1 bg-red-500 text-white text-xs font-bold rounded-lg"},ce={key:1,class:"absolute inset-0 bg-black/50 flex items-center justify-center"},ue={class:"absolute bottom-3 left-3 right-3 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity"},pe={class:"p-4"},he={class:"font-medium text-gray-900 dark:text-white line-clamp-2 hover:text-primary-500 transition-colors mb-2"},me={class:"flex items-center gap-2"},fe={class:"text-lg font-bold text-primary-600 dark:text-primary-400"},ge={key:0,class:"text-sm text-gray-400 line-through"},ve={class:"flex gap-2 mt-4 sm:hidden"},ke={class:"text-center py-16"},xe={class:"relative inline-block mb-6"},be={class:"w-32 h-32 rounded-3xl bg-linear-to-br from-pink-500/20 to-rose-500/20 flex items-center justify-center"},ye={class:"absolute -top-2 -right-2 w-8 h-8 rounded-full bg-pink-500/20 flex items-center justify-center animate-bounce"},_e={class:"absolute -bottom-1 -left-3 w-6 h-6 rounded-full bg-rose-500/20 flex items-center justify-center animate-bounce delay-150"},we={class:"flex flex-col sm:flex-row items-center justify-center gap-4"},je={class:"mt-16 max-w-2xl mx-auto"},Se={class:"bg-linear-to-r from-pink-500/10 via-purple-500/10 to-primary-500/10 rounded-2xl p-6 border border-pink-500/20"},Ce={class:"flex items-start gap-4"},Ie={class:"w-12 h-12 rounded-xl bg-linear-to-br from-pink-500 to-purple-500 flex items-center justify-center shrink-0"},Te=K({layout:H,__name:"index",props:{items:{},totalItems:{}},setup(F){const n=b([...F.items]),i=b([]),k=b(null),x=b(null),_=b(!1),S=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(a),P=(a,e)=>Math.round((a-e)/a*100),w=()=>{if(typeof document>"u")return null;const a=document.cookie.match(/XSRF-TOKEN=([^;]+)/);return a?decodeURIComponent(a[1]):null},C=A(()=>n.value.length>0&&i.value.length===n.value.length),R=()=>{C.value?i.value=[]:i.value=n.value.map(a=>a.productId)},E=a=>{const e=i.value.indexOf(a);e>-1?i.value.splice(e,1):i.value.push(a)},I=async a=>{if(!k.value){k.value=a;try{const e=w(),d=await(await fetch(`/api/wishlist/${a}`,{method:"DELETE",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest",...e&&{"X-XSRF-TOKEN":e}}})).json();d.success?(n.value=n.value.filter(c=>c.productId!==a),i.value=i.value.filter(c=>c!==a)):alert(d.message||"Gagal menghapus dari wishlist")}catch(e){console.error("Failed to delete from wishlist:",e),alert("Terjadi kesalahan saat menghapus dari wishlist")}finally{k.value=null}}},T=async a=>{if(!x.value){x.value=a;try{const e=w(),d=await(await fetch(`/api/wishlist/${a}/move-to-cart`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest",...e&&{"X-XSRF-TOKEN":e}},body:JSON.stringify({quantity:1})})).json();d.success?(n.value=n.value.filter(c=>c.productId!==a),i.value=i.value.filter(c=>c!==a),alert("Produk berhasil dipindahkan ke keranjang")):alert(d.message||"Gagal memindahkan ke keranjang")}catch(e){console.error("Failed to move to cart:",e),alert("Terjadi kesalahan saat memindahkan ke keranjang")}finally{x.value=null}}},q=async()=>{if(_.value||i.value.length===0)return;_.value=!0;const a=w(),e=[];for(const l of i.value)try{const c=await(await fetch(`/api/wishlist/${l}/move-to-cart`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest",...a&&{"X-XSRF-TOKEN":a}},body:JSON.stringify({quantity:1})})).json();if(c.success)n.value=n.value.filter(s=>s.productId!==l);else{const s=n.value.find(g=>g.productId===l);e.push(`${s?.product.name}: ${c.message}`)}}catch(d){console.error("Failed to move to cart:",d)}i.value=[],_.value=!1,e.length>0?alert(`Beberapa produk gagal dipindahkan:
${e.join(`
`)}`):alert("Semua produk terpilih berhasil dipindahkan ke keranjang")},B=async()=>{if(i.value.length===0||!confirm(`Hapus ${i.value.length} item dari wishlist?`))return;const a=w();for(const e of i.value)try{await fetch(`/api/wishlist/${e}`,{method:"DELETE",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest",...a&&{"X-XSRF-TOKEN":a}}}),n.value=n.value.filter(l=>l.productId!==e)}catch(l){console.error("Failed to delete from wishlist:",l)}i.value=[]};return(a,e)=>{const l=O,d=D,c=N;return p(),h(j,null,[o(v(M),{title:"Wishlist - Ogitu"}),t("div",L,[r(" Background Effects "),e[10]||(e[10]=t("div",{class:"fixed inset-0 -z-10 overflow-hidden pointer-events-none"},[t("div",{class:"absolute top-0 left-1/4 w-125 h-125 bg-pink-500/10 rounded-full blur-3xl"}),t("div",{class:"absolute top-1/3 right-1/4 w-100 h-100 bg-purple-500/10 rounded-full blur-3xl"}),t("div",{class:"absolute bottom-1/4 left-1/2 w-150 h-75 bg-primary-500/5 rounded-full blur-3xl"})],-1)),t("div",V,[r(" Breadcrumb "),t("nav",U,[o(v(y),{href:"/",class:"text-gray-500 hover:text-primary-500 transition-colors"},{default:u(()=>[o(l,{name:"i-heroicons-home",class:"w-4 h-4"})]),_:1}),o(l,{name:"i-heroicons-chevron-right",class:"w-4 h-4 text-gray-400"}),e[0]||(e[0]=t("span",{class:"text-gray-900 dark:text-white font-medium"},"Wishlist",-1))]),r(" Header "),t("div",G,[t("div",null,[t("h1",J,[t("div",Q,[o(l,{name:"i-heroicons-heart-solid",class:"w-6 h-6 text-white"})]),e[1]||(e[1]=f(" Wishlist Saya ",-1))]),t("p",Y,m(n.value.length)+" produk favorit tersimpan ",1)]),r(" Bulk Actions "),n.value.length>0?(p(),h("div",Z,[i.value.length>0?(p(),$(d,{key:0,color:"primary",variant:"soft",loading:_.value,onClick:q},{default:u(()=>[o(l,{name:"i-heroicons-shopping-cart",class:"w-4 h-4 mr-2"}),f(" Pindahkan ke Keranjang ("+m(i.value.length)+") ",1)]),_:1},8,["loading"])):r("v-if",!0),i.value.length>0?(p(),$(d,{key:1,color:"red",variant:"soft",onClick:B},{default:u(()=>[o(l,{name:"i-heroicons-trash",class:"w-4 h-4 mr-2"}),f(" Hapus ("+m(i.value.length)+") ",1)]),_:1})):r("v-if",!0)])):r("v-if",!0)]),r(" Wishlist Content "),n.value.length>0?(p(),h("div",ee,[r(" Select All "),t("div",te,[t("label",se,[o(c,{"model-value":C.value,"onUpdate:modelValue":R},null,8,["model-value"]),t("span",ae," Pilih Semua ("+m(n.value.length)+" produk) ",1)])]),r(" Wishlist Grid "),t("div",oe,[(p(!0),h(j,null,W(n.value,s=>(p(),h("div",{key:s.id,class:X(["group bg-white dark:bg-gray-800/80 rounded-2xl border border-gray-200/80 dark:border-gray-700/50 overflow-hidden hover:shadow-xl transition-all duration-300",{"ring-2 ring-primary-500":i.value.includes(s.productId)}])},[r(" Product Image "),t("div",re,[o(v(y),{href:`/products/${s.product.slug}`},{default:u(()=>[t("img",{src:s.product.image,alt:s.product.name,class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,le)]),_:2},1032,["href"]),r(" Select Checkbox "),t("div",ie,[t("div",{class:"w-8 h-8 rounded-lg bg-white/90 dark:bg-gray-800/90 flex items-center justify-center cursor-pointer backdrop-blur-sm",onClick:g=>E(s.productId)},[o(c,{"model-value":i.value.includes(s.productId)},null,8,["model-value"])],8,ne)]),r(" Discount Badge "),s.product.discountPrice?(p(),h("div",de," -"+m(P(s.product.price,s.product.discountPrice))+"% ",1)):r("v-if",!0),r(" Out of Stock Overlay "),s.product.stock<=0||s.product.status!=="active"?(p(),h("div",ce,[...e[2]||(e[2]=[t("span",{class:"px-4 py-2 bg-gray-900/80 text-white text-sm font-medium rounded-lg"}," Stok Habis ",-1)])])):r("v-if",!0),r(" Quick Actions "),t("div",ue,[o(d,{color:"primary",size:"sm",class:"flex-1",loading:x.value===s.productId,disabled:s.product.stock<=0||s.product.status!=="active",onClick:g=>T(s.productId)},{default:u(()=>[o(l,{name:"i-heroicons-shopping-cart",class:"w-4 h-4 mr-1"}),e[3]||(e[3]=f(" Keranjang ",-1))]),_:1},8,["loading","disabled","onClick"]),o(d,{color:"red",variant:"soft",size:"sm",square:"",loading:k.value===s.productId,onClick:g=>I(s.productId)},{default:u(()=>[o(l,{name:"i-heroicons-trash",class:"w-4 h-4"})]),_:1},8,["loading","onClick"])])]),r(" Product Info "),t("div",pe,[r(" Product Name "),o(v(y),{href:`/products/${s.product.slug}`},{default:u(()=>[t("h3",he,m(s.product.name),1)]),_:2},1032,["href"]),r(" Price "),t("div",me,[t("span",fe,m(S(s.product.discountPrice||s.product.price)),1),s.product.discountPrice?(p(),h("span",ge,m(S(s.product.price)),1)):r("v-if",!0)]),r(" Stock Info "),t("p",{class:X(["text-xs mt-2",s.product.stock>0?"text-emerald-500":"text-red-500"])},m(s.product.stock>0?`Stok: ${s.product.stock}`:"Stok Habis"),3),r(" Mobile Actions "),t("div",ve,[o(d,{color:"primary",size:"sm",class:"flex-1",loading:x.value===s.productId,disabled:s.product.stock<=0||s.product.status!=="active",onClick:g=>T(s.productId)},{default:u(()=>[o(l,{name:"i-heroicons-shopping-cart",class:"w-4 h-4 mr-1"}),e[4]||(e[4]=f(" Keranjang ",-1))]),_:1},8,["loading","disabled","onClick"]),o(d,{color:"red",variant:"soft",size:"sm",square:"",loading:k.value===s.productId,onClick:g=>I(s.productId)},{default:u(()=>[o(l,{name:"i-heroicons-trash",class:"w-4 h-4"})]),_:1},8,["loading","onClick"])])])],2))),128))])])):(p(),h(j,{key:1},[r(" Empty State "),t("div",ke,[t("div",xe,[t("div",be,[o(l,{name:"i-heroicons-heart",class:"w-16 h-16 text-pink-500"})]),r(" Floating hearts animation "),t("div",ye,[o(l,{name:"i-heroicons-heart-solid",class:"w-4 h-4 text-pink-500"})]),t("div",_e,[o(l,{name:"i-heroicons-heart-solid",class:"w-3 h-3 text-rose-500"})])]),e[8]||(e[8]=t("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-3"}," Wishlist Masih Kosong ",-1)),e[9]||(e[9]=t("p",{class:"text-gray-500 dark:text-gray-400 max-w-md mx-auto mb-8"}," Simpan produk vape favoritmu di sini untuk memudahkan kamu menemukan dan membeli nanti. ",-1)),t("div",we,[o(v(y),{href:"/collections"},{default:u(()=>[o(d,{color:"primary",size:"lg"},{default:u(()=>[o(l,{name:"i-heroicons-shopping-bag",class:"w-5 h-5 mr-2"}),e[5]||(e[5]=f(" Mulai Belanja ",-1))]),_:1})]),_:1}),o(v(y),{href:"/dashboard"},{default:u(()=>[o(d,{variant:"ghost",color:"neutral",size:"lg"},{default:u(()=>[o(l,{name:"i-heroicons-arrow-left",class:"w-5 h-5 mr-2"}),e[6]||(e[6]=f(" Kembali ke Dashboard ",-1))]),_:1})]),_:1})]),r(" Vape Tips "),t("div",je,[t("div",Se,[t("div",Ce,[t("div",Ie,[o(l,{name:"i-heroicons-light-bulb",class:"w-6 h-6 text-white"})]),e[7]||(e[7]=t("div",{class:"text-left"},[t("h3",{class:"font-semibold text-gray-900 dark:text-white mb-1"},"Tips Belanja Vape"),t("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Gunakan wishlist untuk membandingkan produk sebelum membeli. Kamu juga bisa mendapat notifikasi ketika ada diskon pada produk di wishlist-mu! ")],-1))])])])])],2112))])])],64)}}}),Ae=z(Te,[["__scopeId","data-v-a67d89de"]]);export{Ae as default};
